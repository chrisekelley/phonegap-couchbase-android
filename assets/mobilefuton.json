{"README":"## Mobile Futon\n\nThis is a very basic Couchapp that allows you to browse data and applications stored within CouchDB with a UI that is focused on mobile devices\n\n### Usage\n\nMobile Futon is a plain couchapp, so to get started just\n\n    $ git clone git@github.com:daleharvey/mobilefuton.git\n    $ cd mobilefuton\n    $ couchapp init\n    $ couchapp push http://127.0.0.1:5984","couchapp":{"signatures":{"img/favicon.png":"78d6a3654153112cb7a98bb365290f28","js/sha1.js":"281a4ec66a809c04d3ae6fc8bb31f536","index.html":"a433e4a1b135d21bec63a847eaf7bd54","js/modernizr-1.7.min.js":"52b8fd529e8142bdb6c4f9e7f55aaec0","js/jquery-1.6.min.js":"3c379d07fafbaafecb78c98dd8630d0a","js/mobile.futon.js":"6911b643684faf5a37d06ef7d3f116da","css/main.css":"b6c7ec9f165df4f55c0e72de98bd6c31","js/google.fastbutton.js":"9292443648cfc3b8388f0c1272ef1a6c","js/renderer.js":"4c9dbbbe239005083ebf1284ad4e6995","img/icon72.png":"4a71769ab5da355d6b6ca83a0576e8b9","js/utils.js":"bd8f1baa5897786c818e77d6231feed3","js/jquery.couch.js":"3e893f469d8327277676da1c898e20f1","js/router.js":"79bcc23f8851d52c618e9b4408581ce0","js/mustache.js":"717514442c157cd97812ce1bf9199b3e"},"objects":{},"manifest":["README.md"]},"_attachments":{"img/favicon.png":{"content_type":"image/png","revpos":1,"digest":"md5-eNajZUFTESy3qYuzZSkPKA==","data":"AAABAAEAEBAAAAAAAABoBQAAFgAAACgAAAAQAAAAIAAAAAEACAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAQHXAB4e2gDBv/kANS3sALe1+AAYEuQAysn4AMrI+gD///8A7Oz8AIWE7ACkofYADQreAHVw8gCbmu8AExPZACki6wAXEeQAAADWAK2q9wAJB9wAUVHjAP7+/gB6eukAwsL1ABkT5QACAtcANi7sACsr3QAiGusAGBPkAAYE2QAWEOMA9/f9ANTU+ADx8P0AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJCQAAAAAAAAAAABoeExMCCQkTExMTExMbHhoaHhMBDwkXFSAbExMTGx4aGh4eHgkJDB4eHh4eHh4eGhoeDRkJCQkWExMYCQkLHhoaBRAJCQkJCQojCSQfGx4aHQkJCQkJFAkJCQMeHh4GHQAHCQkJCB4eBA4eHh4eEgAAIQkJCQkcHhEeHh4eHhIAAAAJCQAiCQkJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//AAD//wAA//8AAPn/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAQAAgAEAAMh/AAD//wAA//8AAP//AAA="},"js/sha1.js":{"content_type":"application/javascript","revpos":1,"digest":"md5-QboGgyyMA/YBLw1L+d33wQ==","data":"LyoNCiAqIEEgSmF2YVNjcmlwdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgU2VjdXJlIEhhc2ggQWxnb3JpdGhtLCBTSEEtMSwgYXMgZGVmaW5lZA0KICogaW4gRklQUyBQVUIgMTgwLTENCiAqIFZlcnNpb24gMi4xYSBDb3B5cmlnaHQgUGF1bCBKb2huc3RvbiAyMDAwIC0gMjAwMi4NCiAqIE90aGVyIGNvbnRyaWJ1dG9yczogR3JlZyBIb2x0LCBBbmRyZXcgS2VwZXJ0LCBZZG5hciwgTG9zdGluZXQNCiAqIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgTGljZW5zZQ0KICogU2VlIGh0dHA6Ly9wYWpob21lLm9yZy51ay9jcnlwdC9tZDUgZm9yIGRldGFpbHMuDQogKi8NCg0KLyoNCiAqIENvbmZpZ3VyYWJsZSB2YXJpYWJsZXMuIFlvdSBtYXkgbmVlZCB0byB0d2VhayB0aGVzZSB0byBiZSBjb21wYXRpYmxlIHdpdGgNCiAqIHRoZSBzZXJ2ZXItc2lkZSwgYnV0IHRoZSBkZWZhdWx0cyB3b3JrIGluIG1vc3QgY2FzZXMuDQogKi8NCnZhciBoZXhjYXNlID0gMDsgIC8qIGhleCBvdXRwdXQgZm9ybWF0LiAwIC0gbG93ZXJjYXNlOyAxIC0gdXBwZXJjYXNlICAgICAgICAqLw0KdmFyIGI2NHBhZCAgPSAiPSI7IC8qIGJhc2UtNjQgcGFkIGNoYXJhY3Rlci4gIj0iIGZvciBzdHJpY3QgUkZDIGNvbXBsaWFuY2UgICAqLw0KdmFyIGNocnN6ICAgPSA4OyAgLyogYml0cyBwZXIgaW5wdXQgY2hhcmFjdGVyLiA4IC0gQVNDSUk7IDE2IC0gVW5pY29kZSAgICAgICovDQoNCi8qDQogKiBUaGVzZSBhcmUgdGhlIGZ1bmN0aW9ucyB5b3UnbGwgdXN1YWxseSB3YW50IHRvIGNhbGwNCiAqIFRoZXkgdGFrZSBzdHJpbmcgYXJndW1lbnRzIGFuZCByZXR1cm4gZWl0aGVyIGhleCBvciBiYXNlLTY0IGVuY29kZWQgc3RyaW5ncw0KICovDQpmdW5jdGlvbiBoZXhfc2hhMShzKXtyZXR1cm4gYmluYjJoZXgoY29yZV9zaGExKHN0cjJiaW5iKHMpLHMubGVuZ3RoICogY2hyc3opKTt9DQpmdW5jdGlvbiBiNjRfc2hhMShzKXtyZXR1cm4gYmluYjJiNjQoY29yZV9zaGExKHN0cjJiaW5iKHMpLHMubGVuZ3RoICogY2hyc3opKTt9DQpmdW5jdGlvbiBzdHJfc2hhMShzKXtyZXR1cm4gYmluYjJzdHIoY29yZV9zaGExKHN0cjJiaW5iKHMpLHMubGVuZ3RoICogY2hyc3opKTt9DQpmdW5jdGlvbiBoZXhfaG1hY19zaGExKGtleSwgZGF0YSl7IHJldHVybiBiaW5iMmhleChjb3JlX2htYWNfc2hhMShrZXksIGRhdGEpKTt9DQpmdW5jdGlvbiBiNjRfaG1hY19zaGExKGtleSwgZGF0YSl7IHJldHVybiBiaW5iMmI2NChjb3JlX2htYWNfc2hhMShrZXksIGRhdGEpKTt9DQpmdW5jdGlvbiBzdHJfaG1hY19zaGExKGtleSwgZGF0YSl7IHJldHVybiBiaW5iMnN0cihjb3JlX2htYWNfc2hhMShrZXksIGRhdGEpKTt9DQoNCi8qDQogKiBQZXJmb3JtIGEgc2ltcGxlIHNlbGYtdGVzdCB0byBzZWUgaWYgdGhlIFZNIGlzIHdvcmtpbmcNCiAqLw0KZnVuY3Rpb24gc2hhMV92bV90ZXN0KCkNCnsNCiAgcmV0dXJuIGhleF9zaGExKCJhYmMiKSA9PSAiYTk5OTNlMzY0NzA2ODE2YWJhM2UyNTcxNzg1MGMyNmM5Y2QwZDg5ZCI7DQp9DQoNCi8qDQogKiBDYWxjdWxhdGUgdGhlIFNIQS0xIG9mIGFuIGFycmF5IG9mIGJpZy1lbmRpYW4gd29yZHMsIGFuZCBhIGJpdCBsZW5ndGgNCiAqLw0KZnVuY3Rpb24gY29yZV9zaGExKHgsIGxlbikNCnsNCiAgLyogYXBwZW5kIHBhZGRpbmcgKi8NCiAgeFtsZW4gPj4gNV0gfD0gMHg4MCA8PCAoMjQgLSBsZW4gJSAzMik7DQogIHhbKChsZW4gKyA2NCA+PiA5KSA8PCA0KSArIDE1XSA9IGxlbjsNCg0KICB2YXIgdyA9IEFycmF5KDgwKTsNCiAgdmFyIGEgPSAgMTczMjU4NDE5MzsNCiAgdmFyIGIgPSAtMjcxNzMzODc5Ow0KICB2YXIgYyA9IC0xNzMyNTg0MTk0Ow0KICB2YXIgZCA9ICAyNzE3MzM4Nzg7DQogIHZhciBlID0gLTEwMDk1ODk3NzY7DQoNCiAgZm9yKHZhciBpID0gMDsgaSA8IHgubGVuZ3RoOyBpICs9IDE2KQ0KICB7DQogICAgdmFyIG9sZGEgPSBhOw0KICAgIHZhciBvbGRiID0gYjsNCiAgICB2YXIgb2xkYyA9IGM7DQogICAgdmFyIG9sZGQgPSBkOw0KICAgIHZhciBvbGRlID0gZTsNCg0KICAgIGZvcih2YXIgaiA9IDA7IGogPCA4MDsgaisrKQ0KICAgIHsNCiAgICAgIGlmKGogPCAxNikgd1tqXSA9IHhbaSArIGpdOw0KICAgICAgZWxzZSB3W2pdID0gcm9sKHdbai0zXSBeIHdbai04XSBeIHdbai0xNF0gXiB3W2otMTZdLCAxKTsNCiAgICAgIHZhciB0ID0gc2FmZV9hZGQoc2FmZV9hZGQocm9sKGEsIDUpLCBzaGExX2Z0KGosIGIsIGMsIGQpKSwNCiAgICAgICAgICAgICAgICAgICAgICAgc2FmZV9hZGQoc2FmZV9hZGQoZSwgd1tqXSksIHNoYTFfa3QoaikpKTsNCiAgICAgIGUgPSBkOw0KICAgICAgZCA9IGM7DQogICAgICBjID0gcm9sKGIsIDMwKTsNCiAgICAgIGIgPSBhOw0KICAgICAgYSA9IHQ7DQogICAgfQ0KDQogICAgYSA9IHNhZmVfYWRkKGEsIG9sZGEpOw0KICAgIGIgPSBzYWZlX2FkZChiLCBvbGRiKTsNCiAgICBjID0gc2FmZV9hZGQoYywgb2xkYyk7DQogICAgZCA9IHNhZmVfYWRkKGQsIG9sZGQpOw0KICAgIGUgPSBzYWZlX2FkZChlLCBvbGRlKTsNCiAgfQ0KICByZXR1cm4gQXJyYXkoYSwgYiwgYywgZCwgZSk7DQoNCn0NCg0KLyoNCiAqIFBlcmZvcm0gdGhlIGFwcHJvcHJpYXRlIHRyaXBsZXQgY29tYmluYXRpb24gZnVuY3Rpb24gZm9yIHRoZSBjdXJyZW50DQogKiBpdGVyYXRpb24NCiAqLw0KZnVuY3Rpb24gc2hhMV9mdCh0LCBiLCBjLCBkKQ0Kew0KICBpZih0IDwgMjApIHJldHVybiAoYiAmIGMpIHwgKCh+YikgJiBkKTsNCiAgaWYodCA8IDQwKSByZXR1cm4gYiBeIGMgXiBkOw0KICBpZih0IDwgNjApIHJldHVybiAoYiAmIGMpIHwgKGIgJiBkKSB8IChjICYgZCk7DQogIHJldHVybiBiIF4gYyBeIGQ7DQp9DQoNCi8qDQogKiBEZXRlcm1pbmUgdGhlIGFwcHJvcHJpYXRlIGFkZGl0aXZlIGNvbnN0YW50IGZvciB0aGUgY3VycmVudCBpdGVyYXRpb24NCiAqLw0KZnVuY3Rpb24gc2hhMV9rdCh0KQ0Kew0KICByZXR1cm4gKHQgPCAyMCkgPyAgMTUxODUwMDI0OSA6ICh0IDwgNDApID8gIDE4NTk3NzUzOTMgOg0KICAgICAgICAgKHQgPCA2MCkgPyAtMTg5NDAwNzU4OCA6IC04OTk0OTc1MTQ7DQp9DQoNCi8qDQogKiBDYWxjdWxhdGUgdGhlIEhNQUMtU0hBMSBvZiBhIGtleSBhbmQgc29tZSBkYXRhDQogKi8NCmZ1bmN0aW9uIGNvcmVfaG1hY19zaGExKGtleSwgZGF0YSkNCnsNCiAgdmFyIGJrZXkgPSBzdHIyYmluYihrZXkpOw0KICBpZihia2V5Lmxlbmd0aCA+IDE2KSBia2V5ID0gY29yZV9zaGExKGJrZXksIGtleS5sZW5ndGggKiBjaHJzeik7DQoNCiAgdmFyIGlwYWQgPSBBcnJheSgxNiksIG9wYWQgPSBBcnJheSgxNik7DQogIGZvcih2YXIgaSA9IDA7IGkgPCAxNjsgaSsrKQ0KICB7DQogICAgaXBhZFtpXSA9IGJrZXlbaV0gXiAweDM2MzYzNjM2Ow0KICAgIG9wYWRbaV0gPSBia2V5W2ldIF4gMHg1QzVDNUM1QzsNCiAgfQ0KDQogIHZhciBoYXNoID0gY29yZV9zaGExKGlwYWQuY29uY2F0KHN0cjJiaW5iKGRhdGEpKSwgNTEyICsgZGF0YS5sZW5ndGggKiBjaHJzeik7DQogIHJldHVybiBjb3JlX3NoYTEob3BhZC5jb25jYXQoaGFzaCksIDUxMiArIDE2MCk7DQp9DQoNCi8qDQogKiBBZGQgaW50ZWdlcnMsIHdyYXBwaW5nIGF0IDJeMzIuIFRoaXMgdXNlcyAxNi1iaXQgb3BlcmF0aW9ucyBpbnRlcm5hbGx5DQogKiB0byB3b3JrIGFyb3VuZCBidWdzIGluIHNvbWUgSlMgaW50ZXJwcmV0ZXJzLg0KICovDQpmdW5jdGlvbiBzYWZlX2FkZCh4LCB5KQ0Kew0KICB2YXIgbHN3ID0gKHggJiAweEZGRkYpICsgKHkgJiAweEZGRkYpOw0KICB2YXIgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNik7DQogIHJldHVybiAobXN3IDw8IDE2KSB8IChsc3cgJiAweEZGRkYpOw0KfQ0KDQovKg0KICogQml0d2lzZSByb3RhdGUgYSAzMi1iaXQgbnVtYmVyIHRvIHRoZSBsZWZ0Lg0KICovDQpmdW5jdGlvbiByb2wobnVtLCBjbnQpDQp7DQogIHJldHVybiAobnVtIDw8IGNudCkgfCAobnVtID4+PiAoMzIgLSBjbnQpKTsNCn0NCg0KLyoNCiAqIENvbnZlcnQgYW4gOC1iaXQgb3IgMTYtYml0IHN0cmluZyB0byBhbiBhcnJheSBvZiBiaWctZW5kaWFuIHdvcmRzDQogKiBJbiA4LWJpdCBmdW5jdGlvbiwgY2hhcmFjdGVycyA+MjU1IGhhdmUgdGhlaXIgaGktYnl0ZSBzaWxlbnRseSBpZ25vcmVkLg0KICovDQpmdW5jdGlvbiBzdHIyYmluYihzdHIpDQp7DQogIHZhciBiaW4gPSBBcnJheSgpOw0KICB2YXIgbWFzayA9ICgxIDw8IGNocnN6KSAtIDE7DQogIGZvcih2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoICogY2hyc3o7IGkgKz0gY2hyc3opDQogICAgYmluW2k+PjVdIHw9IChzdHIuY2hhckNvZGVBdChpIC8gY2hyc3opICYgbWFzaykgPDwgKDMyIC0gY2hyc3ogLSBpJTMyKTsNCiAgcmV0dXJuIGJpbjsNCn0NCg0KLyoNCiAqIENvbnZlcnQgYW4gYXJyYXkgb2YgYmlnLWVuZGlhbiB3b3JkcyB0byBhIHN0cmluZw0KICovDQpmdW5jdGlvbiBiaW5iMnN0cihiaW4pDQp7DQogIHZhciBzdHIgPSAiIjsNCiAgdmFyIG1hc2sgPSAoMSA8PCBjaHJzeikgLSAxOw0KICBmb3IodmFyIGkgPSAwOyBpIDwgYmluLmxlbmd0aCAqIDMyOyBpICs9IGNocnN6KQ0KICAgIHN0ciArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKChiaW5baT4+NV0gPj4+ICgzMiAtIGNocnN6IC0gaSUzMikpICYgbWFzayk7DQogIHJldHVybiBzdHI7DQp9DQoNCi8qDQogKiBDb252ZXJ0IGFuIGFycmF5IG9mIGJpZy1lbmRpYW4gd29yZHMgdG8gYSBoZXggc3RyaW5nLg0KICovDQpmdW5jdGlvbiBiaW5iMmhleChiaW5hcnJheSkNCnsNCiAgdmFyIGhleF90YWIgPSBoZXhjYXNlID8gIjAxMjM0NTY3ODlBQkNERUYiIDogIjAxMjM0NTY3ODlhYmNkZWYiOw0KICB2YXIgc3RyID0gIiI7DQogIGZvcih2YXIgaSA9IDA7IGkgPCBiaW5hcnJheS5sZW5ndGggKiA0OyBpKyspDQogIHsNCiAgICBzdHIgKz0gaGV4X3RhYi5jaGFyQXQoKGJpbmFycmF5W2k+PjJdID4+ICgoMyAtIGklNCkqOCs0KSkgJiAweEYpICsNCiAgICAgICAgICAgaGV4X3RhYi5jaGFyQXQoKGJpbmFycmF5W2k+PjJdID4+ICgoMyAtIGklNCkqOCAgKSkgJiAweEYpOw0KICB9DQogIHJldHVybiBzdHI7DQp9DQoNCi8qDQogKiBDb252ZXJ0IGFuIGFycmF5IG9mIGJpZy1lbmRpYW4gd29yZHMgdG8gYSBiYXNlLTY0IHN0cmluZw0KICovDQpmdW5jdGlvbiBiaW5iMmI2NChiaW5hcnJheSkNCnsNCiAgdmFyIHRhYiA9ICJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvIjsNCiAgdmFyIHN0ciA9ICIiOw0KICBmb3IodmFyIGkgPSAwOyBpIDwgYmluYXJyYXkubGVuZ3RoICogNDsgaSArPSAzKQ0KICB7DQogICAgdmFyIHRyaXBsZXQgPSAoKChiaW5hcnJheVtpICAgPj4gMl0gPj4gOCAqICgzIC0gIGkgICAlNCkpICYgMHhGRikgPDwgMTYpDQogICAgICAgICAgICAgICAgfCAoKChiaW5hcnJheVtpKzEgPj4gMl0gPj4gOCAqICgzIC0gKGkrMSklNCkpICYgMHhGRikgPDwgOCApDQogICAgICAgICAgICAgICAgfCAgKChiaW5hcnJheVtpKzIgPj4gMl0gPj4gOCAqICgzIC0gKGkrMiklNCkpICYgMHhGRik7DQogICAgZm9yKHZhciBqID0gMDsgaiA8IDQ7IGorKykNCiAgICB7DQogICAgICBpZihpICogOCArIGogKiA2ID4gYmluYXJyYXkubGVuZ3RoICogMzIpIHN0ciArPSBiNjRwYWQ7DQogICAgICBlbHNlIHN0ciArPSB0YWIuY2hhckF0KCh0cmlwbGV0ID4+IDYqKDMtaikpICYgMHgzRik7DQogICAgfQ0KICB9DQogIHJldHVybiBzdHI7DQp9DQo="},"index.html":{"content_type":"text/html","revpos":1,"digest":"md5-9oxbeTkZiZ5loeZPdP3n3Q==","data":"PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KICA8aGVhZD4KCiAgICA8bWV0YSBjaGFyc2V0PSJ1dGYtOCIgLz4KICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IgogICAgICAgICAgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLG1pbmltdW0tc2NhbGU9MSxtYXhpbXVtLXNjYWxlPTEiIC8+CiAgICA8bWV0YSBuYW1lPSJhcHBsZS1tb2JpbGUtd2ViLWFwcC1jYXBhYmxlIiBjb250ZW50PSJ5ZXMiPgoKICAgIDx0aXRsZT5Nb2JpbGUgRnV0b248L3RpdGxlPgoKICAgIDxsaW5rIHJlbD0iYXBwbGUtdG91Y2gtaWNvbi1wcmVjb21wb3NlZCIgaHJlZj0iLi9pbWcvaWNvbjcyLnBuZyIvPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJjc3MvbWFpbi5jc3MiPgoKICA8L2hlYWQ+CgogIDxib2R5PgoKICAgIDxkaXYgaWQ9ImhlYWRlciI+CiAgICAgIDxhIGhyZWY9IiMvIiBjbGFzcz0iaG9tZSI+Y291Y2g8L2E+CiAgICAgIDxoMSBpZD0idGl0bGUiPk1vYmlsZSBGdXRvbjwvaDE+CiAgICAgIDxkaXYgaWQ9InVzZXIiIGNsYXNzPSJwbGFpbl9idG4iPiZuYnNwOzwvZGl2PgogICAgPC9kaXY+CgogICAgPGRpdiBpZD0iY29udGVudCI+PC9kaXY+CgoKICAgIDxzY3JpcHQgdHlwZT0idGV4dC9odG1sIiBpZD0iaG9tZV90cGwiPgogICAgICA8ZGl2IGNsYXNzPSJpbmZvIj4KICAgICAgICA8cD48c3BhbiBjbGFzcz0ibGlnaHQiPlZlcnNpb246PC9zcGFuPjxiciAvPnt7dmVyc2lvbn19PC9wPgogICAgICAgIDxwPjxzcGFuIGNsYXNzPSJsaWdodCI+Q3VycmVudCBIb3N0PC9zcGFuPjxiciAvPmh0dHA6Ly97e2lwfX06e3twb3J0fX0vPC9wPgogICAgICA8L2Rpdj4KICAgICAgPHVsPgogICAgICAgIDxsaT48YSBocmVmPSIjL2RiLyI+RGF0YWJhc2VzCiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJhcnJvdyByaWdodCI+4oC6PC9zcGFuPjwvYT48L2xpPgogICAgICAgIDxsaT48YSBocmVmPSIjL3JlcGxpY2F0aW9uLyI+UmVwbGljYXRpb24KICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImFycm93IHJpZ2h0Ij7igLo8L3NwYW4+PC9hPjwvbGk+CiAgICAgICAgPGxpPjxhIGhyZWY9IiMvdGFza3MvIj5BY3RpdmUgVGFza3MKICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImFycm93IHJpZ2h0Ij7igLo8L3NwYW4+PC9hPjwvbGk+CiAgICAgICAgPGxpPjxhIGhyZWY9IiMvY291Y2hhcHBzLyI+Q291Y2hBcHBzCiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJhcnJvdyByaWdodCI+4oC6PC9zcGFuPjwvYT48L2xpPgogICAgICAgIDxsaT48YSBocmVmPSIjL2NvbmZpZy8iPkNvbmZpZwogICAgICAgICAgICA8c3BhbiBjbGFzcz0iYXJyb3cgcmlnaHQiPuKAujwvc3Bhbj48L2E+PC9saT4KICAgICAgPC91bD4KCiAgICAgIHt7I2FkbWlucGFydHl9fQogICAgICA8cCBjbGFzcz0iYWRtaW5wYXJ0eSI+WW91IGFyZSBjdXJyZW50bHkgaW4gQWRtaW4gUGFydHkhIDwvcD4KICAgICAge3svYWRtaW5wYXJ0eX19CiAgICA8L3NjcmlwdD4KCgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2h0bWwiIGlkPSJjb25maWdfdG9wX3RwbCI+CiAgICAgIDx1bD4KICAgICAgICA8bGkgY2xhc3M9ImhlYWRlciI+U2VjdGlvbnM8L2xpPgogICAgICAgIHt7I2NvbmZpZ319CiAgICAgICAgPGxpPjxhIGhyZWY9IiMvY29uZmlnL3t7Ln19LyI+e3sufX08L2E+PC9saT4KICAgICAgICB7ey9jb25maWd9fQogICAgICA8L3VsPgogICAgPC9zY3JpcHQ+CgoKICAgIDxzY3JpcHQgdHlwZT0idGV4dC9odG1sIiBpZD0iY29uZmlnX3NlY3Rpb25fdHBsIj4KICAgICA8Zm9ybSBhY3Rpb249IiNjb25maWciIGlkPSJjb25maWciPgogICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9InNlY3Rpb24iIHZhbHVlPSJ7e3tzZWN0aW9ufX19IiAvPgogICAgICAgIDx1bD4KICAgICAgICAgIDxsaSBjbGFzcz0iaGVhZGVyIj57e3NlY3Rpb259fTwvbGk+CiAgICAgICAgICB7eyNpdGVtc319CiAgICAgICAgICA8bGk+PGxhYmVsPnt7a2V5fX08YnIgLz48ZGl2IGNsYXNzPSJpbnB1dHdyYXAiPgogICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIG5hbWU9Int7e2tleX19fSIgdmFsdWU9Int7e3ZhbHVlfX19IiAvPgogICAgICAgICAgPC9kaXY+PC9sYWJlbD48L2xpPgogICAgICAgICAge3svaXRlbXN9fQogICAgICAgIDwvdWw+CiAgICAgICAgPGRpdiBzdHlsZT0icGFkZGluZzoxMHB4OyI+CiAgICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iU2F2ZSBDb25maWciIGlkPSJzYXZlY29uZmlnIiAvPgogICAgICAgIDwvZGl2PgogICAgICA8L2Zvcm0+CiAgICA8L3NjcmlwdD4KCgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2h0bWwiIGlkPSJ0YXNrc190cGwiPgogICAgICA8dWwgaWQ9InRhc2tzIj4KICAgICAgICB7eyN0YXNrc319CiAgICAgICAgPGxpPgogICAgICAgICAgPHRhYmxlPgogICAgICAgICAgICA8dHI+PHRkIGNsYXNzPSJsYWJlbCI+UGlkOjwvdGQ+PHRkPnt7cGlkfX08L3RkPjwvdHI+CiAgICAgICAgICAgIDx0cj48dGQgY2xhc3M9ImxhYmVsIj5UeXBlOjwvdGQ+PHRkPnt7dHlwZX19PC90ZD48L3RyPgogICAgICAgICAgICA8dHI+PHRkIGNsYXNzPSJsYWJlbCI+VGFzazo8L3RkPjx0ZD57e3Rhc2t9fTwvdGQ+PC90cj4KICAgICAgICAgICAgPHRyPjx0ZCBjbGFzcz0ibGFiZWwiPlN0YXR1czo8L3RkPjx0ZD57e3N0YXR1c319PC90ZD48L3RyPgogICAgICAgICAgPC90YWJsZT4KICAgICAgICA8L2xpPgogICAgICAgIHt7L3Rhc2tzfX0KICAgICAgICB7e150YXNrc319PGxpIGNsYXNzPSJub25lIj5ObyBUYXNrczwvbGk+e3svdGFza3N9fQogICAgICA8L3VsPgogICAgPC9zY3JpcHQ+CgoKICAgIDxzY3JpcHQgdHlwZT0idGV4dC9odG1sIiBpZD0iY291Y2hhcHBzX3RwbCI+CiAgICAgIDx1bD4KICAgICAgICB7eyNjb3VjaGFwcHN9fQogICAgICAgIDxsaT48YSBocmVmPSJ7e3VybH19Ij57e25hbWV9fTxzcGFuIGNsYXNzPSJhcnJvdyByaWdodCI+4oC6PC9zcGFuPjwvYT48L2xpPgogICAgICAgIHt7L2NvdWNoYXBwc319CiAgICAgIDwvdWw+CiAgICA8L3NjcmlwdD4KCgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2h0bWwiIGlkPSJlZGl0X2tleV90cGwiPgogICAgICA8Zm9ybSBhY3Rpb249IiNzYXZla2V5Ij4KICAgICAgICA8dWw+CiAgICAgICAgICA8bGkgY2xhc3M9ImhlYWRlciI+RWRpdCBEb2N1bWVudDwvbGk+CiAgICAgICAgICA8bGk+PHNwYW4+e3trZXl9fToge3t2YWx1ZX19PC9zcGFuPjwvbGk+CiAgICAgICAgICA8bGk+PHRleHRhcmVhIG5hbWU9InZhbHVlIj57e3ZhbHVlfX08L3RleHRhcmVhPjwvbGk+CiAgICAgICAgPC91bD4KICAgICAgICA8ZGl2IHN0eWxlPSJwYWRkaW5nOjEwcHg7Ij4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImRiIiB2YWx1ZT0ie3tkYn19IiAvPgogICAgICAgICAgPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iZG9jIiB2YWx1ZT0ie3tkb2N9fSIgLz4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImtleSIgdmFsdWU9Int7a2V5fX0iIC8+CiAgICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iU2F2ZSIgaWQ9InNhdmVrZXkiIC8+CiAgICAgICAgICA8YSBocmVmPSIjL2RiL3t7ZGJ9fS97e2RvY319L3t7a2V5fX0vX2RlbGV0ZS8iIGNsYXNzPSJidXR0b24gd2FybmluZyI+CiAgICAgICAgICAgIERlbGV0ZQogICAgICAgICAgPC9hPgogICAgICAgIDwvZGl2PgogICAgICA8L2Zvcm0+CiAgICA8L3NjcmlwdD4KCgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2h0bWwiIGlkPSJkb2N1bWVudF90cGwiPgoKICAgICAgPHVsPgogICAgICAgIDxsaSBjbGFzcz0iaGVhZGVyIj5KU09OPC9saT4KICAgICAgICB7eyNrZXlzfX0KICAgICAgICB7eyNjYW5lZGl0fX0KICAgICAgICA8bGk+PGEgaHJlZj0iIy9kYi97e2RifX0ve3tkb2N9fS9yZXYve3tyZXZ9fS97e3VybH19LyI+CiAgICAgICAgICAgIHt7a2V5fX06IDxzcGFuIGNsYXNzPSJqc29udmFsIj57e3ZhbHVlfX08L3NwYW4+CiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJhcnJvdyByaWdodCI+4oC6PC9zcGFuPjwvYT48L2xpPgogICAgICAgIHt7L2NhbmVkaXR9fQogICAgICAgIHt7XmNhbmVkaXR9fQogICAgICAgIDxsaSBjbGFzcz0ic2VsZWN0d3JhcHBlciI+e3trZXl9fTogPHNwYW4gY2xhc3M9Impzb252YWwiPnt7dmFsdWV9fTwvc3Bhbj48L2xpPgogICAgICAgIHt7L2NhbmVkaXR9fQogICAgICAgIHt7L2tleXN9fQogICAgICA8L3VsPgoKICAgICAge3sjY2FuZWRpdH19CiAgICAgIDxmb3JtIGFjdGlvbj0iI2FkZGtleSIgaWQ9ImFkZGtleWZvcm0iPgogICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImRiIiB2YWx1ZT0ie3tkYn19IiAvPgogICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImRvYyIgdmFsdWU9Int7ZG9jfX0iPgogICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9ImtleSIgdmFsdWU9Int7a2V5fX0iPgoKICAgICAgICA8dWwgaWQ9ImFkZGtleWxpc3QiPjwvdWw+CiAgICAgICAgPGRpdiBzdHlsZT0icGFkZGluZzoxMHB4OyI+CiAgICAgICAgICA8YSBjbGFzcz0iYnV0dG9uIiBpZD0iYWRka2V5Ij5BZGQgS2V5PC9hPgogICAgICAgIDwvZGl2PgogICAgICA8L2Zvcm0+CiAgICAgIHt7L2NhbmVkaXR9fQoKICAgICAge3sjcHJldmlld319CiAgICAgIDx1bD4KICAgICAgICA8bGkgY2xhc3M9ImhlYWRlciI+UHJldmlldzwvbGk+CiAgICAgICAgPGxpIGNsYXNzPSJzZWxlY3R3cmFwcGVyIiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7Ij57e3twcmV2aWV3fX19PC9saT4KICAgICAgPC91bD4KICAgICAge3svcHJldmlld319CgoKICAgICAge3sjaGFzcmV2aXNpb25zfX0KICAgICAgPHVsPgogICAgICAgIDxsaSBjbGFzcz0iaGVhZGVyIj5SZXZpc2lvbnM8L2xpPgogICAgICAgIHt7I3JldmlzaW9uc319CiAgICAgICAge3sjYXZhaWxhYmxlfX0KICAgICAgICA8bGk+PGEgaHJlZj0iIy9kYi97e2RifX0ve3tkb2N9fS9yZXYve3tyZXZ9fS8iPnt7cmV2fX08c3BhbiBjbGFzcz0iYXJyb3cgcmlnaHQiPuKAujwvc3Bhbj48L2E+PC9saT4KICAgICAgICB7ey9hdmFpbGFibGV9fQogICAgICAgIHt7XmF2YWlsYWJsZX19PGxpPjxzcGFuIGNsYXNzPSJ1bmF2YWlsYWJsZSI+e3tyZXZ9fTwvc3Bhbj57ey9hdmFpbGFibGV9fQogICAgICAgIHt7L3JldmlzaW9uc319CiAgICAgIDwvdWw+CiAgICAgIHt7L2hhc3JldmlzaW9uc319CiAgICAgIDxkaXYgc3R5bGU9InBhZGRpbmc6MTBweDsiPgogICAgICAgIDxhIGhyZWY9IiMvZGIve3tkYn19L3t7ZG9jfX17e29wdGtleX19L19kZWxldGUvIiBjbGFzcz0iYnV0dG9uIHdhcm5pbmciPgogICAgICAgICAgRGVsZXRlCiAgICAgICAgPC9hPgogICAgICA8L2Rpdj4KICAgIDwvc2NyaXB0PgoKCiAgICA8c2NyaXB0IHR5cGU9InRleHQvaHRtbCIgaWQ9ImRhdGFiYXNlX3RwbCI+CiAgICAgIDx1bD4KICAgICAgICA8bGkgY2xhc3M9ImhlYWRlciI+RGF0YWJhc2UgSW5mbzwvbGk+CiAgICAgICAgPGxpPjxzcGFuPkRvY3VtZW50IENvdW50OiB7e2RvY19jb3VudH19PC9zcGFuPjwvbGk+CiAgICAgICAgPGxpPjxzcGFuPlVwZGF0ZSBTZXE6IHt7dXBkYXRlX3NlcX19PC9zcGFuPjwvbGk+CiAgICAgICAgPGxpPjxzcGFuPkRpc2sgU2l6ZToge3tkaXNrX3NpemV9fTwvc3Bhbj48L2xpPgogICAgICA8L3VsPgoKICAgICAgPHVsPgogICAgICAgIDxsaSBjbGFzcz0iaGVhZGVyIj5WaWV3czwvbGk+CiAgICAgICAgPGxpPjxhIGhyZWY9IiMvZGIve3tkYn19L3ZpZXdzL19hbGxfZG9jcyI+QWxsIERvY3VtZW50czxzcGFuIGNsYXNzPSJhcnJvdyByaWdodCI+4oC6PC9zcGFuPjwvYT48L2xpPgogICAgICAgIDxsaT48YSBocmVmPSIjL2RiL3t7ZGJ9fS92aWV3cy9fZGVzaWduX2RvY3MiPkRlc2lnbiBEb2N1bWVudHM8c3BhbiBjbGFzcz0iYXJyb3cgcmlnaHQiPuKAujwvc3Bhbj48L2E+PC9saT4KICAgICAgICB7eyN2aWV3c319CiAgICAgICAgPGxpPjxhIGhyZWY9IiMvZGIve3tkYn19L3ZpZXdzL3t7ZGRvY319LXt7bmFtZX19Ij57e2lkfX0ve3tuYW1lfX08c3BhbiBjbGFzcz0iYXJyb3cgcmlnaHQiPuKAujwvc3Bhbj48L2E+PC9saT4KICAgICAgICB7ey92aWV3c319CiAgICAgIDwvdWw+CgogICAgICA8ZGl2IHN0eWxlPSJwYWRkaW5nOjEwcHg7Ij4KICAgICAgICA8YSBocmVmPSIjL2RiL3t7ZGJ9fS9fY3JlYXRlX2RvYy8iIGNsYXNzPSJidXR0b24iPkNyZWF0ZSBOZXcgRG9jdW1lbnQ8L2E+CiAgICAgICAgPGJyIC8+CiAgICAgICAgPGEgaHJlZj0iIy9kYi97e2RifX0vX2RlbGV0ZS8iIGNsYXNzPSJidXR0b24gd2FybmluZyI+RGVsZXRlPC9hPgogICAgICA8L2Rpdj4KCiAgICA8L3NjcmlwdD4KCgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2h0bWwiIGlkPSJjcmVhdGVfZG9jX3RwbCI+CiAgICAgIDxmb3JtIGFjdGlvbj0iI2NyZWF0ZV9kb2MiPgogICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iICBuYW1lPSJkYiIgdmFsdWU9Int7ZGJ9fSIgLz4KICAgICAgICA8dWw+CiAgICAgICAgICA8bGkgY2xhc3M9ImhlYWRlciI+Q3JlYXRlIERvY3VtZW50PC9saT4KICAgICAgICAgIDxsaSBjbGFzcz0ic2VsZWN0d3JhcHBlciI+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiAgbmFtZT0iaWQiIHBsYWNlaG9sZGVyPSJpZCIgLz4KICAgICAgICAgIDwvbGk+CiAgICAgICAgICA8bGk+PHRleHRhcmVhIHBsYWNlaG9sZGVyPSJqc29uIiBuYW1lPSJ2YWx1ZSI+PC90ZXh0YXJlYT48L2xpPgogICAgICAgIDwvdWw+CiAgICAgICAgPGRpdiBzdHlsZT0icGFkZGluZzoxMHB4OyI+CiAgICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iQ3JlYXRlIiAvPgogICAgICAgIDwvZGl2PgogICAgICA8L2Zvcm0+CiAgICA8L3NjcmlwdD4KCgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2h0bWwiIGlkPSJkYXRhYmFzZV92aWV3X3RwbCI+CiAgICAgIHt7I3RvdGFsfX0KICAgICAgPHA+e3tzdGFydH19IHRvIHt7ZW5kfX0gb2Yge3t0b3RhbH19PC9wPgogICAgICB7ey90b3RhbH19CiAgICAgIDx1bD4KICAgICAgICB7eyNyb3dzfX0KICAgICAgICA8bGk+PGEgaHJlZj0iIy9kYi97e2RifX0ve3tuYW1lfX0vIj57e3tkaXNwbGF5fX19PHNwYW4gY2xhc3M9ImFycm93IHJpZ2h0Ij7igLo8L3NwYW4+PC9hPjwvbGk+CiAgICAgICAge3svcm93c319CiAgICAgICAge3tecm93c319CiAgICAgICAgPGxpIGNsYXNzPSJub25lIj5ObyBSZXN1bHRzPC9saT4KICAgICAgICB7ey9yb3dzfX0KICAgICAgPC91bD4KCiAgICAgIDxkaXYgaWQ9InBhZ2luYXRvciI+CiAgICAgICAge3sjaGFzTmV4dH19CiAgICAgICAgPGEgaHJlZj0nIy9kYi97e2RifX0vdmlld3Mve3t2aWV3fX0/c3RhcnRrZXk9e3tzdGFydGtleX19JwogICAgICAgICAgIGNsYXNzPSJidXR0b24gbmV4dCI+TmV4dCAmZ3Q7PC9hPgogICAgICAgIHt7L2hhc05leHR9fQogICAgICAgICZuYnNwOwogICAgICAgIHt7I2hhc0JhY2t9fQogICAgICAgIDxhIGhyZWY9JyMvZGIve3tkYn19L3ZpZXdzL3t7dmlld319P2Rlc2NlbmRpbmc9dHJ1ZSZzdGFydGtleT17e2JhY2trZXl9fScKICAgICAgICAgICBjbGFzcz0iYnV0dG9uIGJhY2siPiZsdDsgQmFjazwvYT4KICAgICAgICB7ey9oYXNCYWNrfX0KICAgICAgPC9kaXY+CgogICAgPC9zY3JpcHQ+CgoKICAgIDxzY3JpcHQgdHlwZT0idGV4dC9odG1sIiBpZD0iY29uZmlybV90cGwiPgogICAgICA8Zm9ybSBhY3Rpb249Int7YWN0aW9ufX0iPgoKICAgICAgICB7eyNmb3JtfX0KICAgICAgICA8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSJ7e2tleX19IiB2YWx1ZT0ie3t2YWx1ZX19IiAvPgogICAgICAgIHt7L2Zvcm19fQoKICAgICAgICA8dWw+PGxpPgogICAgICAgICAgICA8cD48c3Ryb25nPkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byB7e25vdGljZX19PC9zdHJvbmc+PC9wPgogICAgICAgIDwvbGk+PC91bD4KICAgICAgICA8ZGl2IHN0eWxlPSJwYWRkaW5nOjEwcHg7Ij4KICAgICAgICAgIDxhIGhyZWY9Int7Y2FuY2VsfX0iIGNsYXNzPSJidXR0b24iPkNhbmNlbDwvYT4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IHN0eWxlPSJwYWRkaW5nOjEwcHg7Ij4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJ7e2FjdGlvbl9idG59fSIgY2xhc3M9Indhcm5pbmciIC8+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZm9ybT4KICAgIDwvc2NyaXB0PgoKCiAgICA8c2NyaXB0IHR5cGU9InRleHQvaHRtbCIgaWQ9ImRhdGFiYXNlc190cGwiPgogICAgICA8YSBocmVmPSIjIiBjbGFzcz0iaG9tZSI+Y291Y2g8L2E+CiAgICAgIDx1bCBpZD0iZGJfbGlzdCI+CiAgICAgICAgPGxpIGNsYXNzPSJoZWFkZXIiPkRhdGFiYXNlczwvbGk+CiAgICAgICAge3sjZGF0YWJhc2VzfX0KICAgICAgICA8bGk+PGEgaHJlZj0iIy9kYi97e3VybH19LyI+e3tuYW1lfX0KICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImFycm93IHJpZ2h0Ij7igLo8L3NwYW4+PC9hPjwvbGk+CiAgICAgICAge3svZGF0YWJhc2VzfX0KICAgICAgPC91bD4KCiAgICAgIDxmb3JtIGFjdGlvbj0iI2NyZWF0ZV9kYiIgaWQ9ImNyZWF0ZV9kYl9mb3JtIj4KICAgICAgICA8dWw+CiAgICAgICAgICA8bGkgY2xhc3M9ImhlYWRlciI+Q3JlYXRlIERhdGFiYXNlPC9saT4KICAgICAgICAgIDxsaSBjbGFzcz0ic2VsZWN0d3JhcHBlciI+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiAgbmFtZT0ibmFtZSIgcGxhY2Vob2xkZXI9IkRhdGFiYXNlIE5hbWUiIHJlcXVpcmVkIC8+CiAgICAgICAgICA8L2xpPgogICAgICAgIDwvdWw+CiAgICAgICAgPGRpdiBzdHlsZT0icGFkZGluZzoxMHB4OyI+CiAgICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0iQ3JlYXRlIiAvPgogICAgICAgIDwvZGl2PgogICAgICA8L2Zvcm0+CgogICAgPC9zY3JpcHQ+CgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2h0bWwiIGlkPSJ1bmF1dGhvcml6ZWRfdHBsIj4KICAgICAgPGRpdiBpZD0idW5hdXRob3JpemVkIj4KICAgICAgICA8aDE+ITwvaDE+CiAgICAgICAgWW91IG5lZWQgdG8gYmUgbG9nZ2VkIGluIGFzIGFuIGFkbWluIHRvIGFjY2VzcyB0aGlzIHBhZ2UuCiAgICAgIDwvZGl2PgogICAgPC9zY3JpcHQ+CgoKICAgIDxzY3JpcHQgdHlwZT0idGV4dC9odG1sIiBpZD0icmVwbGljYXRpb25fdHBsIj4KCiAgICAgIDx1bCBpZD0icnVubmluZyI+CiAgICAgICAgPGxpIGNsYXNzPSJoZWFkZXIiPlJ1bm5pbmcgUmVwbGljYXRpb25zPC9saT4KICAgICAgPC91bD4KCiAgICAgIDxmb3JtIGFjdGlvbj0iI3JlcGxpY2F0aW9uIj4KICAgICAgICA8dWw+CiAgICAgICAgICA8bGkgY2xhc3M9ImhlYWRlciI+Q3JlYXRlIFJlcGxpY2F0aW9uPC9saT4KICAgICAgICAgIDxsaT4KICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2VsZWN0d3JhcHBlciI+CiAgICAgICAgICAgICAgRnJvbToKICAgICAgICAgICAgICA8c2VsZWN0IG5hbWU9InNvdXJjZSIgaWQ9InNvdXJjZV9zZWxlY3QiPgogICAgICAgICAgICAgICAge3sjZGF0YWJhc2VzfX0KICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Int7Ln19Ij57ey59fTwvb3B0aW9uPgogICAgICAgICAgICAgICAge3svZGF0YWJhc2VzfX0KICAgICAgICAgICAgICA8L3NlbGVjdD4KICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgbmFtZT0iY3VzdG9tX3NvdXJjZSIgaWQ9ImN1c3RvbV9zb3VyY2UiCiAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSJvciBlbnRlciBhIHVybCIgLz4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNlbGVjdHdyYXBwZXIiPgogICAgICAgICAgICAgIFRvOgogICAgICAgICAgICAgIDxzZWxlY3QgbmFtZT0idGFyZ2V0IiBpZD0idGFyZ2V0X3NlbGVjdCI+CiAgICAgICAgICAgICAgICB7eyNkYXRhYmFzZXN9fQogICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0ie3sufX0iPnt7Ln19PC9vcHRpb24+CiAgICAgICAgICAgICAgICB7ey9kYXRhYmFzZXN9fQogICAgICAgICAgICAgIDwvc2VsZWN0PgogICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSJjdXN0b21fdGFyZ2V0IiBpZD0iY3VzdG9tX3RhcmdldCIKICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9Im9yIGVudGVyIGEgdXJsIiAgLz4KICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICA8bGFiZWwgZm9yPSJjb250aW51b3VzIj4KICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSJjb250aW51b3VzIiBuYW1lPSJjb250aW51b3VzIiAvPiBDb250aW51b3VzCiAgICAgICAgICAgIDwvbGFiZWw+CiAgICAgICAgICA8L2xpPgogICAgICAgIDwvdWw+CiAgICAgICAgPGRpdiBzdHlsZT0icGFkZGluZzoxMHB4OyI+CiAgICAgICAgICA8aW5wdXQgdHlwZT0ic3VibWl0IiB2YWx1ZT0icmVwbGljYXRlIiAvPgogICAgICAgIDwvZGl2PgogICAgICA8L2Zvcm0+CgogICAgICA8dWwgaWQ9InN0b3JlZCI+CiAgICAgICAgPGxpIGNsYXNzPSJoZWFkZXIiPlByZXZpb3VzIFJlcGxpY2F0aW9uczwvbGk+CiAgICAgICAge3sjcmVwbGljYXRpb25zfX0KICAgICAgICA8bGkgZGF0YS1zb3VyY2U9Int7c291cmNlfX0iIGRhdGEtdGFyZ2V0PSJ7e3RhcmdldH19IgogICAgICAgICAgICBkYXRhLWNvbnRpbnVvdXM9Int7Y29udGludW91c319IiBjbGFzcz0icmVwbCI+CiAgICAgICAgICA8YSBjbGFzcz0icmVwbGljYXRpb24iPnt7c291cmNlfX0gPSZndDsge3t0YXJnZXR9fTwvYT4KICAgICAgICAgIDxidXR0b24gY2xhc3M9ImRlbGV0ZSI+ZGVsZXRlPC9idXR0b24+CiAgICAgICAgPC9saT4KICAgICAgICB7ey9yZXBsaWNhdGlvbnN9fQogICAgICAgIHt7XnJlcGxpY2F0aW9uc319CiAgICAgICAgPGxpIGNsYXNzPSJub25lIj5ObyBTdG9yZWQgUmVwbGljYXRpb25zPC9saT4KICAgICAgICB7ey9yZXBsaWNhdGlvbnN9fQogICAgICA8L3VsPgogICAgPC9zY3JpcHQ+CgoKICAgIDxzY3JpcHQgdHlwZT0idGV4dC9odG1sIiBpZD0icmVwbGljYXRpb25faXRlbXMiPgogICAgICB7eyNydW5uaW5nfX0KICAgICAgPGxpIGRhdGEtc291cmNlPSJ7e3NvdXJjZX19IiBkYXRhLXRhcmdldD0ie3t0YXJnZXR9fSIKICAgICAgICAgIGRhdGEtY29udGludW91cz0ie3tjb250aW51b3VzfX0iIGRhdGEtY3JlYXRlX3RhcmdldD0ie3tjcmVhdGVfdGFyZ2V0fX0iCiAgICAgICAgICBjbGFzcz0icmVwbCI+CiAgICAgICAgPGEgY2xhc3M9InJlcGxpY2F0aW9uIj57e3tzb3VyY2V9fSAtPiB7e3RhcmdldH19PC9hPgogICAgICAgIHt7I2NhbmNlbGxhYmxlfX0KICAgICAgICA8YnV0dG9uIGNsYXNzPSJjYW5jZWwiPmNhbmNlbDwvYnV0dG9uPgogICAgICAgIHt7L2NhbmNlbGxhYmxlfX0KICAgICAgPC9saT4KICAgICAge3svcnVubmluZ319CiAgICAgIHt7XnJ1bm5pbmd9fQogICAgICA8bGkgY2xhc3M9Im5vbmUiPk5vIFJ1bm5pbmcgUmVwbGljYXRpb25zPC9saT4KICAgICAge3svcnVubmluZ319CiAgICA8L3NjcmlwdD4KCgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2h0bWwiIGlkPSJsb2dnZWRfb3V0X2J0biI+CiAgICAgIDxhIGhyZWY9IiMvYWNjb3VudC8iPmxvZ2luPC9hPgogICAgPC9zY3JpcHQ+CgoKICAgIDxzY3JpcHQgdHlwZT0idGV4dC9odG1sIiBpZD0ibG9nZ2VkX2luX2J0biI+CiAgICAgIDxhIGhyZWY9IiMvYWNjb3VudC8iPnt7bmFtZX19PC9hPgogICAgPC9zY3JpcHQ+CgoKICAgIDxzY3JpcHQgdHlwZT0idGV4dC9odG1sIiBpZD0ibG9nZ2VkX291dCI+CiAgICAgIDxmb3JtIGFjdGlvbj0iI2xvZ2luIj4KICAgICAgICA8dWw+CiAgICAgICAgICA8bGkgY2xhc3M9InNlbGVjdHdyYXBwZXIiPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0idGV4dCIgaWQ9InVzZXJuYW1lIiBuYW1lPSJ1c2VybmFtZSIKICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPSJ1c2VybmFtZSIgLz4KICAgICAgICAgIDwvbGk+CiAgICAgICAgICA8bGkgY2xhc3M9InNlbGVjdHdyYXBwZXIiPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0icGFzc3dvcmQiIGlkPSJwYXNzd29yZCIgbmFtZT0icGFzc3dvcmQiCiAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj0icGFzc3dvcmQiIC8+CiAgICAgICAgICA8L2xpPgogICAgICAgICAgPGxpPgogICAgICAgICAgICA8bGFiZWwgZm9yPSJyZWdpc3RlciI+CiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0icmVnaXN0ZXIiIG5hbWU9InJlZ2lzdGVyIiAvPiBSZWdpc3RlcgogICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgPC9saT4KICAgICAgICA8L3VsPgogICAgICAgIDxkaXYgY2xhc3M9InNlbGVjdHdyYXBwZXIiPgogICAgICAgICAgPGlucHV0IHR5cGU9InN1Ym1pdCIgdmFsdWU9IkxvZ2luIiAvPgogICAgICAgIDwvZGl2PgogICAgICA8L2Zvcm0+CiAgICA8L3NjcmlwdD4KCgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2h0bWwiIGlkPSJsb2dnZWRfaW4iPgogICAgICA8Zm9ybSBhY3Rpb249IiNsb2dvdXQiPgogICAgICAgIDx1bD4KICAgICAgICAgIDxsaSBjbGFzcz0iaGVhZGVyIj5Vc2VyIEluZm9ybWF0aW9uPC9saT4KICAgICAgICAgIDxsaT48ZGl2IGNsYXNzPSJzZWxlY3R3cmFwcGVyIj5uYW1lOiB7e25hbWV9fTwvZGl2PjwvbGk+CiAgICAgICAgICA8bGk+PGRpdiBjbGFzcz0ic2VsZWN0d3JhcHBlciI+cm9sZXM6IHt7cm9sZXN9fTwvZGl2PjwvbGk+CiAgICAgICAgPC91bD4KICAgICAgICA8ZGl2IGNsYXNzPSJzZWxlY3R3cmFwcGVyIj4KICAgICAgICAgIDxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJsb2dvdXQiIC8+CiAgICAgICAgPC9kaXY+CiAgICAgIDwvZm9ybT4KICAgIDwvc2NyaXB0PgoKCiAgPC9ib2R5PgoKICA8c2NyaXB0IHNyYz0iLi9qcy9zaGExLmpzIj48L3NjcmlwdD4KICA8c2NyaXB0IHNyYz0iLi9qcy9qcXVlcnktMS42Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgPHNjcmlwdCBzcmM9Ii4vanMvZ29vZ2xlLmZhc3RidXR0b24uanMiPjwvc2NyaXB0PgogIDxzY3JpcHQgc3JjPSIuL2pzL2pxdWVyeS5jb3VjaC5qcyI+PC9zY3JpcHQ+CiAgPHNjcmlwdCBzcmM9Ii4vanMvbW9kZXJuaXpyLTEuNy5taW4uanMiPjwvc2NyaXB0PgogIDxzY3JpcHQgc3JjPSIuL2pzL211c3RhY2hlLmpzICAiPjwvc2NyaXB0PgogIDxzY3JpcHQgc3JjPSIuL2pzL3JvdXRlci5qcyI+PC9zY3JpcHQ+CiAgPHNjcmlwdCBzcmM9Ii4vanMvcmVuZGVyZXIuanMiPjwvc2NyaXB0PgogIDxzY3JpcHQgc3JjPSIuL2pzL3V0aWxzLmpzIj48L3NjcmlwdD4KICA8c2NyaXB0IHNyYz0iLi9qcy9tb2JpbGUuZnV0b24uanMiPjwvc2NyaXB0PgoKPC9odG1sPgo="},"js/modernizr-1.7.min.js":{"content_type":"application/javascript","revpos":1,"digest":"md5-a319kpQfZJb6j5ZPC9aR7A==","data":"Ly8gTW9kZXJuaXpyIHYxLjcgIHd3dy5tb2Rlcm5penIuY29tCndpbmRvdy5Nb2Rlcm5penI9ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIEcoKXtlLmlucHV0PWZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9YS5sZW5ndGg7YjxjO2IrKyl0W2FbYl1dPSEhKGFbYl1pbiBsKTtyZXR1cm4gdH0oImF1dG9jb21wbGV0ZSBhdXRvZm9jdXMgbGlzdCBwbGFjZWhvbGRlciBtYXggbWluIG11bHRpcGxlIHBhdHRlcm4gcmVxdWlyZWQgc3RlcCIuc3BsaXQoIiAiKSksZS5pbnB1dHR5cGVzPWZ1bmN0aW9uKGEpe2Zvcih2YXIgZD0wLGUsZixoLGk9YS5sZW5ndGg7ZDxpO2QrKylsLnNldEF0dHJpYnV0ZSgidHlwZSIsZj1hW2RdKSxlPWwudHlwZSE9PSJ0ZXh0IixlJiYobC52YWx1ZT1tLGwuc3R5bGUuY3NzVGV4dD0icG9zaXRpb246YWJzb2x1dGU7dmlzaWJpbGl0eTpoaWRkZW47IiwvXnJhbmdlJC8udGVzdChmKSYmbC5zdHlsZS5XZWJraXRBcHBlYXJhbmNlIT09Yz8oZy5hcHBlbmRDaGlsZChsKSxoPWIuZGVmYXVsdFZpZXcsZT1oLmdldENvbXB1dGVkU3R5bGUmJmguZ2V0Q29tcHV0ZWRTdHlsZShsLG51bGwpLldlYmtpdEFwcGVhcmFuY2UhPT0idGV4dGZpZWxkIiYmbC5vZmZzZXRIZWlnaHQhPT0wLGcucmVtb3ZlQ2hpbGQobCkpOi9eKHNlYXJjaHx0ZWwpJC8udGVzdChmKXx8KC9eKHVybHxlbWFpbCkkLy50ZXN0KGYpP2U9bC5jaGVja1ZhbGlkaXR5JiZsLmNoZWNrVmFsaWRpdHkoKT09PSExOi9eY29sb3IkLy50ZXN0KGYpPyhnLmFwcGVuZENoaWxkKGwpLGcub2Zmc2V0V2lkdGgsZT1sLnZhbHVlIT1tLGcucmVtb3ZlQ2hpbGQobCkpOmU9bC52YWx1ZSE9bSkpLHNbYVtkXV09ISFlO3JldHVybiBzfSgic2VhcmNoIHRlbCB1cmwgZW1haWwgZGF0ZXRpbWUgZGF0ZSBtb250aCB3ZWVrIHRpbWUgZGF0ZXRpbWUtbG9jYWwgbnVtYmVyIHJhbmdlIGNvbG9yIi5zcGxpdCgiICIpKX1mdW5jdGlvbiBGKGEsYil7dmFyIGM9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKSxkPShhKyIgIitwLmpvaW4oYysiICIpK2MpLnNwbGl0KCIgIik7cmV0dXJuISFFKGQsYil9ZnVuY3Rpb24gRShhLGIpe2Zvcih2YXIgZCBpbiBhKWlmKGtbYVtkXV0hPT1jJiYoIWJ8fGIoYVtkXSxqKSkpcmV0dXJuITB9ZnVuY3Rpb24gRChhLGIpe3JldHVybigiIithKS5pbmRleE9mKGIpIT09LTF9ZnVuY3Rpb24gQyhhLGIpe3JldHVybiB0eXBlb2YgYT09PWJ9ZnVuY3Rpb24gQihhLGIpe3JldHVybiBBKG8uam9pbihhKyI7IikrKGJ8fCIiKSl9ZnVuY3Rpb24gQShhKXtrLmNzc1RleHQ9YX12YXIgZD0iMS43IixlPXt9LGY9ITAsZz1iLmRvY3VtZW50RWxlbWVudCxoPWIuaGVhZHx8Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdLGk9Im1vZGVybml6ciIsaj1iLmNyZWF0ZUVsZW1lbnQoaSksaz1qLnN0eWxlLGw9Yi5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLG09IjopIixuPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsbz0iIC13ZWJraXQtIC1tb3otIC1vLSAtbXMtIC1raHRtbC0gIi5zcGxpdCgiICIpLHA9IldlYmtpdCBNb3ogTyBtcyBLaHRtbCIuc3BsaXQoIiAiKSxxPXtzdmc6Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIn0scj17fSxzPXt9LHQ9e30sdT1bXSx2LHc9ZnVuY3Rpb24oYSl7dmFyIGM9Yi5jcmVhdGVFbGVtZW50KCJzdHlsZSIpLGQ9Yi5jcmVhdGVFbGVtZW50KCJkaXYiKSxlO2MudGV4dENvbnRlbnQ9YSsieyNtb2Rlcm5penJ7aGVpZ2h0OjNweH19IixoLmFwcGVuZENoaWxkKGMpLGQuaWQ9Im1vZGVybml6ciIsZy5hcHBlbmRDaGlsZChkKSxlPWQub2Zmc2V0SGVpZ2h0PT09MyxjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYyksZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpO3JldHVybiEhZX0seD1mdW5jdGlvbigpe2Z1bmN0aW9uIGQoZCxlKXtlPWV8fGIuY3JlYXRlRWxlbWVudChhW2RdfHwiZGl2Iik7dmFyIGY9KGQ9Im9uIitkKWluIGU7Znx8KGUuc2V0QXR0cmlidXRlfHwoZT1iLmNyZWF0ZUVsZW1lbnQoImRpdiIpKSxlLnNldEF0dHJpYnV0ZSYmZS5yZW1vdmVBdHRyaWJ1dGUmJihlLnNldEF0dHJpYnV0ZShkLCIiKSxmPUMoZVtkXSwiZnVuY3Rpb24iKSxDKGVbZF0sYyl8fChlW2RdPWMpLGUucmVtb3ZlQXR0cmlidXRlKGQpKSksZT1udWxsO3JldHVybiBmfXZhciBhPXtzZWxlY3Q6ImlucHV0IixjaGFuZ2U6ImlucHV0IixzdWJtaXQ6ImZvcm0iLHJlc2V0OiJmb3JtIixlcnJvcjoiaW1nIixsb2FkOiJpbWciLGFib3J0OiJpbWcifTtyZXR1cm4gZH0oKSx5PSh7fSkuaGFzT3duUHJvcGVydHksejtDKHksYyl8fEMoeS5jYWxsLGMpP3o9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiBpbiBhJiZDKGEuY29uc3RydWN0b3IucHJvdG90eXBlW2JdLGMpfTp6PWZ1bmN0aW9uKGEsYil7cmV0dXJuIHkuY2FsbChhLGIpfSxyLmZsZXhib3g9ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGEsYixjLGQpe2Euc3R5bGUuY3NzVGV4dD1vLmpvaW4oYisiOiIrYysiOyIpKyhkfHwiIil9ZnVuY3Rpb24gYShhLGIsYyxkKXtiKz0iOiIsYS5zdHlsZS5jc3NUZXh0PShiK28uam9pbihjKyI7IitiKSkuc2xpY2UoMCwtYi5sZW5ndGgpKyhkfHwiIil9dmFyIGQ9Yi5jcmVhdGVFbGVtZW50KCJkaXYiKSxlPWIuY3JlYXRlRWxlbWVudCgiZGl2Iik7YShkLCJkaXNwbGF5IiwiYm94Iiwid2lkdGg6NDJweDtwYWRkaW5nOjA7IiksYyhlLCJib3gtZmxleCIsIjEiLCJ3aWR0aDoxMHB4OyIpLGQuYXBwZW5kQ2hpbGQoZSksZy5hcHBlbmRDaGlsZChkKTt2YXIgZj1lLm9mZnNldFdpZHRoPT09NDI7ZC5yZW1vdmVDaGlsZChlKSxnLnJlbW92ZUNoaWxkKGQpO3JldHVybiBmfSxyLmNhbnZhcz1mdW5jdGlvbigpe3ZhciBhPWIuY3JlYXRlRWxlbWVudCgiY2FudmFzIik7cmV0dXJuIGEuZ2V0Q29udGV4dCYmYS5nZXRDb250ZXh0KCIyZCIpfSxyLmNhbnZhc3RleHQ9ZnVuY3Rpb24oKXtyZXR1cm4gZS5jYW52YXMmJkMoYi5jcmVhdGVFbGVtZW50KCJjYW52YXMiKS5nZXRDb250ZXh0KCIyZCIpLmZpbGxUZXh0LCJmdW5jdGlvbiIpfSxyLndlYmdsPWZ1bmN0aW9uKCl7cmV0dXJuISFhLldlYkdMUmVuZGVyaW5nQ29udGV4dH0sci50b3VjaD1mdW5jdGlvbigpe3JldHVybiJvbnRvdWNoc3RhcnQiaW4gYXx8dygiQG1lZGlhICgiK28uam9pbigidG91Y2gtZW5hYmxlZCksKCIpKyJtb2Rlcm5penIpIil9LHIuZ2VvbG9jYXRpb249ZnVuY3Rpb24oKXtyZXR1cm4hIW5hdmlnYXRvci5nZW9sb2NhdGlvbn0sci5wb3N0bWVzc2FnZT1mdW5jdGlvbigpe3JldHVybiEhYS5wb3N0TWVzc2FnZX0sci53ZWJzcWxkYXRhYmFzZT1mdW5jdGlvbigpe3ZhciBiPSEhYS5vcGVuRGF0YWJhc2U7cmV0dXJuIGJ9LHIuaW5kZXhlZERCPWZ1bmN0aW9uKCl7Zm9yKHZhciBiPS0xLGM9cC5sZW5ndGg7KytiPGM7KXt2YXIgZD1wW2JdLnRvTG93ZXJDYXNlKCk7aWYoYVtkKyJfaW5kZXhlZERCIl18fGFbZCsiSW5kZXhlZERCIl0pcmV0dXJuITB9cmV0dXJuITF9LHIuaGFzaGNoYW5nZT1mdW5jdGlvbigpe3JldHVybiB4KCJoYXNoY2hhbmdlIixhKSYmKGIuZG9jdW1lbnRNb2RlPT09Y3x8Yi5kb2N1bWVudE1vZGU+Nyl9LHIuaGlzdG9yeT1mdW5jdGlvbigpe3JldHVybiAhIShhLmhpc3RvcnkmJmhpc3RvcnkucHVzaFN0YXRlKX0sci5kcmFnYW5kZHJvcD1mdW5jdGlvbigpe3JldHVybiB4KCJkcmFnc3RhcnQiKSYmeCgiZHJvcCIpfSxyLndlYnNvY2tldHM9ZnVuY3Rpb24oKXtyZXR1cm4iV2ViU29ja2V0ImluIGF9LHIucmdiYT1mdW5jdGlvbigpe0EoImJhY2tncm91bmQtY29sb3I6cmdiYSgxNTAsMjU1LDE1MCwuNSkiKTtyZXR1cm4gRChrLmJhY2tncm91bmRDb2xvciwicmdiYSIpfSxyLmhzbGE9ZnVuY3Rpb24oKXtBKCJiYWNrZ3JvdW5kLWNvbG9yOmhzbGEoMTIwLDQwJSwxMDAlLC41KSIpO3JldHVybiBEKGsuYmFja2dyb3VuZENvbG9yLCJyZ2JhIil8fEQoay5iYWNrZ3JvdW5kQ29sb3IsImhzbGEiKX0sci5tdWx0aXBsZWJncz1mdW5jdGlvbigpe0EoImJhY2tncm91bmQ6dXJsKC8vOiksdXJsKC8vOikscmVkIHVybCgvLzopIik7cmV0dXJuKG5ldyBSZWdFeHAoIih1cmxcXHMqXFwoLio/KXszfSIpKS50ZXN0KGsuYmFja2dyb3VuZCl9LHIuYmFja2dyb3VuZHNpemU9ZnVuY3Rpb24oKXtyZXR1cm4gRigiYmFja2dyb3VuZFNpemUiKX0sci5ib3JkZXJpbWFnZT1mdW5jdGlvbigpe3JldHVybiBGKCJib3JkZXJJbWFnZSIpfSxyLmJvcmRlcnJhZGl1cz1mdW5jdGlvbigpe3JldHVybiBGKCJib3JkZXJSYWRpdXMiLCIiLGZ1bmN0aW9uKGEpe3JldHVybiBEKGEsIm9yZGVyUmFkaXVzIil9KX0sci5ib3hzaGFkb3c9ZnVuY3Rpb24oKXtyZXR1cm4gRigiYm94U2hhZG93Iil9LHIudGV4dHNoYWRvdz1mdW5jdGlvbigpe3JldHVybiBiLmNyZWF0ZUVsZW1lbnQoImRpdiIpLnN0eWxlLnRleHRTaGFkb3c9PT0iIn0sci5vcGFjaXR5PWZ1bmN0aW9uKCl7Qigib3BhY2l0eTouNTUiKTtyZXR1cm4vXjAuNTUkLy50ZXN0KGsub3BhY2l0eSl9LHIuY3NzYW5pbWF0aW9ucz1mdW5jdGlvbigpe3JldHVybiBGKCJhbmltYXRpb25OYW1lIil9LHIuY3NzY29sdW1ucz1mdW5jdGlvbigpe3JldHVybiBGKCJjb2x1bW5Db3VudCIpfSxyLmNzc2dyYWRpZW50cz1mdW5jdGlvbigpe3ZhciBhPSJiYWNrZ3JvdW5kLWltYWdlOiIsYj0iZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLHJpZ2h0IGJvdHRvbSxmcm9tKCM5ZjkpLHRvKHdoaXRlKSk7IixjPSJsaW5lYXItZ3JhZGllbnQobGVmdCB0b3AsIzlmOSwgd2hpdGUpOyI7QSgoYStvLmpvaW4oYithKStvLmpvaW4oYythKSkuc2xpY2UoMCwtYS5sZW5ndGgpKTtyZXR1cm4gRChrLmJhY2tncm91bmRJbWFnZSwiZ3JhZGllbnQiKX0sci5jc3NyZWZsZWN0aW9ucz1mdW5jdGlvbigpe3JldHVybiBGKCJib3hSZWZsZWN0Iil9LHIuY3NzdHJhbnNmb3Jtcz1mdW5jdGlvbigpe3JldHVybiEhRShbInRyYW5zZm9ybVByb3BlcnR5IiwiV2Via2l0VHJhbnNmb3JtIiwiTW96VHJhbnNmb3JtIiwiT1RyYW5zZm9ybSIsIm1zVHJhbnNmb3JtIl0pfSxyLmNzc3RyYW5zZm9ybXMzZD1mdW5jdGlvbigpe3ZhciBhPSEhRShbInBlcnNwZWN0aXZlUHJvcGVydHkiLCJXZWJraXRQZXJzcGVjdGl2ZSIsIk1velBlcnNwZWN0aXZlIiwiT1BlcnNwZWN0aXZlIiwibXNQZXJzcGVjdGl2ZSJdKTthJiYid2Via2l0UGVyc3BlY3RpdmUiaW4gZy5zdHlsZSYmKGE9dygiQG1lZGlhICgiK28uam9pbigidHJhbnNmb3JtLTNkKSwoIikrIm1vZGVybml6cikiKSk7cmV0dXJuIGF9LHIuY3NzdHJhbnNpdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gRigidHJhbnNpdGlvblByb3BlcnR5Iil9LHIuZm9udGZhY2U9ZnVuY3Rpb24oKXt2YXIgYSxjLGQ9aHx8ZyxlPWIuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxmPWIuaW1wbGVtZW50YXRpb258fHtoYXNGZWF0dXJlOmZ1bmN0aW9uKCl7cmV0dXJuITF9fTtlLnR5cGU9InRleHQvY3NzIixkLmluc2VydEJlZm9yZShlLGQuZmlyc3RDaGlsZCksYT1lLnNoZWV0fHxlLnN0eWxlU2hlZXQ7dmFyIGk9Zi5oYXNGZWF0dXJlKCJDU1MyIiwiIik/ZnVuY3Rpb24oYil7aWYoIWF8fCFiKXJldHVybiExO3ZhciBjPSExO3RyeXthLmluc2VydFJ1bGUoYiwwKSxjPS9zcmMvaS50ZXN0KGEuY3NzUnVsZXNbMF0uY3NzVGV4dCksYS5kZWxldGVSdWxlKGEuY3NzUnVsZXMubGVuZ3RoLTEpfWNhdGNoKGQpe31yZXR1cm4gY306ZnVuY3Rpb24oYil7aWYoIWF8fCFiKXJldHVybiExO2EuY3NzVGV4dD1iO3JldHVybiBhLmNzc1RleHQubGVuZ3RoIT09MCYmL3NyYy9pLnRlc3QoYS5jc3NUZXh0KSYmYS5jc3NUZXh0LnJlcGxhY2UoL1xyK3xcbisvZywiIikuaW5kZXhPZihiLnNwbGl0KCIgIilbMF0pPT09MH07Yz1pKCdAZm9udC1mYWNlIHsgZm9udC1mYW1pbHk6ICJmb250Ijsgc3JjOiB1cmwoZGF0YTosKTsgfScpLGQucmVtb3ZlQ2hpbGQoZSk7cmV0dXJuIGN9LHIudmlkZW89ZnVuY3Rpb24oKXt2YXIgYT1iLmNyZWF0ZUVsZW1lbnQoInZpZGVvIiksYz0hIWEuY2FuUGxheVR5cGU7aWYoYyl7Yz1uZXcgQm9vbGVhbihjKSxjLm9nZz1hLmNhblBsYXlUeXBlKCd2aWRlby9vZ2c7IGNvZGVjcz0idGhlb3JhIicpO3ZhciBkPSd2aWRlby9tcDQ7IGNvZGVjcz0iYXZjMS40MkUwMUUnO2MuaDI2ND1hLmNhblBsYXlUeXBlKGQrJyInKXx8YS5jYW5QbGF5VHlwZShkKycsIG1wNGEuNDAuMiInKSxjLndlYm09YS5jYW5QbGF5VHlwZSgndmlkZW8vd2VibTsgY29kZWNzPSJ2cDgsIHZvcmJpcyInKX1yZXR1cm4gY30sci5hdWRpbz1mdW5jdGlvbigpe3ZhciBhPWIuY3JlYXRlRWxlbWVudCgiYXVkaW8iKSxjPSEhYS5jYW5QbGF5VHlwZTtjJiYoYz1uZXcgQm9vbGVhbihjKSxjLm9nZz1hLmNhblBsYXlUeXBlKCdhdWRpby9vZ2c7IGNvZGVjcz0idm9yYmlzIicpLGMubXAzPWEuY2FuUGxheVR5cGUoImF1ZGlvL21wZWc7IiksYy53YXY9YS5jYW5QbGF5VHlwZSgnYXVkaW8vd2F2OyBjb2RlY3M9IjEiJyksYy5tNGE9YS5jYW5QbGF5VHlwZSgiYXVkaW8veC1tNGE7Iil8fGEuY2FuUGxheVR5cGUoImF1ZGlvL2FhYzsiKSk7cmV0dXJuIGN9LHIubG9jYWxzdG9yYWdlPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiEhbG9jYWxTdG9yYWdlLmdldEl0ZW19Y2F0Y2goYSl7cmV0dXJuITF9fSxyLnNlc3Npb25zdG9yYWdlPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiEhc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbX1jYXRjaChhKXtyZXR1cm4hMX19LHIud2ViV29ya2Vycz1mdW5jdGlvbigpe3JldHVybiEhYS5Xb3JrZXJ9LHIuYXBwbGljYXRpb25jYWNoZT1mdW5jdGlvbigpe3JldHVybiEhYS5hcHBsaWNhdGlvbkNhY2hlfSxyLnN2Zz1mdW5jdGlvbigpe3JldHVybiEhYi5jcmVhdGVFbGVtZW50TlMmJiEhYi5jcmVhdGVFbGVtZW50TlMocS5zdmcsInN2ZyIpLmNyZWF0ZVNWR1JlY3R9LHIuaW5saW5lc3ZnPWZ1bmN0aW9uKCl7dmFyIGE9Yi5jcmVhdGVFbGVtZW50KCJkaXYiKTthLmlubmVySFRNTD0iPHN2Zy8+IjtyZXR1cm4oYS5maXJzdENoaWxkJiZhLmZpcnN0Q2hpbGQubmFtZXNwYWNlVVJJKT09cS5zdmd9LHIuc21pbD1mdW5jdGlvbigpe3JldHVybiEhYi5jcmVhdGVFbGVtZW50TlMmJi9TVkcvLnRlc3Qobi5jYWxsKGIuY3JlYXRlRWxlbWVudE5TKHEuc3ZnLCJhbmltYXRlIikpKX0sci5zdmdjbGlwcGF0aHM9ZnVuY3Rpb24oKXtyZXR1cm4hIWIuY3JlYXRlRWxlbWVudE5TJiYvU1ZHLy50ZXN0KG4uY2FsbChiLmNyZWF0ZUVsZW1lbnROUyhxLnN2ZywiY2xpcFBhdGgiKSkpfTtmb3IodmFyIEggaW4gcil6KHIsSCkmJih2PUgudG9Mb3dlckNhc2UoKSxlW3ZdPXJbSF0oKSx1LnB1c2goKGVbdl0/IiI6Im5vLSIpK3YpKTtlLmlucHV0fHxHKCksZS5jcm9zc3dpbmRvd21lc3NhZ2luZz1lLnBvc3RtZXNzYWdlLGUuaGlzdG9yeW1hbmFnZW1lbnQ9ZS5oaXN0b3J5LGUuYWRkVGVzdD1mdW5jdGlvbihhLGIpe2E9YS50b0xvd2VyQ2FzZSgpO2lmKCFlW2FdKXtiPSEhYigpLGcuY2xhc3NOYW1lKz0iICIrKGI/IiI6Im5vLSIpK2EsZVthXT1iO3JldHVybiBlfX0sQSgiIiksaj1sPW51bGwsZiYmYS5hdHRhY2hFdmVudCYmZnVuY3Rpb24oKXt2YXIgYT1iLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2EuaW5uZXJIVE1MPSI8ZWxlbT48L2VsZW0+IjtyZXR1cm4gYS5jaGlsZE5vZGVzLmxlbmd0aCE9PTF9KCkmJmZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gcChhLGIpe3ZhciBjPS0xLGQ9YS5sZW5ndGgsZSxmPVtdO3doaWxlKCsrYzxkKWU9YVtjXSwoYj1lLm1lZGlhfHxiKSE9InNjcmVlbiImJmYucHVzaChwKGUuaW1wb3J0cyxiKSxlLmNzc1RleHQpO3JldHVybiBmLmpvaW4oIiIpfWZ1bmN0aW9uIG8oYSl7dmFyIGI9LTE7d2hpbGUoKytiPGUpYS5jcmVhdGVFbGVtZW50KGRbYl0pfXZhciBjPSJhYmJyfGFydGljbGV8YXNpZGV8YXVkaW98Y2FudmFzfGRldGFpbHN8ZmlnY2FwdGlvbnxmaWd1cmV8Zm9vdGVyfGhlYWRlcnxoZ3JvdXB8bWFya3xtZXRlcnxuYXZ8b3V0cHV0fHByb2dyZXNzfHNlY3Rpb258c3VtbWFyeXx0aW1lfHZpZGVvIixkPWMuc3BsaXQoInwiKSxlPWQubGVuZ3RoLGY9bmV3IFJlZ0V4cCgiKF58XFxzKSgiK2MrIikiLCJnaSIpLGc9bmV3IFJlZ0V4cCgiPCgvKikoIitjKyIpIiwiZ2kiKSxoPW5ldyBSZWdFeHAoIihefFteXFxuXSo/XFxzKSgiK2MrIikoW15cXG5dKikoe1tcXG5cXHdcXFddKj99KSIsImdpIiksaT1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxqPWIuZG9jdW1lbnRFbGVtZW50LGs9ai5maXJzdENoaWxkLGw9Yi5jcmVhdGVFbGVtZW50KCJib2R5IiksbT1iLmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksbjtvKGIpLG8oaSksay5pbnNlcnRCZWZvcmUobSxrLmZpcnN0Q2hpbGQpLG0ubWVkaWE9InByaW50IixhLmF0dGFjaEV2ZW50KCJvbmJlZm9yZXByaW50IixmdW5jdGlvbigpe3ZhciBhPS0xLGM9cChiLnN0eWxlU2hlZXRzLCJhbGwiKSxrPVtdLG87bj1ufHxiLmJvZHk7d2hpbGUoKG89aC5leGVjKGMpKSE9bnVsbClrLnB1c2goKG9bMV0rb1syXStvWzNdKS5yZXBsYWNlKGYsIiQxLmllcHBfJDIiKStvWzRdKTttLnN0eWxlU2hlZXQuY3NzVGV4dD1rLmpvaW4oIlxuIik7d2hpbGUoKythPGUpe3ZhciBxPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZFthXSkscj1xLmxlbmd0aCxzPS0xO3doaWxlKCsrczxyKXFbc10uY2xhc3NOYW1lLmluZGV4T2YoImllcHBfIik8MCYmKHFbc10uY2xhc3NOYW1lKz0iIGllcHBfIitkW2FdKX1pLmFwcGVuZENoaWxkKG4pLGouYXBwZW5kQ2hpbGQobCksbC5jbGFzc05hbWU9bi5jbGFzc05hbWUsbC5pbm5lckhUTUw9bi5pbm5lckhUTUwucmVwbGFjZShnLCI8JDFmb250Iil9KSxhLmF0dGFjaEV2ZW50KCJvbmFmdGVycHJpbnQiLGZ1bmN0aW9uKCl7bC5pbm5lckhUTUw9IiIsai5yZW1vdmVDaGlsZChsKSxqLmFwcGVuZENoaWxkKG4pLG0uc3R5bGVTaGVldC5jc3NUZXh0PSIifSl9KGEsYiksZS5fZW5hYmxlSFRNTDU9ZixlLl92ZXJzaW9uPWQsZy5jbGFzc05hbWU9Zy5jbGFzc05hbWUucmVwbGFjZSgvXGJuby1qc1xiLywiIikrIiBqcyAiK3Uuam9pbigiICIpO3JldHVybiBlfSh0aGlzLHRoaXMuZG9jdW1lbnQp"},"js/jquery-1.6.min.js":{"content_type":"application/javascript","revpos":1,"digest":"md5-E0j2ERR0gCXBuy/eH2BX4A==","data":"LyohCiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjEuNgogKiBodHRwOi8vanF1ZXJ5LmNvbS8KICoKICogQ29weXJpZ2h0IDIwMTEsIEpvaG4gUmVzaWcKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogSW5jbHVkZXMgU2l6emxlLmpzCiAqIGh0dHA6Ly9zaXp6bGVqcy5jb20vCiAqIENvcHlyaWdodCAyMDExLCBUaGUgRG9qbyBGb3VuZGF0aW9uCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQsIEJTRCwgYW5kIEdQTCBMaWNlbnNlcy4KICoKICogRGF0ZTogTW9uIE1heSAyIDEzOjUwOjAwIDIwMTEgLTA0MDAKICovCihmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGN3KGEpe3JldHVybiBmLmlzV2luZG93KGEpP2E6YS5ub2RlVHlwZT09PTk/YS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3c6ITF9ZnVuY3Rpb24gY3QoYSl7aWYoIWNoW2FdKXt2YXIgYj1mKCI8IithKyI+IikuYXBwZW5kVG8oImJvZHkiKSxkPWIuY3NzKCJkaXNwbGF5Iik7Yi5yZW1vdmUoKTtpZihkPT09Im5vbmUifHxkPT09IiIpe2NpfHwoY2k9Yy5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKSxjaS5mcmFtZUJvcmRlcj1jaS53aWR0aD1jaS5oZWlnaHQ9MCksYy5ib2R5LmFwcGVuZENoaWxkKGNpKTtpZighY2p8fCFjaS5jcmVhdGVFbGVtZW50KWNqPShjaS5jb250ZW50V2luZG93fHxjaS5jb250ZW50RG9jdW1lbnQpLmRvY3VtZW50LGNqLndyaXRlKCI8IWRvY3R5cGU+PGh0bWw+PGJvZHk+PC9ib2R5PjwvaHRtbD4iKTtiPWNqLmNyZWF0ZUVsZW1lbnQoYSksY2ouYm9keS5hcHBlbmRDaGlsZChiKSxkPWYuY3NzKGIsImRpc3BsYXkiKSxjLmJvZHkucmVtb3ZlQ2hpbGQoY2kpfWNoW2FdPWR9cmV0dXJuIGNoW2FdfWZ1bmN0aW9uIGNzKGEsYil7dmFyIGM9e307Zi5lYWNoKGNuLmNvbmNhdC5hcHBseShbXSxjbi5zbGljZSgwLGIpKSxmdW5jdGlvbigpe2NbdGhpc109YX0pO3JldHVybiBjfWZ1bmN0aW9uIGNyKCl7Y289Yn1mdW5jdGlvbiBjcSgpe3NldFRpbWVvdXQoY3IsMCk7cmV0dXJuIGNvPWYubm93KCl9ZnVuY3Rpb24gY2coKXt0cnl7cmV0dXJuIG5ldyBhLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIil9Y2F0Y2goYil7fX1mdW5jdGlvbiBjZigpe3RyeXtyZXR1cm4gbmV3IGEuWE1MSHR0cFJlcXVlc3R9Y2F0Y2goYil7fX1mdW5jdGlvbiBiXyhhLGMpe2EuZGF0YUZpbHRlciYmKGM9YS5kYXRhRmlsdGVyKGMsYS5kYXRhVHlwZSkpO3ZhciBkPWEuZGF0YVR5cGVzLGU9e30sZyxoLGk9ZC5sZW5ndGgsaixrPWRbMF0sbCxtLG4sbyxwO2ZvcihnPTE7ZzxpO2crKyl7aWYoZz09PTEpZm9yKGggaW4gYS5jb252ZXJ0ZXJzKXR5cGVvZiBoPT0ic3RyaW5nIiYmKGVbaC50b0xvd2VyQ2FzZSgpXT1hLmNvbnZlcnRlcnNbaF0pO2w9ayxrPWRbZ107aWYoaz09PSIqIilrPWw7ZWxzZSBpZihsIT09IioiJiZsIT09ayl7bT1sKyIgIitrLG49ZVttXXx8ZVsiKiAiK2tdO2lmKCFuKXtwPWI7Zm9yKG8gaW4gZSl7aj1vLnNwbGl0KCIgIik7aWYoalswXT09PWx8fGpbMF09PT0iKiIpe3A9ZVtqWzFdKyIgIitrXTtpZihwKXtvPWVbb10sbz09PSEwP249cDpwPT09ITAmJihuPW8pO2JyZWFrfX19fSFuJiYhcCYmZi5lcnJvcigiTm8gY29udmVyc2lvbiBmcm9tICIrbS5yZXBsYWNlKCIgIiwiIHRvICIpKSxuIT09ITAmJihjPW4/bihjKTpwKG8oYykpKX19cmV0dXJuIGN9ZnVuY3Rpb24gYiQoYSxjLGQpe3ZhciBlPWEuY29udGVudHMsZj1hLmRhdGFUeXBlcyxnPWEucmVzcG9uc2VGaWVsZHMsaCxpLGosaztmb3IoaSBpbiBnKWkgaW4gZCYmKGNbZ1tpXV09ZFtpXSk7d2hpbGUoZlswXT09PSIqIilmLnNoaWZ0KCksaD09PWImJihoPWEubWltZVR5cGV8fGMuZ2V0UmVzcG9uc2VIZWFkZXIoImNvbnRlbnQtdHlwZSIpKTtpZihoKWZvcihpIGluIGUpaWYoZVtpXSYmZVtpXS50ZXN0KGgpKXtmLnVuc2hpZnQoaSk7YnJlYWt9aWYoZlswXWluIGQpaj1mWzBdO2Vsc2V7Zm9yKGkgaW4gZCl7aWYoIWZbMF18fGEuY29udmVydGVyc1tpKyIgIitmWzBdXSl7aj1pO2JyZWFrfWt8fChrPWkpfWo9anx8a31pZihqKXtqIT09ZlswXSYmZi51bnNoaWZ0KGopO3JldHVybiBkW2pdfX1mdW5jdGlvbiBiWihhLGIsYyxkKXtpZihmLmlzQXJyYXkoYikpZi5lYWNoKGIsZnVuY3Rpb24oYixlKXtjfHxiRC50ZXN0KGEpP2QoYSxlKTpiWihhKyJbIisodHlwZW9mIGU9PSJvYmplY3QifHxmLmlzQXJyYXkoZSk/YjoiIikrIl0iLGUsYyxkKX0pO2Vsc2UgaWYoIWMmJmIhPW51bGwmJnR5cGVvZiBiPT0ib2JqZWN0Iilmb3IodmFyIGUgaW4gYiliWihhKyJbIitlKyJdIixiW2VdLGMsZCk7ZWxzZSBkKGEsYil9ZnVuY3Rpb24gYlkoYSxjLGQsZSxmLGcpe2Y9Znx8Yy5kYXRhVHlwZXNbMF0sZz1nfHx7fSxnW2ZdPSEwO3ZhciBoPWFbZl0saT0wLGo9aD9oLmxlbmd0aDowLGs9YT09PWJTLGw7Zm9yKDtpPGomJihrfHwhbCk7aSsrKWw9aFtpXShjLGQsZSksdHlwZW9mIGw9PSJzdHJpbmciJiYoIWt8fGdbbF0/bD1iOihjLmRhdGFUeXBlcy51bnNoaWZ0KGwpLGw9YlkoYSxjLGQsZSxsLGcpKSk7KGt8fCFsKSYmIWdbIioiXSYmKGw9YlkoYSxjLGQsZSwiKiIsZykpO3JldHVybiBsfWZ1bmN0aW9uIGJYKGEpe3JldHVybiBmdW5jdGlvbihiLGMpe3R5cGVvZiBiIT0ic3RyaW5nIiYmKGM9YixiPSIqIik7aWYoZi5pc0Z1bmN0aW9uKGMpKXt2YXIgZD1iLnRvTG93ZXJDYXNlKCkuc3BsaXQoYk8pLGU9MCxnPWQubGVuZ3RoLGgsaSxqO2Zvcig7ZTxnO2UrKyloPWRbZV0saj0vXlwrLy50ZXN0KGgpLGomJihoPWguc3Vic3RyKDEpfHwiKiIpLGk9YVtoXT1hW2hdfHxbXSxpW2o/InVuc2hpZnQiOiJwdXNoIl0oYyl9fX1mdW5jdGlvbiBiQihhLGIsYyl7dmFyIGQ9Yj09PSJ3aWR0aCI/YnY6YncsZT1iPT09IndpZHRoIj9hLm9mZnNldFdpZHRoOmEub2Zmc2V0SGVpZ2h0O2lmKGM9PT0iYm9yZGVyIilyZXR1cm4gZTtmLmVhY2goZCxmdW5jdGlvbigpe2N8fChlLT1wYXJzZUZsb2F0KGYuY3NzKGEsInBhZGRpbmciK3RoaXMpKXx8MCksYz09PSJtYXJnaW4iP2UrPXBhcnNlRmxvYXQoZi5jc3MoYSwibWFyZ2luIit0aGlzKSl8fDA6ZS09cGFyc2VGbG9hdChmLmNzcyhhLCJib3JkZXIiK3RoaXMrIldpZHRoIikpfHwwfSk7cmV0dXJuIGV9ZnVuY3Rpb24gYmwoYSxiKXtiLnNyYz9mLmFqYXgoe3VybDpiLnNyYyxhc3luYzohMSxkYXRhVHlwZToic2NyaXB0In0pOmYuZ2xvYmFsRXZhbChiLnRleHR8fGIudGV4dENvbnRlbnR8fGIuaW5uZXJIVE1MfHwiIiksYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYil9ZnVuY3Rpb24gYmsoYSl7Zi5ub2RlTmFtZShhLCJpbnB1dCIpP2JqKGEpOmEuZ2V0RWxlbWVudHNCeVRhZ05hbWUmJmYuZ3JlcChhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpLGJqKX1mdW5jdGlvbiBiaihhKXtpZihhLnR5cGU9PT0iY2hlY2tib3gifHxhLnR5cGU9PT0icmFkaW8iKWEuZGVmYXVsdENoZWNrZWQ9YS5jaGVja2VkfWZ1bmN0aW9uIGJpKGEpe3JldHVybiJnZXRFbGVtZW50c0J5VGFnTmFtZSJpbiBhP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKToicXVlcnlTZWxlY3RvckFsbCJpbiBhP2EucXVlcnlTZWxlY3RvckFsbCgiKiIpOltdfWZ1bmN0aW9uIGJoKGEsYil7dmFyIGM7aWYoYi5ub2RlVHlwZT09PTEpe2IuY2xlYXJBdHRyaWJ1dGVzJiZiLmNsZWFyQXR0cmlidXRlcygpLGIubWVyZ2VBdHRyaWJ1dGVzJiZiLm1lcmdlQXR0cmlidXRlcyhhKSxjPWIubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtpZihjPT09Im9iamVjdCIpYi5vdXRlckhUTUw9YS5vdXRlckhUTUw7ZWxzZSBpZihjIT09ImlucHV0Inx8YS50eXBlIT09ImNoZWNrYm94IiYmYS50eXBlIT09InJhZGlvIil7aWYoYz09PSJvcHRpb24iKWIuc2VsZWN0ZWQ9YS5kZWZhdWx0U2VsZWN0ZWQ7ZWxzZSBpZihjPT09ImlucHV0Inx8Yz09PSJ0ZXh0YXJlYSIpYi5kZWZhdWx0VmFsdWU9YS5kZWZhdWx0VmFsdWV9ZWxzZSBhLmNoZWNrZWQmJihiLmRlZmF1bHRDaGVja2VkPWIuY2hlY2tlZD1hLmNoZWNrZWQpLGIudmFsdWUhPT1hLnZhbHVlJiYoYi52YWx1ZT1hLnZhbHVlKTtiLnJlbW92ZUF0dHJpYnV0ZShmLmV4cGFuZG8pfX1mdW5jdGlvbiBiZyhhLGIpe2lmKGIubm9kZVR5cGU9PT0xJiYhIWYuaGFzRGF0YShhKSl7dmFyIGM9Zi5leHBhbmRvLGQ9Zi5kYXRhKGEpLGU9Zi5kYXRhKGIsZCk7aWYoZD1kW2NdKXt2YXIgZz1kLmV2ZW50cztlPWVbY109Zi5leHRlbmQoe30sZCk7aWYoZyl7ZGVsZXRlIGUuaGFuZGxlLGUuZXZlbnRzPXt9O2Zvcih2YXIgaCBpbiBnKWZvcih2YXIgaT0wLGo9Z1toXS5sZW5ndGg7aTxqO2krKylmLmV2ZW50LmFkZChiLGgrKGdbaF1baV0ubmFtZXNwYWNlPyIuIjoiIikrZ1toXVtpXS5uYW1lc3BhY2UsZ1toXVtpXSxnW2hdW2ldLmRhdGEpfX19fWZ1bmN0aW9uIGJmKGEsYil7cmV0dXJuIGYubm9kZU5hbWUoYSwidGFibGUiKT9hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpWzBdfHxhLmFwcGVuZENoaWxkKGEub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpKTphfWZ1bmN0aW9uIFcoYSxiLGMpe2I9Ynx8MDtpZihmLmlzRnVuY3Rpb24oYikpcmV0dXJuIGYuZ3JlcChhLGZ1bmN0aW9uKGEsZCl7dmFyIGU9ISFiLmNhbGwoYSxkLGEpO3JldHVybiBlPT09Y30pO2lmKGIubm9kZVR5cGUpcmV0dXJuIGYuZ3JlcChhLGZ1bmN0aW9uKGEsZCl7cmV0dXJuIGE9PT1iPT09Y30pO2lmKHR5cGVvZiBiPT0ic3RyaW5nIil7dmFyIGQ9Zi5ncmVwKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZVR5cGU9PT0xfSk7aWYoUi50ZXN0KGIpKXJldHVybiBmLmZpbHRlcihiLGQsIWMpO2I9Zi5maWx0ZXIoYixkKX1yZXR1cm4gZi5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4gZi5pbkFycmF5KGEsYik+PTA9PT1jfSl9ZnVuY3Rpb24gVihhKXtyZXR1cm4hYXx8IWEucGFyZW50Tm9kZXx8YS5wYXJlbnROb2RlLm5vZGVUeXBlPT09MTF9ZnVuY3Rpb24gTihhLGIpe3JldHVybihhJiZhIT09IioiP2ErIi4iOiIiKStiLnJlcGxhY2UoeiwiYCIpLnJlcGxhY2UoQSwiJiIpfWZ1bmN0aW9uIE0oYSl7dmFyIGIsYyxkLGUsZyxoLGksaixrLGwsbSxuLG8scD1bXSxxPVtdLHI9Zi5fZGF0YSh0aGlzLCJldmVudHMiKTtpZighKGEubGl2ZUZpcmVkPT09dGhpc3x8IXJ8fCFyLmxpdmV8fGEudGFyZ2V0LmRpc2FibGVkfHxhLmJ1dHRvbiYmYS50eXBlPT09ImNsaWNrIikpe2EubmFtZXNwYWNlJiYobj1uZXcgUmVnRXhwKCIoXnxcXC4pIithLm5hbWVzcGFjZS5zcGxpdCgiLiIpLmpvaW4oIlxcLig/Oi4qXFwuKT8iKSsiKFxcLnwkKSIpKSxhLmxpdmVGaXJlZD10aGlzO3ZhciBzPXIubGl2ZS5zbGljZSgwKTtmb3IoaT0wO2k8cy5sZW5ndGg7aSsrKWc9c1tpXSxnLm9yaWdUeXBlLnJlcGxhY2UoeCwiIik9PT1hLnR5cGU/cS5wdXNoKGcuc2VsZWN0b3IpOnMuc3BsaWNlKGktLSwxKTtlPWYoYS50YXJnZXQpLmNsb3Nlc3QocSxhLmN1cnJlbnRUYXJnZXQpO2ZvcihqPTAsaz1lLmxlbmd0aDtqPGs7aisrKXttPWVbal07Zm9yKGk9MDtpPHMubGVuZ3RoO2krKyl7Zz1zW2ldO2lmKG0uc2VsZWN0b3I9PT1nLnNlbGVjdG9yJiYoIW58fG4udGVzdChnLm5hbWVzcGFjZSkpJiYhbS5lbGVtLmRpc2FibGVkKXtoPW0uZWxlbSxkPW51bGw7aWYoZy5wcmVUeXBlPT09Im1vdXNlZW50ZXIifHxnLnByZVR5cGU9PT0ibW91c2VsZWF2ZSIpYS50eXBlPWcucHJlVHlwZSxkPWYoYS5yZWxhdGVkVGFyZ2V0KS5jbG9zZXN0KGcuc2VsZWN0b3IpWzBdLGQmJmYuY29udGFpbnMoaCxkKSYmKGQ9aCk7KCFkfHxkIT09aCkmJnAucHVzaCh7ZWxlbTpoLGhhbmRsZU9iajpnLGxldmVsOm0ubGV2ZWx9KX19fWZvcihqPTAsaz1wLmxlbmd0aDtqPGs7aisrKXtlPXBbal07aWYoYyYmZS5sZXZlbD5jKWJyZWFrO2EuY3VycmVudFRhcmdldD1lLmVsZW0sYS5kYXRhPWUuaGFuZGxlT2JqLmRhdGEsYS5oYW5kbGVPYmo9ZS5oYW5kbGVPYmosbz1lLmhhbmRsZU9iai5vcmlnSGFuZGxlci5hcHBseShlLmVsZW0sYXJndW1lbnRzKTtpZihvPT09ITF8fGEuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSl7Yz1lLmxldmVsLG89PT0hMSYmKGI9ITEpO2lmKGEuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSlicmVha319cmV0dXJuIGJ9fWZ1bmN0aW9uIEsoYSxjLGQpe3ZhciBlPWYuZXh0ZW5kKHt9LGRbMF0pO2UudHlwZT1hLGUub3JpZ2luYWxFdmVudD17fSxlLmxpdmVGaXJlZD1iLGYuZXZlbnQuaGFuZGxlLmNhbGwoYyxlKSxlLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZkWzBdLnByZXZlbnREZWZhdWx0KCl9ZnVuY3Rpb24gRSgpe3JldHVybiEwfWZ1bmN0aW9uIEQoKXtyZXR1cm4hMX1mdW5jdGlvbiBtKGEsYyxkKXt2YXIgZT1jKyJkZWZlciIsZz1jKyJxdWV1ZSIsaD1jKyJtYXJrIixpPWYuZGF0YShhLGUsYiwhMCk7aSYmKGQ9PT0icXVldWUifHwhZi5kYXRhKGEsZyxiLCEwKSkmJihkPT09Im1hcmsifHwhZi5kYXRhKGEsaCxiLCEwKSkmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXshZi5kYXRhKGEsZyxiLCEwKSYmIWYuZGF0YShhLGgsYiwhMCkmJihmLnJlbW92ZURhdGEoYSxlLCEwKSxpLnJlc29sdmUoKSl9LDApfWZ1bmN0aW9uIGwoYSl7Zm9yKHZhciBiIGluIGEpaWYoYiE9PSJ0b0pTT04iKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIGsoYSxjLGQpe2lmKGQ9PT1iJiZhLm5vZGVUeXBlPT09MSl7bmFtZT0iZGF0YS0iK2MucmVwbGFjZShqLCIkMS0kMiIpLnRvTG93ZXJDYXNlKCksZD1hLmdldEF0dHJpYnV0ZShuYW1lKTtpZih0eXBlb2YgZD09InN0cmluZyIpe3RyeXtkPWQ9PT0idHJ1ZSI/ITA6ZD09PSJmYWxzZSI/ITE6ZD09PSJudWxsIj9udWxsOmYuaXNOYU4oZCk/aS50ZXN0KGQpP2YucGFyc2VKU09OKGQpOmQ6cGFyc2VGbG9hdChkKX1jYXRjaChlKXt9Zi5kYXRhKGEsYyxkKX1lbHNlIGQ9Yn1yZXR1cm4gZH12YXIgYz1hLmRvY3VtZW50LGQ9YS5uYXZpZ2F0b3IsZT1hLmxvY2F0aW9uLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBIKCl7aWYoIWUuaXNSZWFkeSl7dHJ5e2MuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKCJsZWZ0Iil9Y2F0Y2goYSl7c2V0VGltZW91dChILDEpO3JldHVybn1lLnJlYWR5KCl9fXZhciBlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBlLmZuLmluaXQoYSxiLGgpfSxmPWEualF1ZXJ5LGc9YS4kLGgsaT0vXig/OltePF0qKDxbXHdcV10rPilbXj5dKiR8IyhbXHdcLV0qKSQpLyxqPS9cUy8saz0vXlxzKy8sbD0vXHMrJC8sbT0vXGQvLG49L148KFx3KylccypcLz8+KD86PFwvXDE+KT8kLyxvPS9eW1xdLDp7fVxzXSokLyxwPS9cXCg/OlsiXFxcL2JmbnJ0XXx1WzAtOWEtZkEtRl17NH0pL2cscT0vIlteIlxcXG5ccl0qInx0cnVlfGZhbHNlfG51bGx8LT9cZCsoPzpcLlxkKik/KD86W2VFXVsrXC1dP1xkKyk/L2cscj0vKD86Xnw6fCwpKD86XHMqXFspKy9nLHM9Lyh3ZWJraXQpWyBcL10oW1x3Ll0rKS8sdD0vKG9wZXJhKSg/Oi4qdmVyc2lvbik/WyBcL10oW1x3Ll0rKS8sdT0vKG1zaWUpIChbXHcuXSspLyx2PS8obW96aWxsYSkoPzouKj8gcnY6KFtcdy5dKykpPy8sdz1kLnVzZXJBZ2VudCx4LHkseixBPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsQj1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LEM9QXJyYXkucHJvdG90eXBlLnB1c2gsRD1BcnJheS5wcm90b3R5cGUuc2xpY2UsRT1TdHJpbmcucHJvdG90eXBlLnRyaW0sRj1BcnJheS5wcm90b3R5cGUuaW5kZXhPZixHPXt9O2UuZm49ZS5wcm90b3R5cGU9e2NvbnN0cnVjdG9yOmUsaW5pdDpmdW5jdGlvbihhLGQsZil7dmFyIGcsaCxqLGs7aWYoIWEpcmV0dXJuIHRoaXM7aWYoYS5ub2RlVHlwZSl7dGhpcy5jb250ZXh0PXRoaXNbMF09YSx0aGlzLmxlbmd0aD0xO3JldHVybiB0aGlzfWlmKGE9PT0iYm9keSImJiFkJiZjLmJvZHkpe3RoaXMuY29udGV4dD1jLHRoaXNbMF09Yy5ib2R5LHRoaXMuc2VsZWN0b3I9YSx0aGlzLmxlbmd0aD0xO3JldHVybiB0aGlzfWlmKHR5cGVvZiBhPT0ic3RyaW5nIil7YS5jaGFyQXQoMCk9PT0iPCImJmEuY2hhckF0KGEubGVuZ3RoLTEpPT09Ij4iJiZhLmxlbmd0aD49Mz9nPVtudWxsLGEsbnVsbF06Zz1pLmV4ZWMoYSk7aWYoZyYmKGdbMV18fCFkKSl7aWYoZ1sxXSl7ZD1kIGluc3RhbmNlb2YgZT9kWzBdOmQsaz1kP2Qub3duZXJEb2N1bWVudHx8ZDpjLGo9bi5leGVjKGEpLGo/ZS5pc1BsYWluT2JqZWN0KGQpPyhhPVtjLmNyZWF0ZUVsZW1lbnQoalsxXSldLGUuZm4uYXR0ci5jYWxsKGEsZCwhMCkpOmE9W2suY3JlYXRlRWxlbWVudChqWzFdKV06KGo9ZS5idWlsZEZyYWdtZW50KFtnWzFdXSxba10pLGE9KGouY2FjaGVhYmxlP2UuY2xvbmUoai5mcmFnbWVudCk6ai5mcmFnbWVudCkuY2hpbGROb2Rlcyk7cmV0dXJuIGUubWVyZ2UodGhpcyxhKX1oPWMuZ2V0RWxlbWVudEJ5SWQoZ1syXSk7aWYoaCYmaC5wYXJlbnROb2RlKXtpZihoLmlkIT09Z1syXSlyZXR1cm4gZi5maW5kKGEpO3RoaXMubGVuZ3RoPTEsdGhpc1swXT1ofXRoaXMuY29udGV4dD1jLHRoaXMuc2VsZWN0b3I9YTtyZXR1cm4gdGhpc31yZXR1cm4hZHx8ZC5qcXVlcnk/KGR8fGYpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihkKS5maW5kKGEpfWlmKGUuaXNGdW5jdGlvbihhKSlyZXR1cm4gZi5yZWFkeShhKTthLnNlbGVjdG9yIT09YiYmKHRoaXMuc2VsZWN0b3I9YS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9YS5jb250ZXh0KTtyZXR1cm4gZS5tYWtlQXJyYXkoYSx0aGlzKX0sc2VsZWN0b3I6IiIsanF1ZXJ5OiIxLjYiLGxlbmd0aDowLHNpemU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGh9LHRvQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gRC5jYWxsKHRoaXMsMCl9LGdldDpmdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbD90aGlzLnRvQXJyYXkoKTphPDA/dGhpc1t0aGlzLmxlbmd0aCthXTp0aGlzW2FdfSxwdXNoU3RhY2s6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXRoaXMuY29uc3RydWN0b3IoKTtlLmlzQXJyYXkoYSk/Qy5hcHBseShkLGEpOmUubWVyZ2UoZCxhKSxkLnByZXZPYmplY3Q9dGhpcyxkLmNvbnRleHQ9dGhpcy5jb250ZXh0LGI9PT0iZmluZCI/ZC5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yKyh0aGlzLnNlbGVjdG9yPyIgIjoiIikrYzpiJiYoZC5zZWxlY3Rvcj10aGlzLnNlbGVjdG9yKyIuIitiKyIoIitjKyIpIik7cmV0dXJuIGR9LGVhY2g6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZS5lYWNoKHRoaXMsYSxiKX0scmVhZHk6ZnVuY3Rpb24oYSl7ZS5iaW5kUmVhZHkoKSx5LmRvbmUoYSk7cmV0dXJuIHRoaXN9LGVxOmZ1bmN0aW9uKGEpe3JldHVybiBhPT09LTE/dGhpcy5zbGljZShhKTp0aGlzLnNsaWNlKGEsK2ErMSl9LGZpcnN0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXEoMCl9LGxhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgtMSl9LHNsaWNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKEQuYXBwbHkodGhpcyxhcmd1bWVudHMpLCJzbGljZSIsRC5jYWxsKGFyZ3VtZW50cykuam9pbigiLCIpKX0sbWFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhlLm1hcCh0aGlzLGZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuY2FsbChiLGMsYil9KSl9LGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnByZXZPYmplY3R8fHRoaXMuY29uc3RydWN0b3IobnVsbCl9LHB1c2g6Qyxzb3J0OltdLnNvcnQsc3BsaWNlOltdLnNwbGljZX0sZS5mbi5pbml0LnByb3RvdHlwZT1lLmZuLGUuZXh0ZW5kPWUuZm4uZXh0ZW5kPWZ1bmN0aW9uKCl7dmFyIGEsYyxkLGYsZyxoLGk9YXJndW1lbnRzWzBdfHx7fSxqPTEsaz1hcmd1bWVudHMubGVuZ3RoLGw9ITE7dHlwZW9mIGk9PSJib29sZWFuIiYmKGw9aSxpPWFyZ3VtZW50c1sxXXx8e30saj0yKSx0eXBlb2YgaSE9Im9iamVjdCImJiFlLmlzRnVuY3Rpb24oaSkmJihpPXt9KSxrPT09aiYmKGk9dGhpcywtLWopO2Zvcig7ajxrO2orKylpZigoYT1hcmd1bWVudHNbal0pIT1udWxsKWZvcihjIGluIGEpe2Q9aVtjXSxmPWFbY107aWYoaT09PWYpY29udGludWU7bCYmZiYmKGUuaXNQbGFpbk9iamVjdChmKXx8KGc9ZS5pc0FycmF5KGYpKSk/KGc/KGc9ITEsaD1kJiZlLmlzQXJyYXkoZCk/ZDpbXSk6aD1kJiZlLmlzUGxhaW5PYmplY3QoZCk/ZDp7fSxpW2NdPWUuZXh0ZW5kKGwsaCxmKSk6ZiE9PWImJihpW2NdPWYpfXJldHVybiBpfSxlLmV4dGVuZCh7bm9Db25mbGljdDpmdW5jdGlvbihiKXthLiQ9PT1lJiYoYS4kPWcpLGImJmEualF1ZXJ5PT09ZSYmKGEualF1ZXJ5PWYpO3JldHVybiBlfSxpc1JlYWR5OiExLHJlYWR5V2FpdDoxLGhvbGRSZWFkeTpmdW5jdGlvbihhKXthP2UucmVhZHlXYWl0Kys6ZS5yZWFkeSghMCl9LHJlYWR5OmZ1bmN0aW9uKGEpe2lmKGE9PT0hMCYmIS0tZS5yZWFkeVdhaXR8fGEhPT0hMCYmIWUuaXNSZWFkeSl7aWYoIWMuYm9keSlyZXR1cm4gc2V0VGltZW91dChlLnJlYWR5LDEpO2UuaXNSZWFkeT0hMDtpZihhIT09ITAmJi0tZS5yZWFkeVdhaXQ+MClyZXR1cm47eS5yZXNvbHZlV2l0aChjLFtlXSksZS5mbi50cmlnZ2VyJiZlKGMpLnRyaWdnZXIoInJlYWR5IikudW5iaW5kKCJyZWFkeSIpfX0sYmluZFJlYWR5OmZ1bmN0aW9uKCl7aWYoIXkpe3k9ZS5fRGVmZXJyZWQoKTtpZihjLnJlYWR5U3RhdGU9PT0iY29tcGxldGUiKXJldHVybiBzZXRUaW1lb3V0KGUucmVhZHksMSk7aWYoYy5hZGRFdmVudExpc3RlbmVyKWMuYWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIseiwhMSksYS5hZGRFdmVudExpc3RlbmVyKCJsb2FkIixlLnJlYWR5LCExKTtlbHNlIGlmKGMuYXR0YWNoRXZlbnQpe2MuYXR0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIseiksYS5hdHRhY2hFdmVudCgib25sb2FkIixlLnJlYWR5KTt2YXIgYj0hMTt0cnl7Yj1hLmZyYW1lRWxlbWVudD09bnVsbH1jYXRjaChkKXt9Yy5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwmJmImJkgoKX19fSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGEpe3JldHVybiBlLnR5cGUoYSk9PT0iZnVuY3Rpb24ifSxpc0FycmF5OkFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGEpe3JldHVybiBlLnR5cGUoYSk9PT0iYXJyYXkifSxpc1dpbmRvdzpmdW5jdGlvbihhKXtyZXR1cm4gYSYmdHlwZW9mIGE9PSJvYmplY3QiJiYic2V0SW50ZXJ2YWwiaW4gYX0saXNOYU46ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGx8fCFtLnRlc3QoYSl8fGlzTmFOKGEpfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsP1N0cmluZyhhKTpHW0EuY2FsbChhKV18fCJvYmplY3QifSxpc1BsYWluT2JqZWN0OmZ1bmN0aW9uKGEpe2lmKCFhfHxlLnR5cGUoYSkhPT0ib2JqZWN0Inx8YS5ub2RlVHlwZXx8ZS5pc1dpbmRvdyhhKSlyZXR1cm4hMTtpZihhLmNvbnN0cnVjdG9yJiYhQi5jYWxsKGEsImNvbnN0cnVjdG9yIikmJiFCLmNhbGwoYS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsImlzUHJvdG90eXBlT2YiKSlyZXR1cm4hMTt2YXIgYztmb3IoYyBpbiBhKTtyZXR1cm4gYz09PWJ8fEIuY2FsbChhLGMpfSxpc0VtcHR5T2JqZWN0OmZ1bmN0aW9uKGEpe2Zvcih2YXIgYiBpbiBhKXJldHVybiExO3JldHVybiEwfSxlcnJvcjpmdW5jdGlvbihhKXt0aHJvdyBhfSxwYXJzZUpTT046ZnVuY3Rpb24oYil7aWYodHlwZW9mIGIhPSJzdHJpbmcifHwhYilyZXR1cm4gbnVsbDtiPWUudHJpbShiKTtpZihhLkpTT04mJmEuSlNPTi5wYXJzZSlyZXR1cm4gYS5KU09OLnBhcnNlKGIpO2lmKG8udGVzdChiLnJlcGxhY2UocCwiQCIpLnJlcGxhY2UocSwiXSIpLnJlcGxhY2UociwiIikpKXJldHVybihuZXcgRnVuY3Rpb24oInJldHVybiAiK2IpKSgpO2UuZXJyb3IoIkludmFsaWQgSlNPTjogIitiKX0scGFyc2VYTUw6ZnVuY3Rpb24oYixjLGQpe2EuRE9NUGFyc2VyPyhkPW5ldyBET01QYXJzZXIsYz1kLnBhcnNlRnJvbVN0cmluZyhiLCJ0ZXh0L3htbCIpKTooYz1uZXcgQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTERPTSIpLGMuYXN5bmM9ImZhbHNlIixjLmxvYWRYTUwoYikpLGQ9Yy5kb2N1bWVudEVsZW1lbnQsKCFkfHwhZC5ub2RlTmFtZXx8ZC5ub2RlTmFtZT09PSJwYXJzZXJlcnJvciIpJiZlLmVycm9yKCJJbnZhbGlkIFhNTDogIitiKTtyZXR1cm4gY30sbm9vcDpmdW5jdGlvbigpe30sZ2xvYmFsRXZhbDpmdW5jdGlvbihiKXtiJiZqLnRlc3QoYikmJihhLmV4ZWNTY3JpcHR8fGZ1bmN0aW9uKGIpe2EuZXZhbC5jYWxsKGEsYil9KShiKX0sbm9kZU5hbWU6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5ub2RlTmFtZSYmYS5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpPT09Yi50b1VwcGVyQ2FzZSgpfSxlYWNoOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZixnPTAsaD1hLmxlbmd0aCxpPWg9PT1ifHxlLmlzRnVuY3Rpb24oYSk7aWYoZCl7aWYoaSl7Zm9yKGYgaW4gYSlpZihjLmFwcGx5KGFbZl0sZCk9PT0hMSlicmVha31lbHNlIGZvcig7ZzxoOylpZihjLmFwcGx5KGFbZysrXSxkKT09PSExKWJyZWFrfWVsc2UgaWYoaSl7Zm9yKGYgaW4gYSlpZihjLmNhbGwoYVtmXSxmLGFbZl0pPT09ITEpYnJlYWt9ZWxzZSBmb3IoO2c8aDspaWYoYy5jYWxsKGFbZ10sZyxhW2crK10pPT09ITEpYnJlYWs7cmV0dXJuIGF9LHRyaW06RT9mdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbD8iIjpFLmNhbGwoYSl9OmZ1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsPyIiOihhKyIiKS5yZXBsYWNlKGssIiIpLnJlcGxhY2UobCwiIil9LG1ha2VBcnJheTpmdW5jdGlvbihhLGIpe3ZhciBjPWJ8fFtdO2lmKGEhPW51bGwpe3ZhciBkPWUudHlwZShhKTthLmxlbmd0aD09bnVsbHx8ZD09PSJzdHJpbmcifHxkPT09ImZ1bmN0aW9uInx8ZD09PSJyZWdleHAifHxlLmlzV2luZG93KGEpP0MuY2FsbChjLGEpOmUubWVyZ2UoYyxhKX1yZXR1cm4gY30saW5BcnJheTpmdW5jdGlvbihhLGIpe2lmKEYpcmV0dXJuIEYuY2FsbChiLGEpO2Zvcih2YXIgYz0wLGQ9Yi5sZW5ndGg7YzxkO2MrKylpZihiW2NdPT09YSlyZXR1cm4gYztyZXR1cm4tMX0sbWVyZ2U6ZnVuY3Rpb24oYSxjKXt2YXIgZD1hLmxlbmd0aCxlPTA7aWYodHlwZW9mIGMubGVuZ3RoPT0ibnVtYmVyIilmb3IodmFyIGY9Yy5sZW5ndGg7ZTxmO2UrKylhW2QrK109Y1tlXTtlbHNlIHdoaWxlKGNbZV0hPT1iKWFbZCsrXT1jW2UrK107YS5sZW5ndGg9ZDtyZXR1cm4gYX0sZ3JlcDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9W10sZTtjPSEhYztmb3IodmFyIGY9MCxnPWEubGVuZ3RoO2Y8ZztmKyspZT0hIWIoYVtmXSxmKSxjIT09ZSYmZC5wdXNoKGFbZl0pO3JldHVybiBkfSxtYXA6ZnVuY3Rpb24oYSxjLGQpe3ZhciBmLGcsaD1bXSxpPTAsaj1hLmxlbmd0aCxrPWEgaW5zdGFuY2VvZiBlfHxqIT09YiYmdHlwZW9mIGo9PSJudW1iZXIiJiYoaj4wJiZhWzBdJiZhW2otMV18fGo9PT0wfHxlLmlzQXJyYXkoYSkpO2lmKGspZm9yKDtpPGo7aSsrKWY9YyhhW2ldLGksZCksZiE9bnVsbCYmKGhbaC5sZW5ndGhdPWYpO2Vsc2UgZm9yKGcgaW4gYSlmPWMoYVtnXSxnLGQpLGYhPW51bGwmJihoW2gubGVuZ3RoXT1mKTtyZXR1cm4gaC5jb25jYXQuYXBwbHkoW10saCl9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihhLGMpe2lmKHR5cGVvZiBjPT0ic3RyaW5nIil7dmFyIGQ9YVtjXTtjPWEsYT1kfWlmKCFlLmlzRnVuY3Rpb24oYSkpcmV0dXJuIGI7dmFyIGY9RC5jYWxsKGFyZ3VtZW50cywyKSxnPWZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoYyxmLmNvbmNhdChELmNhbGwoYXJndW1lbnRzKSkpfTtnLmd1aWQ9YS5ndWlkPWEuZ3VpZHx8Zy5ndWlkfHxlLmd1aWQrKztyZXR1cm4gZ30sYWNjZXNzOmZ1bmN0aW9uKGEsYyxkLGYsZyxoKXt2YXIgaT1hLmxlbmd0aDtpZih0eXBlb2YgYz09Im9iamVjdCIpe2Zvcih2YXIgaiBpbiBjKWUuYWNjZXNzKGEsaixjW2pdLGYsZyxkKTtyZXR1cm4gYX1pZihkIT09Yil7Zj0haCYmZiYmZS5pc0Z1bmN0aW9uKGQpO2Zvcih2YXIgaz0wO2s8aTtrKyspZyhhW2tdLGMsZj9kLmNhbGwoYVtrXSxrLGcoYVtrXSxjKSk6ZCxoKTtyZXR1cm4gYX1yZXR1cm4gaT9nKGFbMF0sYyk6Yn0sbm93OmZ1bmN0aW9uKCl7cmV0dXJuKG5ldyBEYXRlKS5nZXRUaW1lKCl9LHVhTWF0Y2g6ZnVuY3Rpb24oYSl7YT1hLnRvTG93ZXJDYXNlKCk7dmFyIGI9cy5leGVjKGEpfHx0LmV4ZWMoYSl8fHUuZXhlYyhhKXx8YS5pbmRleE9mKCJjb21wYXRpYmxlIik8MCYmdi5leGVjKGEpfHxbXTtyZXR1cm57YnJvd3NlcjpiWzFdfHwiIix2ZXJzaW9uOmJbMl18fCIwIn19LHN1YjpmdW5jdGlvbigpe2Z1bmN0aW9uIGEoYixjKXtyZXR1cm4gbmV3IGEuZm4uaW5pdChiLGMpfWUuZXh0ZW5kKCEwLGEsdGhpcyksYS5zdXBlcmNsYXNzPXRoaXMsYS5mbj1hLnByb3RvdHlwZT10aGlzKCksYS5mbi5jb25zdHJ1Y3Rvcj1hLGEuc3ViPXRoaXMuc3ViLGEuZm4uaW5pdD1mdW5jdGlvbihjLGQpe2QmJmQgaW5zdGFuY2VvZiBlJiYhKGQgaW5zdGFuY2VvZiBhKSYmKGQ9YShkKSk7cmV0dXJuIGUuZm4uaW5pdC5jYWxsKHRoaXMsYyxkLGIpfSxhLmZuLmluaXQucHJvdG90eXBlPWEuZm47dmFyIGI9YShjKTtyZXR1cm4gYX0sYnJvd3Nlcjp7fX0pLGUuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe0dbIltvYmplY3QgIitiKyJdIl09Yi50b0xvd2VyQ2FzZSgpfSkseD1lLnVhTWF0Y2godykseC5icm93c2VyJiYoZS5icm93c2VyW3guYnJvd3Nlcl09ITAsZS5icm93c2VyLnZlcnNpb249eC52ZXJzaW9uKSxlLmJyb3dzZXIud2Via2l0JiYoZS5icm93c2VyLnNhZmFyaT0hMCksai50ZXN0KCLCoCIpJiYoaz0vXltcc1x4QTBdKy8sbD0vW1xzXHhBMF0rJC8pLGg9ZShjKSxjLmFkZEV2ZW50TGlzdGVuZXI/ej1mdW5jdGlvbigpe2MucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIseiwhMSksZS5yZWFkeSgpfTpjLmF0dGFjaEV2ZW50JiYoej1mdW5jdGlvbigpe2MucmVhZHlTdGF0ZT09PSJjb21wbGV0ZSImJihjLmRldGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLHopLGUucmVhZHkoKSl9KTtyZXR1cm4gZX0oKSxnPSJkb25lIGZhaWwgaXNSZXNvbHZlZCBpc1JlamVjdGVkIHByb21pc2UgdGhlbiBhbHdheXMgcGlwZSIuc3BsaXQoIiAiKSxoPVtdLnNsaWNlO2YuZXh0ZW5kKHtfRGVmZXJyZWQ6ZnVuY3Rpb24oKXt2YXIgYT1bXSxiLGMsZCxlPXtkb25lOmZ1bmN0aW9uKCl7aWYoIWQpe3ZhciBjPWFyZ3VtZW50cyxnLGgsaSxqLGs7YiYmKGs9YixiPTApO2ZvcihnPTAsaD1jLmxlbmd0aDtnPGg7ZysrKWk9Y1tnXSxqPWYudHlwZShpKSxqPT09ImFycmF5Ij9lLmRvbmUuYXBwbHkoZSxpKTpqPT09ImZ1bmN0aW9uIiYmYS5wdXNoKGkpO2smJmUucmVzb2x2ZVdpdGgoa1swXSxrWzFdKX1yZXR1cm4gdGhpc30scmVzb2x2ZVdpdGg6ZnVuY3Rpb24oZSxmKXtpZighZCYmIWImJiFjKXtmPWZ8fFtdLGM9MTt0cnl7d2hpbGUoYVswXSlhLnNoaWZ0KCkuYXBwbHkoZSxmKX1maW5hbGx5e2I9W2UsZl0sYz0wfX1yZXR1cm4gdGhpc30scmVzb2x2ZTpmdW5jdGlvbigpe2UucmVzb2x2ZVdpdGgodGhpcyxhcmd1bWVudHMpO3JldHVybiB0aGlzfSxpc1Jlc29sdmVkOmZ1bmN0aW9uKCl7cmV0dXJuISFjfHwhIWJ9LGNhbmNlbDpmdW5jdGlvbigpe2Q9MSxhPVtdO3JldHVybiB0aGlzfX07cmV0dXJuIGV9LERlZmVycmVkOmZ1bmN0aW9uKGEpe3ZhciBiPWYuX0RlZmVycmVkKCksYz1mLl9EZWZlcnJlZCgpLGQ7Zi5leHRlbmQoYix7dGhlbjpmdW5jdGlvbihhLGMpe2IuZG9uZShhKS5mYWlsKGMpO3JldHVybiB0aGlzfSxhbHdheXM6ZnVuY3Rpb24oKXtyZXR1cm4gYi5kb25lLmFwcGx5KGIsYXJndW1lbnRzKS5mYWlsLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sZmFpbDpjLmRvbmUscmVqZWN0V2l0aDpjLnJlc29sdmVXaXRoLHJlamVjdDpjLnJlc29sdmUsaXNSZWplY3RlZDpjLmlzUmVzb2x2ZWQscGlwZTpmdW5jdGlvbihhLGMpe3JldHVybiBmLkRlZmVycmVkKGZ1bmN0aW9uKGQpe2YuZWFjaCh7ZG9uZTpbYSwicmVzb2x2ZSJdLGZhaWw6W2MsInJlamVjdCJdfSxmdW5jdGlvbihhLGMpe3ZhciBlPWNbMF0sZz1jWzFdLGg7Zi5pc0Z1bmN0aW9uKGUpP2JbYV0oZnVuY3Rpb24oKXtoPWUuYXBwbHkodGhpcyxhcmd1bWVudHMpLGYuaXNGdW5jdGlvbihoLnByb21pc2UpP2gucHJvbWlzZSgpLnRoZW4oZC5yZXNvbHZlLGQucmVqZWN0KTpkW2ddKGgpfSk6YlthXShkW2ddKX0pfSkucHJvbWlzZSgpfSxwcm9taXNlOmZ1bmN0aW9uKGEpe2lmKGE9PW51bGwpe2lmKGQpcmV0dXJuIGQ7ZD1hPXt9fXZhciBjPWcubGVuZ3RoO3doaWxlKGMtLSlhW2dbY11dPWJbZ1tjXV07cmV0dXJuIGF9fSksYi5kb25lKGMuY2FuY2VsKS5mYWlsKGIuY2FuY2VsKSxkZWxldGUgYi5jYW5jZWwsYSYmYS5jYWxsKGIsYik7cmV0dXJuIGJ9LHdoZW46ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gaShhKXtyZXR1cm4gZnVuY3Rpb24oYyl7YlthXT1hcmd1bWVudHMubGVuZ3RoPjE/aC5jYWxsKGFyZ3VtZW50cywwKTpjLC0tZXx8Zy5yZXNvbHZlV2l0aChnLGguY2FsbChiLDApKX19dmFyIGI9YXJndW1lbnRzLGM9MCxkPWIubGVuZ3RoLGU9ZCxnPWQ8PTEmJmEmJmYuaXNGdW5jdGlvbihhLnByb21pc2UpP2E6Zi5EZWZlcnJlZCgpO2lmKGQ+MSl7Zm9yKDtjPGQ7YysrKWJbY10mJmYuaXNGdW5jdGlvbihiW2NdLnByb21pc2UpP2JbY10ucHJvbWlzZSgpLnRoZW4oaShjKSxnLnJlamVjdCk6LS1lO2V8fGcucmVzb2x2ZVdpdGgoZyxiKX1lbHNlIGchPT1hJiZnLnJlc29sdmVXaXRoKGcsZD9bYV06W10pO3JldHVybiBnLnByb21pc2UoKX19KSxmLnN1cHBvcnQ9ZnVuY3Rpb24oKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGIsZCxlLGYsZyxoLGksaixrLGwsbSxuLG8scCxxO2Euc2V0QXR0cmlidXRlKCJjbGFzc05hbWUiLCJ0IiksYS5pbm5lckhUTUw9IiAgIDxsaW5rLz48dGFibGU+PC90YWJsZT48YSBocmVmPScvYScgc3R5bGU9J3RvcDoxcHg7ZmxvYXQ6bGVmdDtvcGFjaXR5Oi41NTsnPmE8L2E+PGlucHV0IHR5cGU9J2NoZWNrYm94Jy8+IixiPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSxkPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKVswXTtpZighYnx8IWIubGVuZ3RofHwhZClyZXR1cm57fTtlPWMuY3JlYXRlRWxlbWVudCgic2VsZWN0IiksZj1lLmFwcGVuZENoaWxkKGMuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpLGc9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKVswXSxpPXtsZWFkaW5nV2hpdGVzcGFjZTphLmZpcnN0Q2hpbGQubm9kZVR5cGU9PT0zLHRib2R5OiFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpLmxlbmd0aCxodG1sU2VyaWFsaXplOiEhYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGluayIpLmxlbmd0aCxzdHlsZTovdG9wLy50ZXN0KGQuZ2V0QXR0cmlidXRlKCJzdHlsZSIpKSxocmVmTm9ybWFsaXplZDpkLmdldEF0dHJpYnV0ZSgiaHJlZiIpPT09Ii9hIixvcGFjaXR5Oi9eMC41NSQvLnRlc3QoZC5zdHlsZS5vcGFjaXR5KSxjc3NGbG9hdDohIWQuc3R5bGUuY3NzRmxvYXQsY2hlY2tPbjpnLnZhbHVlPT09Im9uIixvcHRTZWxlY3RlZDpmLnNlbGVjdGVkLGdldFNldEF0dHJpYnV0ZTphLmNsYXNzTmFtZSE9PSJ0IixzdWJtaXRCdWJibGVzOiEwLGNoYW5nZUJ1YmJsZXM6ITAsZm9jdXNpbkJ1YmJsZXM6ITEsZGVsZXRlRXhwYW5kbzohMCxub0Nsb25lRXZlbnQ6ITAsaW5saW5lQmxvY2tOZWVkc0xheW91dDohMSxzaHJpbmtXcmFwQmxvY2tzOiExLHJlbGlhYmxlTWFyZ2luUmlnaHQ6ITB9LGcuY2hlY2tlZD0hMCxpLm5vQ2xvbmVDaGVja2VkPWcuY2xvbmVOb2RlKCEwKS5jaGVja2VkLGUuZGlzYWJsZWQ9ITAsaS5vcHREaXNhYmxlZD0hZi5kaXNhYmxlZDt0cnl7ZGVsZXRlIGEudGVzdH1jYXRjaChyKXtpLmRlbGV0ZUV4cGFuZG89ITF9IWEuYWRkRXZlbnRMaXN0ZW5lciYmYS5hdHRhY2hFdmVudCYmYS5maXJlRXZlbnQmJihhLmF0dGFjaEV2ZW50KCJvbmNsaWNrIixmdW5jdGlvbiBjbGljaygpe2kubm9DbG9uZUV2ZW50PSExLGEuZGV0YWNoRXZlbnQoIm9uY2xpY2siLGNsaWNrKX0pLGEuY2xvbmVOb2RlKCEwKS5maXJlRXZlbnQoIm9uY2xpY2siKSksZz1jLmNyZWF0ZUVsZW1lbnQoImlucHV0IiksZy52YWx1ZT0idCIsZy5zZXRBdHRyaWJ1dGUoInR5cGUiLCJyYWRpbyIpLGkucmFkaW9WYWx1ZT1nLnZhbHVlPT09InQiLGcuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwiY2hlY2tlZCIpLGEuYXBwZW5kQ2hpbGQoZyksaj1jLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxqLmFwcGVuZENoaWxkKGEuZmlyc3RDaGlsZCksaS5jaGVja0Nsb25lPWouY2xvbmVOb2RlKCEwKS5jbG9uZU5vZGUoITApLmxhc3RDaGlsZC5jaGVja2VkLGEuaW5uZXJIVE1MPSIiLGEuc3R5bGUud2lkdGg9YS5zdHlsZS5wYWRkaW5nTGVmdD0iMXB4IixrPWMuY3JlYXRlRWxlbWVudCgiYm9keSIpLGw9e3Zpc2liaWxpdHk6ImhpZGRlbiIsd2lkdGg6MCxoZWlnaHQ6MCxib3JkZXI6MCxtYXJnaW46MCxiYWNrZ3JvdW5kOiJub25lIn07Zm9yKHAgaW4gbClrLnN0eWxlW3BdPWxbcF07ay5hcHBlbmRDaGlsZChhKSxjLmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChrKSxpLmFwcGVuZENoZWNrZWQ9Zy5jaGVja2VkLGkuYm94TW9kZWw9YS5vZmZzZXRXaWR0aD09PTIsInpvb20iaW4gYS5zdHlsZSYmKGEuc3R5bGUuZGlzcGxheT0iaW5saW5lIixhLnN0eWxlLnpvb209MSxpLmlubGluZUJsb2NrTmVlZHNMYXlvdXQ9YS5vZmZzZXRXaWR0aD09PTIsYS5zdHlsZS5kaXNwbGF5PSIiLGEuaW5uZXJIVE1MPSI8ZGl2IHN0eWxlPSd3aWR0aDo0cHg7Jz48L2Rpdj4iLGkuc2hyaW5rV3JhcEJsb2Nrcz1hLm9mZnNldFdpZHRoIT09MiksYS5pbm5lckhUTUw9Ijx0YWJsZT48dHI+PHRkIHN0eWxlPSdwYWRkaW5nOjA7Ym9yZGVyOjA7ZGlzcGxheTpub25lJz48L3RkPjx0ZD50PC90ZD48L3RyPjwvdGFibGU+IixtPWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRkIikscT1tWzBdLm9mZnNldEhlaWdodD09PTAsbVswXS5zdHlsZS5kaXNwbGF5PSIiLG1bMV0uc3R5bGUuZGlzcGxheT0ibm9uZSIsaS5yZWxpYWJsZUhpZGRlbk9mZnNldHM9cSYmbVswXS5vZmZzZXRIZWlnaHQ9PT0wLGEuaW5uZXJIVE1MPSIiLGMuZGVmYXVsdFZpZXcmJmMuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSYmKGg9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxoLnN0eWxlLndpZHRoPSIwIixoLnN0eWxlLm1hcmdpblJpZ2h0PSIwIixhLmFwcGVuZENoaWxkKGgpLGkucmVsaWFibGVNYXJnaW5SaWdodD0ocGFyc2VJbnQoYy5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGgsbnVsbCkubWFyZ2luUmlnaHQsMTApfHwwKT09PTApLGsuaW5uZXJIVE1MPSIiLGMuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUNoaWxkKGspO2lmKGEuYXR0YWNoRXZlbnQpZm9yKHAgaW57c3VibWl0OjEsY2hhbmdlOjEsZm9jdXNpbjoxfSlvPSJvbiIrcCxxPW8gaW4gYSxxfHwoYS5zZXRBdHRyaWJ1dGUobywicmV0dXJuOyIpLHE9dHlwZW9mIGFbb109PSJmdW5jdGlvbiIpLGlbcCsiQnViYmxlcyJdPXE7cmV0dXJuIGl9KCksZi5ib3hNb2RlbD1mLnN1cHBvcnQuYm94TW9kZWw7dmFyIGk9L14oPzpcey4qXH18XFsuKlxdKSQvLGo9LyhbYS16XSkoW0EtWl0pL2c7Zi5leHRlbmQoe2NhY2hlOnt9LHV1aWQ6MCxleHBhbmRvOiJqUXVlcnkiKyhmLmZuLmpxdWVyeStNYXRoLnJhbmRvbSgpKS5yZXBsYWNlKC9cRC9nLCIiKSxub0RhdGE6e2VtYmVkOiEwLG9iamVjdDoiY2xzaWQ6RDI3Q0RCNkUtQUU2RC0xMWNmLTk2QjgtNDQ0NTUzNTQwMDAwIixhcHBsZXQ6ITB9LGhhc0RhdGE6ZnVuY3Rpb24oYSl7YT1hLm5vZGVUeXBlP2YuY2FjaGVbYVtmLmV4cGFuZG9dXTphW2YuZXhwYW5kb107cmV0dXJuISFhJiYhbChhKX0sZGF0YTpmdW5jdGlvbihhLGMsZCxlKXtpZighIWYuYWNjZXB0RGF0YShhKSl7dmFyIGc9Zi5leHBhbmRvLGg9dHlwZW9mIGM9PSJzdHJpbmciLGksaj1hLm5vZGVUeXBlLGs9aj9mLmNhY2hlOmEsbD1qP2FbZi5leHBhbmRvXTphW2YuZXhwYW5kb10mJmYuZXhwYW5kbztpZigoIWx8fGUmJmwmJiFrW2xdW2ddKSYmaCYmZD09PWIpcmV0dXJuO2x8fChqP2FbZi5leHBhbmRvXT1sPSsrZi51dWlkOmw9Zi5leHBhbmRvKSxrW2xdfHwoa1tsXT17fSxqfHwoa1tsXS50b0pTT049Zi5ub29wKSk7aWYodHlwZW9mIGM9PSJvYmplY3QifHx0eXBlb2YgYz09ImZ1bmN0aW9uIillP2tbbF1bZ109Zi5leHRlbmQoa1tsXVtnXSxjKTprW2xdPWYuZXh0ZW5kKGtbbF0sYyk7aT1rW2xdLGUmJihpW2ddfHwoaVtnXT17fSksaT1pW2ddKSxkIT09YiYmKGlbY109ZCk7aWYoYz09PSJldmVudHMiJiYhaVtjXSlyZXR1cm4gaVtnXSYmaVtnXS5ldmVudHM7cmV0dXJuIGg/aVtjXTppfX0scmVtb3ZlRGF0YTpmdW5jdGlvbihiLGMsZCl7aWYoISFmLmFjY2VwdERhdGEoYikpe3ZhciBlPWYuZXhwYW5kbyxnPWIubm9kZVR5cGUsaD1nP2YuY2FjaGU6YixpPWc/YltmLmV4cGFuZG9dOmYuZXhwYW5kbztpZighaFtpXSlyZXR1cm47aWYoYyl7dmFyIGo9ZD9oW2ldW2VdOmhbaV07aWYoail7ZGVsZXRlIGpbY107aWYoIWwoaikpcmV0dXJufX1pZihkKXtkZWxldGUgaFtpXVtlXTtpZighbChoW2ldKSlyZXR1cm59dmFyIGs9aFtpXVtlXTtmLnN1cHBvcnQuZGVsZXRlRXhwYW5kb3x8aCE9YT9kZWxldGUgaFtpXTpoW2ldPW51bGwsaz8oaFtpXT17fSxnfHwoaFtpXS50b0pTT049Zi5ub29wKSxoW2ldW2VdPWspOmcmJihmLnN1cHBvcnQuZGVsZXRlRXhwYW5kbz9kZWxldGUgYltmLmV4cGFuZG9dOmIucmVtb3ZlQXR0cmlidXRlP2IucmVtb3ZlQXR0cmlidXRlKGYuZXhwYW5kbyk6YltmLmV4cGFuZG9dPW51bGwpfX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmLmRhdGEoYSxiLGMsITApfSxhY2NlcHREYXRhOmZ1bmN0aW9uKGEpe2lmKGEubm9kZU5hbWUpe3ZhciBiPWYubm9EYXRhW2Eubm9kZU5hbWUudG9Mb3dlckNhc2UoKV07aWYoYilyZXR1cm4gYiE9PSEwJiZhLmdldEF0dHJpYnV0ZSgiY2xhc3NpZCIpPT09Yn1yZXR1cm4hMH19KSxmLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihhLGMpe3ZhciBkPW51bGw7aWYodHlwZW9mIGE9PSJ1bmRlZmluZWQiKXtpZih0aGlzLmxlbmd0aCl7ZD1mLmRhdGEodGhpc1swXSk7aWYodGhpc1swXS5ub2RlVHlwZT09PTEpe3ZhciBlPXRoaXNbMF0uYXR0cmlidXRlcyxnO2Zvcih2YXIgaD0wLGk9ZS5sZW5ndGg7aDxpO2grKylnPWVbaF0ubmFtZSxnLmluZGV4T2YoImRhdGEtIik9PT0wJiYoZz1mLmNhbWVsQ2FzZShnLnN1YnN0cmluZyg1KSksayh0aGlzWzBdLGcsZFtnXSkpfX1yZXR1cm4gZH1pZih0eXBlb2YgYT09Im9iamVjdCIpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2YuZGF0YSh0aGlzLGEpfSk7dmFyIGo9YS5zcGxpdCgiLiIpO2pbMV09alsxXT8iLiIralsxXToiIjtpZihjPT09Yil7ZD10aGlzLnRyaWdnZXJIYW5kbGVyKCJnZXREYXRhIitqWzFdKyIhIixbalswXV0pLGQ9PT1iJiZ0aGlzLmxlbmd0aCYmKGQ9Zi5kYXRhKHRoaXNbMF0sYSksZD1rKHRoaXNbMF0sYSxkKSk7cmV0dXJuIGQ9PT1iJiZqWzFdP3RoaXMuZGF0YShqWzBdKTpkfXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1mKHRoaXMpLGQ9W2pbMF0sY107Yi50cmlnZ2VySGFuZGxlcigic2V0RGF0YSIralsxXSsiISIsZCksZi5kYXRhKHRoaXMsYSxjKSxiLnRyaWdnZXJIYW5kbGVyKCJjaGFuZ2VEYXRhIitqWzFdKyIhIixkKX0pfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pLGYuZXh0ZW5kKHtfbWFyazpmdW5jdGlvbihhLGMpe2EmJihjPShjfHwiZngiKSsibWFyayIsZi5kYXRhKGEsYywoZi5kYXRhKGEsYyxiLCEwKXx8MCkrMSwhMCkpfSxfdW5tYXJrOmZ1bmN0aW9uKGEsYyxkKXthIT09ITAmJihkPWMsYz1hLGE9ITEpO2lmKGMpe2Q9ZHx8ImZ4Ijt2YXIgZT1kKyJtYXJrIixnPWE/MDooZi5kYXRhKGMsZSxiLCEwKXx8MSktMTtnP2YuZGF0YShjLGUsZywhMCk6KGYucmVtb3ZlRGF0YShjLGUsITApLG0oYyxkLCJtYXJrIikpfX0scXVldWU6ZnVuY3Rpb24oYSxjLGQpe2lmKGEpe2M9KGN8fCJmeCIpKyJxdWV1ZSI7dmFyIGU9Zi5kYXRhKGEsYyxiLCEwKTtkJiYoIWV8fGYuaXNBcnJheShkKT9lPWYuZGF0YShhLGMsZi5tYWtlQXJyYXkoZCksITApOmUucHVzaChkKSk7cmV0dXJuIGV8fFtdfX0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8ImZ4Ijt2YXIgYz1mLnF1ZXVlKGEsYiksZD1jLnNoaWZ0KCksZTtkPT09ImlucHJvZ3Jlc3MiJiYoZD1jLnNoaWZ0KCkpLGQmJihiPT09ImZ4IiYmYy51bnNoaWZ0KCJpbnByb2dyZXNzIiksZC5jYWxsKGEsZnVuY3Rpb24oKXtmLmRlcXVldWUoYSxiKX0pKSxjLmxlbmd0aHx8KGYucmVtb3ZlRGF0YShhLGIrInF1ZXVlIiwhMCksbShhLGIsInF1ZXVlIikpfX0pLGYuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGMpe3R5cGVvZiBhIT0ic3RyaW5nIiYmKGM9YSxhPSJmeCIpO2lmKGM9PT1iKXJldHVybiBmLnF1ZXVlKHRoaXNbMF0sYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWYucXVldWUodGhpcyxhLGMpO2E9PT0iZngiJiZiWzBdIT09ImlucHJvZ3Jlc3MiJiZmLmRlcXVldWUodGhpcyxhKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLmRlcXVldWUodGhpcyxhKX0pfSxkZWxheTpmdW5jdGlvbihhLGIpe2E9Zi5meD9mLmZ4LnNwZWVkc1thXXx8YTphLGI9Ynx8ImZ4IjtyZXR1cm4gdGhpcy5xdWV1ZShiLGZ1bmN0aW9uKCl7dmFyIGM9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zi5kZXF1ZXVlKGMsYil9LGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBsKCl7LS1ofHxkLnJlc29sdmVXaXRoKGUsW2VdKX10eXBlb2YgYSE9InN0cmluZyImJihjPWEsYT1iKSxhPWF8fCJmeCI7dmFyIGQ9Zi5EZWZlcnJlZCgpLGU9dGhpcyxnPWUubGVuZ3RoLGg9MSxpPWErImRlZmVyIixqPWErInF1ZXVlIixrPWErIm1hcmsiO3doaWxlKGctLSlpZih0bXA9Zi5kYXRhKGVbZ10saSxiLCEwKXx8KGYuZGF0YShlW2ddLGosYiwhMCl8fGYuZGF0YShlW2ddLGssYiwhMCkpJiZmLmRhdGEoZVtnXSxpLGYuX0RlZmVycmVkKCksITApKWgrKyx0bXAuZG9uZShsKTtsKCk7cmV0dXJuIGQucHJvbWlzZSgpfX0pO3ZhciBuPS9bXG5cdFxyXS9nLG89L1xzKy8scD0vXHIvZyxxPS9eKD86YnV0dG9ufGlucHV0KSQvaSxyPS9eKD86YnV0dG9ufGlucHV0fG9iamVjdHxzZWxlY3R8dGV4dGFyZWEpJC9pLHM9L15hKD86cmVhKT8kL2ksdD0vXig/OmRhdGEtfGFyaWEtKS8sdT0vXDovLHY7Zi5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZi5hY2Nlc3ModGhpcyxhLGIsITAsZi5hdHRyKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zi5yZW1vdmVBdHRyKHRoaXMsYSl9KX0scHJvcDpmdW5jdGlvbihhLGIpe3JldHVybiBmLmFjY2Vzcyh0aGlzLGEsYiwhMCxmLnByb3ApfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0cnl7dGhpc1thXT1iLGRlbGV0ZSB0aGlzW2FdfWNhdGNoKGMpe319KX0sYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9Zih0aGlzKTtjLmFkZENsYXNzKGEuY2FsbCh0aGlzLGIsYy5hdHRyKCJjbGFzcyIpfHwiIikpfSk7aWYoYSYmdHlwZW9mIGE9PSJzdHJpbmciKXt2YXIgYj0oYXx8IiIpLnNwbGl0KG8pO2Zvcih2YXIgYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKyl7dmFyIGU9dGhpc1tjXTtpZihlLm5vZGVUeXBlPT09MSlpZighZS5jbGFzc05hbWUpZS5jbGFzc05hbWU9YTtlbHNle3ZhciBnPSIgIitlLmNsYXNzTmFtZSsiICIsaD1lLmNsYXNzTmFtZTtmb3IodmFyIGk9MCxqPWIubGVuZ3RoO2k8ajtpKyspZy5pbmRleE9mKCIgIitiW2ldKyIgIik8MCYmKGgrPSIgIitiW2ldKTtlLmNsYXNzTmFtZT1mLnRyaW0oaCl9fX1yZXR1cm4gdGhpc30scmVtb3ZlQ2xhc3M6ZnVuY3Rpb24oYSl7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9Zih0aGlzKTtjLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsYy5hdHRyKCJjbGFzcyIpKSl9KTtpZihhJiZ0eXBlb2YgYT09InN0cmluZyJ8fGE9PT1iKXt2YXIgYz0oYXx8IiIpLnNwbGl0KG8pO2Zvcih2YXIgZD0wLGU9dGhpcy5sZW5ndGg7ZDxlO2QrKyl7dmFyIGc9dGhpc1tkXTtpZihnLm5vZGVUeXBlPT09MSYmZy5jbGFzc05hbWUpaWYoYSl7dmFyIGg9KCIgIitnLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UobiwiICIpO2Zvcih2YXIgaT0wLGo9Yy5sZW5ndGg7aTxqO2krKyloPWgucmVwbGFjZSgiICIrY1tpXSsiICIsIiAiKTtnLmNsYXNzTmFtZT1mLnRyaW0oaCl9ZWxzZSBnLmNsYXNzTmFtZT0iIn19cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGEsZD10eXBlb2YgYj09ImJvb2xlYW4iO2lmKGYuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe3ZhciBkPWYodGhpcyk7ZC50b2dnbGVDbGFzcyhhLmNhbGwodGhpcyxjLGQuYXR0cigiY2xhc3MiKSxiKSxiKX0pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpZihjPT09InN0cmluZyIpe3ZhciBlLGc9MCxoPWYodGhpcyksaT1iLGo9YS5zcGxpdChvKTt3aGlsZShlPWpbZysrXSlpPWQ/aTohaC5oYXNDbGFzcyhlKSxoW2k/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXShlKX1lbHNlIGlmKGM9PT0idW5kZWZpbmVkInx8Yz09PSJib29sZWFuIil0aGlzLmNsYXNzTmFtZSYmZi5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGE9PT0hMT8iIjpmLl9kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiJ9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9IiAiK2ErIiAiO2Zvcih2YXIgYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKylpZigoIiAiK3RoaXNbY10uY2xhc3NOYW1lKyIgIikucmVwbGFjZShuLCIgIikuaW5kZXhPZihiKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX0sdmFsOmZ1bmN0aW9uKGEpe3ZhciBjLGQsZT10aGlzWzBdO2lmKCFhcmd1bWVudHMubGVuZ3RoKXtpZihlKXtjPWYudmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXXx8Zi52YWxIb29rc1tlLnR5cGVdO2lmKGMmJiJnZXQiaW4gYyYmKGQ9Yy5nZXQoZSwidmFsdWUiKSkhPT1iKXJldHVybiBkO3JldHVybihlLnZhbHVlfHwiIikucmVwbGFjZShwLCIiKX1yZXR1cm4gYn12YXIgZz1mLmlzRnVuY3Rpb24oYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihkKXt2YXIgZT1mKHRoaXMpLGg7aWYodGhpcy5ub2RlVHlwZT09PTEpe2c/aD1hLmNhbGwodGhpcyxkLGUudmFsKCkpOmg9YSxoPT1udWxsP2g9IiI6dHlwZW9mIGg9PSJudW1iZXIiP2grPSIiOmYuaXNBcnJheShoKSYmKGg9Zi5tYXAoaCxmdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbD8iIjphKyIifSkpLGM9Zi52YWxIb29rc1t0aGlzLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldfHxmLnZhbEhvb2tzW3RoaXMudHlwZV07aWYoIWN8fCJzZXQiaW4gYyYmYy5zZXQodGhpcyxoLCJ2YWx1ZSIpPT09Yil0aGlzLnZhbHVlPWh9fSl9fSksZi5leHRlbmQoe3ZhbEhvb2tzOntvcHRpb246e2dldDpmdW5jdGlvbihhKXt2YXIgYj1hLmF0dHJpYnV0ZXMudmFsdWU7cmV0dXJuIWJ8fGIuc3BlY2lmaWVkP2EudmFsdWU6YS50ZXh0fX0sc2VsZWN0OntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5zZWxlY3RlZEluZGV4LGM9W10sZD1hLm9wdGlvbnMsZT1hLnR5cGU9PT0ic2VsZWN0LW9uZSI7aWYoYjwwKXJldHVybiBudWxsO2Zvcih2YXIgZz1lP2I6MCxoPWU/YisxOmQubGVuZ3RoO2c8aDtnKyspe3ZhciBpPWRbZ107aWYoaS5zZWxlY3RlZCYmKGYuc3VwcG9ydC5vcHREaXNhYmxlZD8haS5kaXNhYmxlZDppLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKT09PW51bGwpJiYoIWkucGFyZW50Tm9kZS5kaXNhYmxlZHx8IWYubm9kZU5hbWUoaS5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7dmFsdWU9ZihpKS52YWwoKTtpZihlKXJldHVybiB2YWx1ZTtjLnB1c2godmFsdWUpfX1pZihlJiYhYy5sZW5ndGgmJmQubGVuZ3RoKXJldHVybiBmKGRbYl0pLnZhbCgpO3JldHVybiBjfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1mLm1ha2VBcnJheShiKTtmKGEpLmZpbmQoIm9wdGlvbiIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkPWYuaW5BcnJheShmKHRoaXMpLnZhbCgpLGMpPj0wfSksYy5sZW5ndGh8fChhLnNlbGVjdGVkSW5kZXg9LTEpO3JldHVybiBjfX19LGF0dHJGbjp7dmFsOiEwLGNzczohMCxodG1sOiEwLHRleHQ6ITAsZGF0YTohMCx3aWR0aDohMCxoZWlnaHQ6ITAsb2Zmc2V0OiEwfSxhdHRyRml4Ont0YWJpbmRleDoidGFiSW5kZXgiLHJlYWRvbmx5OiJyZWFkT25seSJ9LGF0dHI6ZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGc9YS5ub2RlVHlwZTtpZighYXx8Zz09PTN8fGc9PT04fHxnPT09MilyZXR1cm4gYjtpZihlJiZjIGluIGYuYXR0ckZuKXJldHVybiBmKGEpW2NdKGQpO3ZhciBoLGksaj1nIT09MXx8IWYuaXNYTUxEb2MoYSk7Yz1qJiZmLmF0dHJGaXhbY118fGMsaT1mLmF0dHJIb29rc1tjXXx8KHYmJihmLm5vZGVOYW1lKGEsImZvcm0iKXx8dS50ZXN0KGMpKT92OmIpO2lmKGQhPT1iKXtpZihkPT09bnVsbHx8ZD09PSExJiYhdC50ZXN0KGMpKXtmLnJlbW92ZUF0dHIoYSxjKTtyZXR1cm4gYn1pZihpJiYic2V0ImluIGkmJmomJihoPWkuc2V0KGEsZCxjKSkhPT1iKXJldHVybiBoO2Q9PT0hMCYmIXQudGVzdChjKSYmKGQ9YyksYS5zZXRBdHRyaWJ1dGUoYywiIitkKTtyZXR1cm4gZH1pZihpJiYiZ2V0ImluIGkmJmopcmV0dXJuIGkuZ2V0KGEsYyk7aD1hLmdldEF0dHJpYnV0ZShjKTtyZXR1cm4gaD09PW51bGw/YjpofSxyZW1vdmVBdHRyOmZ1bmN0aW9uKGEsYil7YS5ub2RlVHlwZT09PTEmJihiPWYuYXR0ckZpeFtiXXx8YixmLnN1cHBvcnQuZ2V0U2V0QXR0cmlidXRlP2EucmVtb3ZlQXR0cmlidXRlKGIpOihmLmF0dHIoYSxiLCIiKSxhLnJlbW92ZUF0dHJpYnV0ZU5vZGUoYS5nZXRBdHRyaWJ1dGVOb2RlKGIpKSkpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKHEudGVzdChhLm5vZGVOYW1lKSYmYS5wYXJlbnROb2RlKWYuZXJyb3IoInR5cGUgcHJvcGVydHkgY2FuJ3QgYmUgY2hhbmdlZCIpO2Vsc2UgaWYoIWYuc3VwcG9ydC5yYWRpb1ZhbHVlJiZiPT09InJhZGlvIiYmZi5ub2RlTmFtZShhLCJpbnB1dCIpKXt2YXIgYz1hLmdldEF0dHJpYnV0ZSgidmFsdWUiKTthLnNldEF0dHJpYnV0ZSgidHlwZSIsYiksYyYmKGEudmFsdWU9Yyk7cmV0dXJuIGJ9fX0sdGFiSW5kZXg6e2dldDpmdW5jdGlvbihhKXt2YXIgYz1hLmdldEF0dHJpYnV0ZU5vZGUoInRhYkluZGV4Iik7cmV0dXJuIGMmJmMuc3BlY2lmaWVkP3BhcnNlSW50KGMudmFsdWUsMTApOnIudGVzdChhLm5vZGVOYW1lKXx8cy50ZXN0KGEubm9kZU5hbWUpJiZhLmhyZWY/MDpifX19LHByb3BGaXg6e30scHJvcDpmdW5jdGlvbihhLGMsZCl7dmFyIGU9YS5ub2RlVHlwZTtpZighYXx8ZT09PTN8fGU9PT04fHxlPT09MilyZXR1cm4gYjt2YXIgZyxoLGk9ZSE9PTF8fCFmLmlzWE1MRG9jKGEpO2M9aSYmZi5wcm9wRml4W2NdfHxjLGg9Zi5wcm9wSG9va3NbY107cmV0dXJuIGQhPT1iP2gmJiJzZXQiaW4gaCYmKGc9aC5zZXQoYSxkLGMpKSE9PWI/ZzphW2NdPWQ6aCYmImdldCJpbiBoJiYoZz1oLmdldChhLGMpKSE9PWI/ZzphW2NdfSxwcm9wSG9va3M6e319KSxmLnN1cHBvcnQuZ2V0U2V0QXR0cmlidXRlfHwoZi5hdHRyRml4PWYuZXh0ZW5kKGYuYXR0ckZpeCx7ImZvciI6Imh0bWxGb3IiLCJjbGFzcyI6ImNsYXNzTmFtZSIsbWF4bGVuZ3RoOiJtYXhMZW5ndGgiLGNlbGxzcGFjaW5nOiJjZWxsU3BhY2luZyIsY2VsbHBhZGRpbmc6ImNlbGxQYWRkaW5nIixyb3dzcGFuOiJyb3dTcGFuIixjb2xzcGFuOiJjb2xTcGFuIix1c2VtYXA6InVzZU1hcCIsZnJhbWVib3JkZXI6ImZyYW1lQm9yZGVyIn0pLHY9Zi5hdHRySG9va3MubmFtZT1mLmF0dHJIb29rcy52YWx1ZT1mLnZhbEhvb2tzLmJ1dHRvbj17Z2V0OmZ1bmN0aW9uKGEsYyl7dmFyIGQ7aWYoYz09PSJ2YWx1ZSImJiFmLm5vZGVOYW1lKGEsImJ1dHRvbiIpKXJldHVybiBhLmdldEF0dHJpYnV0ZShjKTtkPWEuZ2V0QXR0cmlidXRlTm9kZShjKTtyZXR1cm4gZCYmZC5zcGVjaWZpZWQ/ZC5ub2RlVmFsdWU6Yn0sc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLmdldEF0dHJpYnV0ZU5vZGUoYyk7aWYoZCl7ZC5ub2RlVmFsdWU9YjtyZXR1cm4gYn19fSxmLmVhY2goWyJ3aWR0aCIsImhlaWdodCJdLGZ1bmN0aW9uKGEsYil7Zi5hdHRySG9va3NbYl09Zi5leHRlbmQoZi5hdHRySG9va3NbYl0se3NldDpmdW5jdGlvbihhLGMpe2lmKGM9PT0iIil7YS5zZXRBdHRyaWJ1dGUoYiwiYXV0byIpO3JldHVybiBjfX19KX0pKSxmLnN1cHBvcnQuaHJlZk5vcm1hbGl6ZWR8fGYuZWFjaChbImhyZWYiLCJzcmMiLCJ3aWR0aCIsImhlaWdodCJdLGZ1bmN0aW9uKGEsYyl7Zi5hdHRySG9va3NbY109Zi5leHRlbmQoZi5hdHRySG9va3NbY10se2dldDpmdW5jdGlvbihhKXt2YXIgZD1hLmdldEF0dHJpYnV0ZShjLDIpO3JldHVybiBkPT09bnVsbD9iOmR9fSl9KSxmLnN1cHBvcnQuc3R5bGV8fChmLmF0dHJIb29rcy5zdHlsZT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLnN0eWxlLmNzc1RleHQudG9Mb3dlckNhc2UoKXx8Yn0sc2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuc3R5bGUuY3NzVGV4dD0iIitifX0pLGYuc3VwcG9ydC5vcHRTZWxlY3RlZHx8KGYucHJvcEhvb2tzLnNlbGVjdGVkPWYuZXh0ZW5kKGYucHJvcEhvb2tzLnNlbGVjdGVkLHtnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5wYXJlbnROb2RlO2ImJihiLnNlbGVjdGVkSW5kZXgsYi5wYXJlbnROb2RlJiZiLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleCl9fSkpLGYuc3VwcG9ydC5jaGVja09ufHxmLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtmLnZhbEhvb2tzW3RoaXNdPXtnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpPT09bnVsbD8ib24iOmEudmFsdWV9fX0pLGYuZWFjaChbInJhZGlvIiwiY2hlY2tib3giXSxmdW5jdGlvbigpe2YudmFsSG9va3NbdGhpc109Zi5leHRlbmQoZi52YWxIb29rc1t0aGlzXSx7c2V0OmZ1bmN0aW9uKGEsYil7aWYoZi5pc0FycmF5KGIpKXJldHVybiBhLmNoZWNrZWQ9Zi5pbkFycmF5KGYoYSkudmFsKCksYik+PTB9fSl9KTt2YXIgdz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LHg9L1wuKC4qKSQvLHk9L14oPzp0ZXh0YXJlYXxpbnB1dHxzZWxlY3QpJC9pLHo9L1wuL2csQT0vIC9nLEI9L1teXHdccy58YF0vZyxDPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoQiwiXFwkJiIpfTtmLmV2ZW50PXthZGQ6ZnVuY3Rpb24oYSxjLGQsZSl7aWYoYS5ub2RlVHlwZSE9PTMmJmEubm9kZVR5cGUhPT04KXtpZihkPT09ITEpZD1EO2Vsc2UgaWYoIWQpcmV0dXJuO3ZhciBnLGg7ZC5oYW5kbGVyJiYoZz1kLGQ9Zy5oYW5kbGVyKSxkLmd1aWR8fChkLmd1aWQ9Zi5ndWlkKyspO3ZhciBpPWYuX2RhdGEoYSk7aWYoIWkpcmV0dXJuO3ZhciBqPWkuZXZlbnRzLGs9aS5oYW5kbGU7anx8KGkuZXZlbnRzPWo9e30pLGt8fChpLmhhbmRsZT1rPWZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgZiE9InVuZGVmaW5lZCImJighYXx8Zi5ldmVudC50cmlnZ2VyZWQhPT1hLnR5cGUpP2YuZXZlbnQuaGFuZGxlLmFwcGx5KGsuZWxlbSxhcmd1bWVudHMpOmJ9KSxrLmVsZW09YSxjPWMuc3BsaXQoIiAiKTt2YXIgbCxtPTAsbjt3aGlsZShsPWNbbSsrXSl7aD1nP2YuZXh0ZW5kKHt9LGcpOntoYW5kbGVyOmQsZGF0YTplfSxsLmluZGV4T2YoIi4iKT4tMT8obj1sLnNwbGl0KCIuIiksbD1uLnNoaWZ0KCksaC5uYW1lc3BhY2U9bi5zbGljZSgwKS5zb3J0KCkuam9pbigiLiIpKToobj1bXSxoLm5hbWVzcGFjZT0iIiksaC50eXBlPWwsaC5ndWlkfHwoaC5ndWlkPWQuZ3VpZCk7dmFyIG89altsXSxwPWYuZXZlbnQuc3BlY2lhbFtsXXx8e307aWYoIW8pe289altsXT1bXTtpZighcC5zZXR1cHx8cC5zZXR1cC5jYWxsKGEsZSxuLGspPT09ITEpYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihsLGssITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitsLGspfXAuYWRkJiYocC5hZGQuY2FsbChhLGgpLGguaGFuZGxlci5ndWlkfHwoaC5oYW5kbGVyLmd1aWQ9ZC5ndWlkKSksby5wdXNoKGgpLGYuZXZlbnQuZ2xvYmFsW2xdPSEwfWE9bnVsbH19LGdsb2JhbDp7fSxyZW1vdmU6ZnVuY3Rpb24oYSxjLGQsZSl7aWYoYS5ub2RlVHlwZSE9PTMmJmEubm9kZVR5cGUhPT04KXtkPT09ITEmJihkPUQpO3ZhciBnLGgsaSxqLGs9MCxsLG0sbixvLHAscSxyLHM9Zi5oYXNEYXRhKGEpJiZmLl9kYXRhKGEpLHQ9cyYmcy5ldmVudHM7aWYoIXN8fCF0KXJldHVybjtjJiZjLnR5cGUmJihkPWMuaGFuZGxlcixjPWMudHlwZSk7aWYoIWN8fHR5cGVvZiBjPT0ic3RyaW5nIiYmYy5jaGFyQXQoMCk9PT0iLiIpe2M9Y3x8IiI7Zm9yKGggaW4gdClmLmV2ZW50LnJlbW92ZShhLGgrYyk7cmV0dXJufWM9Yy5zcGxpdCgiICIpO3doaWxlKGg9Y1trKytdKXtyPWgscT1udWxsLGw9aC5pbmRleE9mKCIuIik8MCxtPVtdLGx8fChtPWguc3BsaXQoIi4iKSxoPW0uc2hpZnQoKSxuPW5ldyBSZWdFeHAoIihefFxcLikiK2YubWFwKG0uc2xpY2UoMCkuc29ydCgpLEMpLmpvaW4oIlxcLig/Oi4qXFwuKT8iKSsiKFxcLnwkKSIpKSxwPXRbaF07aWYoIXApY29udGludWU7aWYoIWQpe2ZvcihqPTA7ajxwLmxlbmd0aDtqKyspe3E9cFtqXTtpZihsfHxuLnRlc3QocS5uYW1lc3BhY2UpKWYuZXZlbnQucmVtb3ZlKGEscixxLmhhbmRsZXIsaikscC5zcGxpY2Uoai0tLDEpfWNvbnRpbnVlfW89Zi5ldmVudC5zcGVjaWFsW2hdfHx7fTtmb3Ioaj1lfHwwO2o8cC5sZW5ndGg7aisrKXtxPXBbal07aWYoZC5ndWlkPT09cS5ndWlkKXtpZihsfHxuLnRlc3QocS5uYW1lc3BhY2UpKWU9PW51bGwmJnAuc3BsaWNlKGotLSwxKSxvLnJlbW92ZSYmby5yZW1vdmUuY2FsbChhLHEpO2lmKGUhPW51bGwpYnJlYWt9fWlmKHAubGVuZ3RoPT09MHx8ZSE9bnVsbCYmcC5sZW5ndGg9PT0xKSghby50ZWFyZG93bnx8by50ZWFyZG93bi5jYWxsKGEsbSk9PT0hMSkmJmYucmVtb3ZlRXZlbnQoYSxoLHMuaGFuZGxlKSxnPW51bGwsZGVsZXRlIHRbaF19aWYoZi5pc0VtcHR5T2JqZWN0KHQpKXt2YXIgdT1zLmhhbmRsZTt1JiYodS5lbGVtPW51bGwpLGRlbGV0ZSBzLmV2ZW50cyxkZWxldGUgcy5oYW5kbGUsZi5pc0VtcHR5T2JqZWN0KHMpJiZmLnJlbW92ZURhdGEoYSxiLCEwKX19fSxjdXN0b21FdmVudDp7Z2V0RGF0YTohMCxzZXREYXRhOiEwLGNoYW5nZURhdGE6ITB9LHRyaWdnZXI6ZnVuY3Rpb24oYyxkLGUsZyl7dmFyIGg9Yy50eXBlfHxjLGk9W10sajtoLmluZGV4T2YoIiEiKT49MCYmKGg9aC5zbGljZSgwLC0xKSxqPSEwKSxoLmluZGV4T2YoIi4iKT49MCYmKGk9aC5zcGxpdCgiLiIpLGg9aS5zaGlmdCgpLGkuc29ydCgpKTtpZighIWUmJiFmLmV2ZW50LmN1c3RvbUV2ZW50W2hdfHwhIWYuZXZlbnQuZ2xvYmFsW2hdKXtjPXR5cGVvZiBjPT0ib2JqZWN0Ij9jW2YuZXhwYW5kb10/YzpuZXcgZi5FdmVudChoLGMpOm5ldyBmLkV2ZW50KGgpLGMudHlwZT1oLGMuZXhjbHVzaXZlPWosYy5uYW1lc3BhY2U9aS5qb2luKCIuIiksYy5uYW1lc3BhY2VfcmU9bmV3IFJlZ0V4cCgiKF58XFwuKSIraS5qb2luKCJcXC4oPzouKlxcLik/IikrIihcXC58JCkiKTtpZihnfHwhZSljLnByZXZlbnREZWZhdWx0KCksYy5zdG9wUHJvcGFnYXRpb24oKTtpZighZSl7Zi5lYWNoKGYuY2FjaGUsZnVuY3Rpb24oKXt2YXIgYT1mLmV4cGFuZG8sYj10aGlzW2FdO2ImJmIuZXZlbnRzJiZiLmV2ZW50c1toXSYmZi5ldmVudC50cmlnZ2VyKGMsZCxiLmhhbmRsZS5lbGVtKX0pO3JldHVybn1pZihlLm5vZGVUeXBlPT09M3x8ZS5ub2RlVHlwZT09PTgpcmV0dXJuO2MucmVzdWx0PWIsYy50YXJnZXQ9ZSxkPWQ/Zi5tYWtlQXJyYXkoZCk6W10sZC51bnNoaWZ0KGMpO3ZhciBrPWUsbD1oLmluZGV4T2YoIjoiKTwwPyJvbiIraDoiIjtkb3t2YXIgbT1mLl9kYXRhKGssImhhbmRsZSIpO2MuY3VycmVudFRhcmdldD1rLG0mJm0uYXBwbHkoayxkKSxsJiZmLmFjY2VwdERhdGEoaykmJmtbbF0mJmtbbF0uYXBwbHkoayxkKT09PSExJiYoYy5yZXN1bHQ9ITEsYy5wcmV2ZW50RGVmYXVsdCgpKSxrPWsucGFyZW50Tm9kZXx8ay5vd25lckRvY3VtZW50fHxrPT09Yy50YXJnZXQub3duZXJEb2N1bWVudCYmYX13aGlsZShrJiYhYy5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKTtpZighYy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl7dmFyIG4sbz1mLmV2ZW50LnNwZWNpYWxbaF18fHt9O2lmKCghby5fZGVmYXVsdHx8by5fZGVmYXVsdC5jYWxsKGUub3duZXJEb2N1bWVudCxjKT09PSExKSYmKGghPT0iY2xpY2sifHwhZi5ub2RlTmFtZShlLCJhIikpJiZmLmFjY2VwdERhdGEoZSkpe3RyeXtsJiZlW2hdJiYobj1lW2xdLG4mJihlW2xdPW51bGwpLGYuZXZlbnQudHJpZ2dlcmVkPWgsZVtoXSgpKX1jYXRjaChwKXt9biYmKGVbbF09biksZi5ldmVudC50cmlnZ2VyZWQ9Yn19cmV0dXJuIGMucmVzdWx0fX0saGFuZGxlOmZ1bmN0aW9uKGMpe2M9Zi5ldmVudC5maXgoY3x8YS5ldmVudCk7dmFyIGQ9KChmLl9kYXRhKHRoaXMsImV2ZW50cyIpfHx7fSlbYy50eXBlXXx8W10pLnNsaWNlKDApLGU9IWMuZXhjbHVzaXZlJiYhYy5uYW1lc3BhY2UsZz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCk7Z1swXT1jLGMuY3VycmVudFRhcmdldD10aGlzO2Zvcih2YXIgaD0wLGk9ZC5sZW5ndGg7aDxpO2grKyl7dmFyIGo9ZFtoXTtpZihlfHxjLm5hbWVzcGFjZV9yZS50ZXN0KGoubmFtZXNwYWNlKSl7Yy5oYW5kbGVyPWouaGFuZGxlcixjLmRhdGE9ai5kYXRhLGMuaGFuZGxlT2JqPWo7dmFyIGs9ai5oYW5kbGVyLmFwcGx5KHRoaXMsZyk7ayE9PWImJihjLnJlc3VsdD1rLGs9PT0hMSYmKGMucHJldmVudERlZmF1bHQoKSxjLnN0b3BQcm9wYWdhdGlvbigpKSk7aWYoYy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKWJyZWFrfX1yZXR1cm4gYy5yZXN1bHR9LHByb3BzOiJhbHRLZXkgYXR0ckNoYW5nZSBhdHRyTmFtZSBidWJibGVzIGJ1dHRvbiBjYW5jZWxhYmxlIGNoYXJDb2RlIGNsaWVudFggY2xpZW50WSBjdHJsS2V5IGN1cnJlbnRUYXJnZXQgZGF0YSBkZXRhaWwgZXZlbnRQaGFzZSBmcm9tRWxlbWVudCBoYW5kbGVyIGtleUNvZGUgbGF5ZXJYIGxheWVyWSBtZXRhS2V5IG5ld1ZhbHVlIG9mZnNldFggb2Zmc2V0WSBwYWdlWCBwYWdlWSBwcmV2VmFsdWUgcmVsYXRlZE5vZGUgcmVsYXRlZFRhcmdldCBzY3JlZW5YIHNjcmVlblkgc2hpZnRLZXkgc3JjRWxlbWVudCB0YXJnZXQgdG9FbGVtZW50IHZpZXcgd2hlZWxEZWx0YSB3aGljaCIuc3BsaXQoIiAiKSxmaXg6ZnVuY3Rpb24oYSl7aWYoYVtmLmV4cGFuZG9dKXJldHVybiBhO3ZhciBkPWE7YT1mLkV2ZW50KGQpO2Zvcih2YXIgZT10aGlzLnByb3BzLmxlbmd0aCxnO2U7KWc9dGhpcy5wcm9wc1stLWVdLGFbZ109ZFtnXTthLnRhcmdldHx8KGEudGFyZ2V0PWEuc3JjRWxlbWVudHx8YyksYS50YXJnZXQubm9kZVR5cGU9PT0zJiYoYS50YXJnZXQ9YS50YXJnZXQucGFyZW50Tm9kZSksIWEucmVsYXRlZFRhcmdldCYmYS5mcm9tRWxlbWVudCYmKGEucmVsYXRlZFRhcmdldD1hLmZyb21FbGVtZW50PT09YS50YXJnZXQ/YS50b0VsZW1lbnQ6YS5mcm9tRWxlbWVudCk7aWYoYS5wYWdlWD09bnVsbCYmYS5jbGllbnRYIT1udWxsKXt2YXIgaD1hLnRhcmdldC5vd25lckRvY3VtZW50fHxjLGk9aC5kb2N1bWVudEVsZW1lbnQsaj1oLmJvZHk7YS5wYWdlWD1hLmNsaWVudFgrKGkmJmkuc2Nyb2xsTGVmdHx8aiYmai5zY3JvbGxMZWZ0fHwwKS0oaSYmaS5jbGllbnRMZWZ0fHxqJiZqLmNsaWVudExlZnR8fDApLGEucGFnZVk9YS5jbGllbnRZKyhpJiZpLnNjcm9sbFRvcHx8aiYmai5zY3JvbGxUb3B8fDApLShpJiZpLmNsaWVudFRvcHx8aiYmai5jbGllbnRUb3B8fDApfWEud2hpY2g9PW51bGwmJihhLmNoYXJDb2RlIT1udWxsfHxhLmtleUNvZGUhPW51bGwpJiYoYS53aGljaD1hLmNoYXJDb2RlIT1udWxsP2EuY2hhckNvZGU6YS5rZXlDb2RlKSwhYS5tZXRhS2V5JiZhLmN0cmxLZXkmJihhLm1ldGFLZXk9YS5jdHJsS2V5KSwhYS53aGljaCYmYS5idXR0b24hPT1iJiYoYS53aGljaD1hLmJ1dHRvbiYxPzE6YS5idXR0b24mMj8zOmEuYnV0dG9uJjQ/MjowKTtyZXR1cm4gYX0sZ3VpZDoxZTgscHJveHk6Zi5wcm94eSxzcGVjaWFsOntyZWFkeTp7c2V0dXA6Zi5iaW5kUmVhZHksdGVhcmRvd246Zi5ub29wfSxsaXZlOnthZGQ6ZnVuY3Rpb24oYSl7Zi5ldmVudC5hZGQodGhpcyxOKGEub3JpZ1R5cGUsYS5zZWxlY3RvciksZi5leHRlbmQoe30sYSx7aGFuZGxlcjpNLGd1aWQ6YS5oYW5kbGVyLmd1aWR9KSl9LHJlbW92ZTpmdW5jdGlvbihhKXtmLmV2ZW50LnJlbW92ZSh0aGlzLE4oYS5vcmlnVHlwZSxhLnNlbGVjdG9yKSxhKX19LGJlZm9yZXVubG9hZDp7c2V0dXA6ZnVuY3Rpb24oYSxiLGMpe2YuaXNXaW5kb3codGhpcykmJih0aGlzLm9uYmVmb3JldW5sb2FkPWMpfSx0ZWFyZG93bjpmdW5jdGlvbihhLGIpe3RoaXMub25iZWZvcmV1bmxvYWQ9PT1iJiYodGhpcy5vbmJlZm9yZXVubG9hZD1udWxsKX19fX0sZi5yZW1vdmVFdmVudD1jLnJlbW92ZUV2ZW50TGlzdGVuZXI/ZnVuY3Rpb24oYSxiLGMpe2EucmVtb3ZlRXZlbnRMaXN0ZW5lciYmYS5yZW1vdmVFdmVudExpc3RlbmVyKGIsYywhMSl9OmZ1bmN0aW9uKGEsYixjKXthLmRldGFjaEV2ZW50JiZhLmRldGFjaEV2ZW50KCJvbiIrYixjKX0sZi5FdmVudD1mdW5jdGlvbihhLGIpe2lmKCF0aGlzLnByZXZlbnREZWZhdWx0KXJldHVybiBuZXcgZi5FdmVudChhLGIpO2EmJmEudHlwZT8odGhpcy5vcmlnaW5hbEV2ZW50PWEsdGhpcy50eXBlPWEudHlwZSx0aGlzLmlzRGVmYXVsdFByZXZlbnRlZD1hLmRlZmF1bHRQcmV2ZW50ZWR8fGEucmV0dXJuVmFsdWU9PT0hMXx8YS5nZXRQcmV2ZW50RGVmYXVsdCYmYS5nZXRQcmV2ZW50RGVmYXVsdCgpP0U6RCk6dGhpcy50eXBlPWEsYiYmZi5leHRlbmQodGhpcyxiKSx0aGlzLnRpbWVTdGFtcD1mLm5vdygpLHRoaXNbZi5leHBhbmRvXT0hMH0sZi5FdmVudC5wcm90b3R5cGU9e3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9RTt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7IWF8fChhLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTphLnJldHVyblZhbHVlPSExKX0sc3RvcFByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dGhpcy5pc1Byb3BhZ2F0aW9uU3RvcHBlZD1FO3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDshYXx8KGEuc3RvcFByb3BhZ2F0aW9uJiZhLnN0b3BQcm9wYWdhdGlvbigpLGEuY2FuY2VsQnViYmxlPSEwKX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1FLHRoaXMuc3RvcFByb3BhZ2F0aW9uKCl9LGlzRGVmYXVsdFByZXZlbnRlZDpELGlzUHJvcGFnYXRpb25TdG9wcGVkOkQsaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ6RH07dmFyIEY9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZWxhdGVkVGFyZ2V0O3RyeXtpZihiJiZiIT09YyYmIWIucGFyZW50Tm9kZSlyZXR1cm47d2hpbGUoYiYmYiE9PXRoaXMpYj1iLnBhcmVudE5vZGU7YiE9PXRoaXMmJihhLnR5cGU9YS5kYXRhLGYuZXZlbnQuaGFuZGxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9Y2F0Y2goZCl7fX0sRz1mdW5jdGlvbihhKXthLnR5cGU9YS5kYXRhLGYuZXZlbnQuaGFuZGxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Zi5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0In0sZnVuY3Rpb24oYSxiKXtmLmV2ZW50LnNwZWNpYWxbYV09e3NldHVwOmZ1bmN0aW9uKGMpe2YuZXZlbnQuYWRkKHRoaXMsYixjJiZjLnNlbGVjdG9yP0c6RixhKX0sdGVhcmRvd246ZnVuY3Rpb24oYSl7Zi5ldmVudC5yZW1vdmUodGhpcyxiLGEmJmEuc2VsZWN0b3I/RzpGKX19fSksZi5zdXBwb3J0LnN1Ym1pdEJ1YmJsZXN8fChmLmV2ZW50LnNwZWNpYWwuc3VibWl0PXtzZXR1cDpmdW5jdGlvbihhLGIpe2lmKCFmLm5vZGVOYW1lKHRoaXMsImZvcm0iKSlmLmV2ZW50LmFkZCh0aGlzLCJjbGljay5zcGVjaWFsU3VibWl0IixmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxjPWIudHlwZTsoYz09PSJzdWJtaXQifHxjPT09ImltYWdlIikmJmYoYikuY2xvc2VzdCgiZm9ybSIpLmxlbmd0aCYmSygic3VibWl0Iix0aGlzLGFyZ3VtZW50cyl9KSxmLmV2ZW50LmFkZCh0aGlzLCJrZXlwcmVzcy5zcGVjaWFsU3VibWl0IixmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxjPWIudHlwZTsoYz09PSJ0ZXh0Inx8Yz09PSJwYXNzd29yZCIpJiZmKGIpLmNsb3Nlc3QoImZvcm0iKS5sZW5ndGgmJmEua2V5Q29kZT09PTEzJiZLKCJzdWJtaXQiLHRoaXMsYXJndW1lbnRzKX0pO2Vsc2UgcmV0dXJuITF9LHRlYXJkb3duOmZ1bmN0aW9uKGEpe2YuZXZlbnQucmVtb3ZlKHRoaXMsIi5zcGVjaWFsU3VibWl0Iil9fSk7aWYoIWYuc3VwcG9ydC5jaGFuZ2VCdWJibGVzKXt2YXIgSCxJPWZ1bmN0aW9uKGEpe3ZhciBiPWEudHlwZSxjPWEudmFsdWU7Yj09PSJyYWRpbyJ8fGI9PT0iY2hlY2tib3giP2M9YS5jaGVja2VkOmI9PT0ic2VsZWN0LW11bHRpcGxlIj9jPWEuc2VsZWN0ZWRJbmRleD4tMT9mLm1hcChhLm9wdGlvbnMsZnVuY3Rpb24oYSl7cmV0dXJuIGEuc2VsZWN0ZWR9KS5qb2luKCItIik6IiI6Zi5ub2RlTmFtZShhLCJzZWxlY3QiKSYmKGM9YS5zZWxlY3RlZEluZGV4KTtyZXR1cm4gY30sSj1mdW5jdGlvbiBKKGEpe3ZhciBjPWEudGFyZ2V0LGQsZTtpZighIXkudGVzdChjLm5vZGVOYW1lKSYmIWMucmVhZE9ubHkpe2Q9Zi5fZGF0YShjLCJfY2hhbmdlX2RhdGEiKSxlPUkoYyksKGEudHlwZSE9PSJmb2N1c291dCJ8fGMudHlwZSE9PSJyYWRpbyIpJiZmLl9kYXRhKGMsIl9jaGFuZ2VfZGF0YSIsZSk7aWYoZD09PWJ8fGU9PT1kKXJldHVybjtpZihkIT1udWxsfHxlKWEudHlwZT0iY2hhbmdlIixhLmxpdmVGaXJlZD1iLGYuZXZlbnQudHJpZ2dlcihhLGFyZ3VtZW50c1sxXSxjKX19O2YuZXZlbnQuc3BlY2lhbC5jaGFuZ2U9e2ZpbHRlcnM6e2ZvY3Vzb3V0OkosYmVmb3JlZGVhY3RpdmF0ZTpKLGNsaWNrOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9Zi5ub2RlTmFtZShiLCJpbnB1dCIpP2IudHlwZToiIjsoYz09PSJyYWRpbyJ8fGM9PT0iY2hlY2tib3gifHxmLm5vZGVOYW1lKGIsInNlbGVjdCIpKSYmSi5jYWxsKHRoaXMsYSl9LGtleWRvd246ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQsYz1mLm5vZGVOYW1lKGIsImlucHV0Iik/Yi50eXBlOiIiOyhhLmtleUNvZGU9PT0xMyYmIWYubm9kZU5hbWUoYiwidGV4dGFyZWEiKXx8YS5rZXlDb2RlPT09MzImJihjPT09ImNoZWNrYm94Inx8Yz09PSJyYWRpbyIpfHxjPT09InNlbGVjdC1tdWx0aXBsZSIpJiZKLmNhbGwodGhpcyxhKX0sYmVmb3JlYWN0aXZhdGU6ZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQ7Zi5fZGF0YShiLCJfY2hhbmdlX2RhdGEiLEkoYikpfX0sc2V0dXA6ZnVuY3Rpb24oYSxiKXtpZih0aGlzLnR5cGU9PT0iZmlsZSIpcmV0dXJuITE7Zm9yKHZhciBjIGluIEgpZi5ldmVudC5hZGQodGhpcyxjKyIuc3BlY2lhbENoYW5nZSIsSFtjXSk7cmV0dXJuIHkudGVzdCh0aGlzLm5vZGVOYW1lKX0sdGVhcmRvd246ZnVuY3Rpb24oYSl7Zi5ldmVudC5yZW1vdmUodGhpcywiLnNwZWNpYWxDaGFuZ2UiKTtyZXR1cm4geS50ZXN0KHRoaXMubm9kZU5hbWUpfX0sSD1mLmV2ZW50LnNwZWNpYWwuY2hhbmdlLmZpbHRlcnMsSC5mb2N1cz1ILmJlZm9yZWFjdGl2YXRlfWYuc3VwcG9ydC5mb2N1c2luQnViYmxlc3x8Zi5lYWNoKHtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQifSxmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGUoYSl7dmFyIGM9Zi5ldmVudC5maXgoYSk7Yy50eXBlPWIsYy5vcmlnaW5hbEV2ZW50PXt9LGYuZXZlbnQudHJpZ2dlcihjLG51bGwsYy50YXJnZXQpLGMuaXNEZWZhdWx0UHJldmVudGVkKCkmJmEucHJldmVudERlZmF1bHQoKX12YXIgZD0wO2YuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXtkKys9PT0wJiZjLmFkZEV2ZW50TGlzdGVuZXIoYSxlLCEwKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLWQ9PT0wJiZjLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxlLCEwKX19fSksZi5lYWNoKFsiYmluZCIsIm9uZSJdLGZ1bmN0aW9uKGEsYyl7Zi5mbltjXT1mdW5jdGlvbihhLGQsZSl7dmFyIGc7aWYodHlwZW9mIGE9PSJvYmplY3QiKXtmb3IodmFyIGggaW4gYSl0aGlzW2NdKGgsZCxhW2hdLGUpO3JldHVybiB0aGlzfWlmKGFyZ3VtZW50cy5sZW5ndGg9PT0yfHxkPT09ITEpZT1kLGQ9YjtjPT09Im9uZSI/KGc9ZnVuY3Rpb24oYSl7Zih0aGlzKS51bmJpbmQoYSxnKTtyZXR1cm4gZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LGcuZ3VpZD1lLmd1aWR8fGYuZ3VpZCsrKTpnPWU7aWYoYT09PSJ1bmxvYWQiJiZjIT09Im9uZSIpdGhpcy5vbmUoYSxkLGUpO2Vsc2UgZm9yKHZhciBpPTAsaj10aGlzLmxlbmd0aDtpPGo7aSsrKWYuZXZlbnQuYWRkKHRoaXNbaV0sYSxnLGQpO3JldHVybiB0aGlzfX0pLGYuZm4uZXh0ZW5kKHt1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtpZih0eXBlb2YgYT09Im9iamVjdCImJiFhLnByZXZlbnREZWZhdWx0KWZvcih2YXIgYyBpbiBhKXRoaXMudW5iaW5kKGMsYVtjXSk7ZWxzZSBmb3IodmFyIGQ9MCxlPXRoaXMubGVuZ3RoO2Q8ZTtkKyspZi5ldmVudC5yZW1vdmUodGhpc1tkXSxhLGIpO3JldHVybiB0aGlzfSxkZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5saXZlKGIsYyxkLGEpfSx1bmRlbGVnYXRlOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD09PTA/dGhpcy51bmJpbmQoImxpdmUiKTp0aGlzLmRpZShiLG51bGwsYyxhKX0sdHJpZ2dlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLmV2ZW50LnRyaWdnZXIoYSxiLHRoaXMpfSl9LHRyaWdnZXJIYW5kbGVyOmZ1bmN0aW9uKGEsYil7aWYodGhpc1swXSlyZXR1cm4gZi5ldmVudC50cmlnZ2VyKGEsYix0aGlzWzBdLCEwKX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe3ZhciBiPWFyZ3VtZW50cyxjPWEuZ3VpZHx8Zi5ndWlkKyssZD0wLGU9ZnVuY3Rpb24oYyl7dmFyIGU9KGYuZGF0YSh0aGlzLCJsYXN0VG9nZ2xlIithLmd1aWQpfHwwKSVkO2YuZGF0YSh0aGlzLCJsYXN0VG9nZ2xlIithLmd1aWQsZSsxKSxjLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuIGJbZV0uYXBwbHkodGhpcyxhcmd1bWVudHMpfHwhMX07ZS5ndWlkPWM7d2hpbGUoZDxiLmxlbmd0aCliW2QrK10uZ3VpZD1jO3JldHVybiB0aGlzLmNsaWNrKGUpfSxob3ZlcjpmdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLm1vdXNlZW50ZXIoYSkubW91c2VsZWF2ZShifHxhKX19KTt2YXIgTD17Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0Iixtb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0In07Zi5lYWNoKFsibGl2ZSIsImRpZSJdLGZ1bmN0aW9uKGEsYyl7Zi5mbltjXT1mdW5jdGlvbihhLGQsZSxnKXt2YXIgaCxpPTAsaixrLGwsbT1nfHx0aGlzLnNlbGVjdG9yLG49Zz90aGlzOmYodGhpcy5jb250ZXh0KTtpZih0eXBlb2YgYT09Im9iamVjdCImJiFhLnByZXZlbnREZWZhdWx0KXtmb3IodmFyIG8gaW4gYSluW2NdKG8sZCxhW29dLG0pO3JldHVybiB0aGlzfWlmKGM9PT0iZGllIiYmIWEmJmcmJmcuY2hhckF0KDApPT09Ii4iKXtuLnVuYmluZChnKTtyZXR1cm4gdGhpc31pZihkPT09ITF8fGYuaXNGdW5jdGlvbihkKSllPWR8fEQsZD1iO2E9KGF8fCIiKS5zcGxpdCgiICIpO3doaWxlKChoPWFbaSsrXSkhPW51bGwpe2o9eC5leGVjKGgpLGs9IiIsaiYmKGs9alswXSxoPWgucmVwbGFjZSh4LCIiKSk7aWYoaD09PSJob3ZlciIpe2EucHVzaCgibW91c2VlbnRlciIraywibW91c2VsZWF2ZSIrayk7Y29udGludWV9bD1oLExbaF0/KGEucHVzaChMW2hdK2spLGg9aCtrKTpoPShMW2hdfHxoKStrO2lmKGM9PT0ibGl2ZSIpZm9yKHZhciBwPTAscT1uLmxlbmd0aDtwPHE7cCsrKWYuZXZlbnQuYWRkKG5bcF0sImxpdmUuIitOKGgsbSkse2RhdGE6ZCxzZWxlY3RvcjptLGhhbmRsZXI6ZSxvcmlnVHlwZTpoLG9yaWdIYW5kbGVyOmUscHJlVHlwZTpsfSk7ZWxzZSBuLnVuYmluZCgibGl2ZS4iK04oaCxtKSxlKX1yZXR1cm4gdGhpc319KSxmLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtmLmZuW2JdPWZ1bmN0aW9uKGEsYyl7Yz09bnVsbCYmKGM9YSxhPW51bGwpO3JldHVybiBhcmd1bWVudHMubGVuZ3RoPjA/dGhpcy5iaW5kKGIsYSxjKTp0aGlzLnRyaWdnZXIoYil9LGYuYXR0ckZuJiYoZi5hdHRyRm5bYl09ITApfSksZnVuY3Rpb24oKXtmdW5jdGlvbiB1KGEsYixjLGQsZSxmKXtmb3IodmFyIGc9MCxoPWQubGVuZ3RoO2c8aDtnKyspe3ZhciBpPWRbZ107aWYoaSl7dmFyIGo9ITE7aT1pW2FdO3doaWxlKGkpe2lmKGkuc2l6Y2FjaGU9PT1jKXtqPWRbaS5zaXpzZXRdO2JyZWFrfWlmKGkubm9kZVR5cGU9PT0xKXtmfHwoaS5zaXpjYWNoZT1jLGkuc2l6c2V0PWcpO2lmKHR5cGVvZiBiIT0ic3RyaW5nIil7aWYoaT09PWIpe2o9ITA7YnJlYWt9fWVsc2UgaWYoay5maWx0ZXIoYixbaV0pLmxlbmd0aD4wKXtqPWk7YnJlYWt9fWk9aVthXX1kW2ddPWp9fX1mdW5jdGlvbiB0KGEsYixjLGQsZSxmKXtmb3IodmFyIGc9MCxoPWQubGVuZ3RoO2c8aDtnKyspe3ZhciBpPWRbZ107aWYoaSl7dmFyIGo9ITE7aT1pW2FdO3doaWxlKGkpe2lmKGkuc2l6Y2FjaGU9PT1jKXtqPWRbaS5zaXpzZXRdO2JyZWFrfWkubm9kZVR5cGU9PT0xJiYhZiYmKGkuc2l6Y2FjaGU9YyxpLnNpenNldD1nKTtpZihpLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iKXtqPWk7YnJlYWt9aT1pW2FdfWRbZ109an19fXZhciBhPS8oKD86XCgoPzpcKFteKCldK1wpfFteKCldKykrXCl8XFsoPzpcW1teXFtcXV0qXF18WyciXVteJyJdKlsnIl18W15cW1xdJyJdKykrXF18XFwufFteID4rfiwoXFtcXF0rKSt8Wz4rfl0pKFxzKixccyopPygoPzoufFxyfFxuKSopL2csZD0wLGU9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxnPSExLGg9ITAsaT0vXFwvZyxqPS9cVy87WzAsMF0uc29ydChmdW5jdGlvbigpe2g9ITE7cmV0dXJuIDB9KTt2YXIgaz1mdW5jdGlvbihiLGQsZixnKXtmPWZ8fFtdLGQ9ZHx8Yzt2YXIgaD1kO2lmKGQubm9kZVR5cGUhPT0xJiZkLm5vZGVUeXBlIT09OSlyZXR1cm5bXTtpZighYnx8dHlwZW9mIGIhPSJzdHJpbmciKXJldHVybiBmO3ZhciBpLGosbixvLHEscixzLHQsdT0hMCx3PWsuaXNYTUwoZCkseD1bXSx5PWI7ZG97YS5leGVjKCIiKSxpPWEuZXhlYyh5KTtpZihpKXt5PWlbM10seC5wdXNoKGlbMV0pO2lmKGlbMl0pe289aVszXTticmVha319fXdoaWxlKGkpO2lmKHgubGVuZ3RoPjEmJm0uZXhlYyhiKSlpZih4Lmxlbmd0aD09PTImJmwucmVsYXRpdmVbeFswXV0paj12KHhbMF0reFsxXSxkKTtlbHNle2o9bC5yZWxhdGl2ZVt4WzBdXT9bZF06ayh4LnNoaWZ0KCksZCk7d2hpbGUoeC5sZW5ndGgpYj14LnNoaWZ0KCksbC5yZWxhdGl2ZVtiXSYmKGIrPXguc2hpZnQoKSksaj12KGIsail9ZWxzZXshZyYmeC5sZW5ndGg+MSYmZC5ub2RlVHlwZT09PTkmJiF3JiZsLm1hdGNoLklELnRlc3QoeFswXSkmJiFsLm1hdGNoLklELnRlc3QoeFt4Lmxlbmd0aC0xXSkmJihxPWsuZmluZCh4LnNoaWZ0KCksZCx3KSxkPXEuZXhwcj9rLmZpbHRlcihxLmV4cHIscS5zZXQpWzBdOnEuc2V0WzBdKTtpZihkKXtxPWc/e2V4cHI6eC5wb3AoKSxzZXQ6cChnKX06ay5maW5kKHgucG9wKCkseC5sZW5ndGg9PT0xJiYoeFswXT09PSJ+Inx8eFswXT09PSIrIikmJmQucGFyZW50Tm9kZT9kLnBhcmVudE5vZGU6ZCx3KSxqPXEuZXhwcj9rLmZpbHRlcihxLmV4cHIscS5zZXQpOnEuc2V0LHgubGVuZ3RoPjA/bj1wKGopOnU9ITE7d2hpbGUoeC5sZW5ndGgpcj14LnBvcCgpLHM9cixsLnJlbGF0aXZlW3JdP3M9eC5wb3AoKTpyPSIiLHM9PW51bGwmJihzPWQpLGwucmVsYXRpdmVbcl0obixzLHcpfWVsc2Ugbj14PVtdfW58fChuPWopLG58fGsuZXJyb3Iocnx8Yik7aWYoZS5jYWxsKG4pPT09IltvYmplY3QgQXJyYXldIilpZighdSlmLnB1c2guYXBwbHkoZixuKTtlbHNlIGlmKGQmJmQubm9kZVR5cGU9PT0xKWZvcih0PTA7blt0XSE9bnVsbDt0Kyspblt0XSYmKG5bdF09PT0hMHx8blt0XS5ub2RlVHlwZT09PTEmJmsuY29udGFpbnMoZCxuW3RdKSkmJmYucHVzaChqW3RdKTtlbHNlIGZvcih0PTA7blt0XSE9bnVsbDt0Kyspblt0XSYmblt0XS5ub2RlVHlwZT09PTEmJmYucHVzaChqW3RdKTtlbHNlIHAobixmKTtvJiYoayhvLGgsZixnKSxrLnVuaXF1ZVNvcnQoZikpO3JldHVybiBmfTtrLnVuaXF1ZVNvcnQ9ZnVuY3Rpb24oYSl7aWYocil7Zz1oLGEuc29ydChyKTtpZihnKWZvcih2YXIgYj0xO2I8YS5sZW5ndGg7YisrKWFbYl09PT1hW2ItMV0mJmEuc3BsaWNlKGItLSwxKX1yZXR1cm4gYX0say5tYXRjaGVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGsoYSxudWxsLG51bGwsYil9LGsubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGsoYixudWxsLG51bGwsW2FdKS5sZW5ndGg+MH0say5maW5kPWZ1bmN0aW9uKGEsYixjKXt2YXIgZDtpZighYSlyZXR1cm5bXTtmb3IodmFyIGU9MCxmPWwub3JkZXIubGVuZ3RoO2U8ZjtlKyspe3ZhciBnLGg9bC5vcmRlcltlXTtpZihnPWwubGVmdE1hdGNoW2hdLmV4ZWMoYSkpe3ZhciBqPWdbMV07Zy5zcGxpY2UoMSwxKTtpZihqLnN1YnN0cihqLmxlbmd0aC0xKSE9PSJcXCIpe2dbMV09KGdbMV18fCIiKS5yZXBsYWNlKGksIiIpLGQ9bC5maW5kW2hdKGcsYixjKTtpZihkIT1udWxsKXthPWEucmVwbGFjZShsLm1hdGNoW2hdLCIiKTticmVha319fX1kfHwoZD10eXBlb2YgYi5nZXRFbGVtZW50c0J5VGFnTmFtZSE9InVuZGVmaW5lZCI/Yi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpOltdKTtyZXR1cm57c2V0OmQsZXhwcjphfX0say5maWx0ZXI9ZnVuY3Rpb24oYSxjLGQsZSl7dmFyIGYsZyxoPWEsaT1bXSxqPWMsbT1jJiZjWzBdJiZrLmlzWE1MKGNbMF0pO3doaWxlKGEmJmMubGVuZ3RoKXtmb3IodmFyIG4gaW4gbC5maWx0ZXIpaWYoKGY9bC5sZWZ0TWF0Y2hbbl0uZXhlYyhhKSkhPW51bGwmJmZbMl0pe3ZhciBvLHAscT1sLmZpbHRlcltuXSxyPWZbMV07Zz0hMSxmLnNwbGljZSgxLDEpO2lmKHIuc3Vic3RyKHIubGVuZ3RoLTEpPT09IlxcIiljb250aW51ZTtqPT09aSYmKGk9W10pO2lmKGwucHJlRmlsdGVyW25dKXtmPWwucHJlRmlsdGVyW25dKGYsaixkLGksZSxtKTtpZighZilnPW89ITA7ZWxzZSBpZihmPT09ITApY29udGludWV9aWYoZilmb3IodmFyIHM9MDsocD1qW3NdKSE9bnVsbDtzKyspaWYocCl7bz1xKHAsZixzLGopO3ZhciB0PWVeISFvO2QmJm8hPW51bGw/dD9nPSEwOmpbc109ITE6dCYmKGkucHVzaChwKSxnPSEwKX1pZihvIT09Yil7ZHx8KGo9aSksYT1hLnJlcGxhY2UobC5tYXRjaFtuXSwiIik7aWYoIWcpcmV0dXJuW107YnJlYWt9fWlmKGE9PT1oKWlmKGc9PW51bGwpay5lcnJvcihhKTtlbHNlIGJyZWFrO2g9YX1yZXR1cm4gan0say5lcnJvcj1mdW5jdGlvbihhKXt0aHJvdyJTeW50YXggZXJyb3IsIHVucmVjb2duaXplZCBleHByZXNzaW9uOiAiK2F9O3ZhciBsPWsuc2VsZWN0b3JzPXtvcmRlcjpbIklEIiwiTkFNRSIsIlRBRyJdLG1hdGNoOntJRDovIygoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKS8sQ0xBU1M6L1wuKCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspLyxOQU1FOi9cW25hbWU9WyciXSooKD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKylbJyJdKlxdLyxBVFRSOi9cW1xzKigoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKVxzKig/OihcUz89KVxzKig/OihbJyJdKSguKj8pXDN8KCM/KD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKil8KXwpXHMqXF0vLFRBRzovXigoPzpbXHdcdTAwYzAtXHVGRkZGXCpcLV18XFwuKSspLyxDSElMRDovOihvbmx5fG50aHxsYXN0fGZpcnN0KS1jaGlsZCg/OlwoXHMqKGV2ZW58b2RkfCg/OlsrXC1dP1xkK3woPzpbK1wtXT9cZCopP25ccyooPzpbK1wtXVxzKlxkKyk/KSlccypcKSk/LyxQT1M6LzoobnRofGVxfGd0fGx0fGZpcnN0fGxhc3R8ZXZlbnxvZGQpKD86XCgoXGQqKVwpKT8oPz1bXlwtXXwkKS8sUFNFVURPOi86KCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspKD86XCgoWyciXT8pKCg/OlwoW15cKV0rXCl8W15cKFwpXSopKylcMlwpKT8vfSxsZWZ0TWF0Y2g6e30sYXR0ck1hcDp7ImNsYXNzIjoiY2xhc3NOYW1lIiwiZm9yIjoiaHRtbEZvciJ9LGF0dHJIYW5kbGU6e2hyZWY6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJocmVmIil9LHR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0QXR0cmlidXRlKCJ0eXBlIil9fSxyZWxhdGl2ZTp7IisiOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGI9PSJzdHJpbmciLGQ9YyYmIWoudGVzdChiKSxlPWMmJiFkO2QmJihiPWIudG9Mb3dlckNhc2UoKSk7Zm9yKHZhciBmPTAsZz1hLmxlbmd0aCxoO2Y8ZztmKyspaWYoaD1hW2ZdKXt3aGlsZSgoaD1oLnByZXZpb3VzU2libGluZykmJmgubm9kZVR5cGUhPT0xKTthW2ZdPWV8fGgmJmgubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWI/aHx8ITE6aD09PWJ9ZSYmay5maWx0ZXIoYixhLCEwKX0sIj4iOmZ1bmN0aW9uKGEsYil7dmFyIGMsZD10eXBlb2YgYj09InN0cmluZyIsZT0wLGY9YS5sZW5ndGg7aWYoZCYmIWoudGVzdChiKSl7Yj1iLnRvTG93ZXJDYXNlKCk7Zm9yKDtlPGY7ZSsrKXtjPWFbZV07aWYoYyl7dmFyIGc9Yy5wYXJlbnROb2RlO2FbZV09Zy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yj9nOiExfX19ZWxzZXtmb3IoO2U8ZjtlKyspYz1hW2VdLGMmJihhW2VdPWQ/Yy5wYXJlbnROb2RlOmMucGFyZW50Tm9kZT09PWIpO2QmJmsuZmlsdGVyKGIsYSwhMCl9fSwiIjpmdW5jdGlvbihhLGIsYyl7dmFyIGUsZj1kKyssZz11O3R5cGVvZiBiPT0ic3RyaW5nIiYmIWoudGVzdChiKSYmKGI9Yi50b0xvd2VyQ2FzZSgpLGU9YixnPXQpLGcoInBhcmVudE5vZGUiLGIsZixhLGUsYyl9LCJ+IjpmdW5jdGlvbihhLGIsYyl7dmFyIGUsZj1kKyssZz11O3R5cGVvZiBiPT0ic3RyaW5nIiYmIWoudGVzdChiKSYmKGI9Yi50b0xvd2VyQ2FzZSgpLGU9YixnPXQpLGcoInByZXZpb3VzU2libGluZyIsYixmLGEsZSxjKX19LGZpbmQ6e0lEOmZ1bmN0aW9uKGEsYixjKXtpZih0eXBlb2YgYi5nZXRFbGVtZW50QnlJZCE9InVuZGVmaW5lZCImJiFjKXt2YXIgZD1iLmdldEVsZW1lbnRCeUlkKGFbMV0pO3JldHVybiBkJiZkLnBhcmVudE5vZGU/W2RdOltdfX0sTkFNRTpmdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRzQnlOYW1lIT0idW5kZWZpbmVkIil7dmFyIGM9W10sZD1iLmdldEVsZW1lbnRzQnlOYW1lKGFbMV0pO2Zvcih2YXIgZT0wLGY9ZC5sZW5ndGg7ZTxmO2UrKylkW2VdLmdldEF0dHJpYnV0ZSgibmFtZSIpPT09YVsxXSYmYy5wdXNoKGRbZV0pO3JldHVybiBjLmxlbmd0aD09PTA/bnVsbDpjfX0sVEFHOmZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPSJ1bmRlZmluZWQiKXJldHVybiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lKGFbMV0pfX0scHJlRmlsdGVyOntDTEFTUzpmdW5jdGlvbihhLGIsYyxkLGUsZil7YT0iICIrYVsxXS5yZXBsYWNlKGksIiIpKyIgIjtpZihmKXJldHVybiBhO2Zvcih2YXIgZz0wLGg7KGg9YltnXSkhPW51bGw7ZysrKWgmJihlXihoLmNsYXNzTmFtZSYmKCIgIitoLmNsYXNzTmFtZSsiICIpLnJlcGxhY2UoL1tcdFxuXHJdL2csIiAiKS5pbmRleE9mKGEpPj0wKT9jfHxkLnB1c2goaCk6YyYmKGJbZ109ITEpKTtyZXR1cm4hMX0sSUQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGFbMV0ucmVwbGFjZShpLCIiKX0sVEFHOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGFbMV0ucmVwbGFjZShpLCIiKS50b0xvd2VyQ2FzZSgpfSxDSElMRDpmdW5jdGlvbihhKXtpZihhWzFdPT09Im50aCIpe2FbMl18fGsuZXJyb3IoYVswXSksYVsyXT1hWzJdLnJlcGxhY2UoL15cK3xccyovZywiIik7dmFyIGI9LygtPykoXGQqKSg/Om4oWytcLV0/XGQqKSk/Ly5leGVjKGFbMl09PT0iZXZlbiImJiIybiJ8fGFbMl09PT0ib2RkIiYmIjJuKzEifHwhL1xELy50ZXN0KGFbMl0pJiYiMG4rIithWzJdfHxhWzJdKTthWzJdPWJbMV0rKGJbMl18fDEpLTAsYVszXT1iWzNdLTB9ZWxzZSBhWzJdJiZrLmVycm9yKGFbMF0pO2FbMF09ZCsrO3JldHVybiBhfSxBVFRSOmZ1bmN0aW9uKGEsYixjLGQsZSxmKXt2YXIgZz1hWzFdPWFbMV0ucmVwbGFjZShpLCIiKTshZiYmbC5hdHRyTWFwW2ddJiYoYVsxXT1sLmF0dHJNYXBbZ10pLGFbNF09KGFbNF18fGFbNV18fCIiKS5yZXBsYWNlKGksIiIpLGFbMl09PT0ifj0iJiYoYVs0XT0iICIrYVs0XSsiICIpO3JldHVybiBhfSxQU0VVRE86ZnVuY3Rpb24oYixjLGQsZSxmKXtpZihiWzFdPT09Im5vdCIpaWYoKGEuZXhlYyhiWzNdKXx8IiIpLmxlbmd0aD4xfHwvXlx3Ly50ZXN0KGJbM10pKWJbM109ayhiWzNdLG51bGwsbnVsbCxjKTtlbHNle3ZhciBnPWsuZmlsdGVyKGJbM10sYyxkLCEwXmYpO2R8fGUucHVzaC5hcHBseShlLGcpO3JldHVybiExfWVsc2UgaWYobC5tYXRjaC5QT1MudGVzdChiWzBdKXx8bC5tYXRjaC5DSElMRC50ZXN0KGJbMF0pKXJldHVybiEwO3JldHVybiBifSxQT1M6ZnVuY3Rpb24oYSl7YS51bnNoaWZ0KCEwKTtyZXR1cm4gYX19LGZpbHRlcnM6e2VuYWJsZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZGlzYWJsZWQ9PT0hMSYmYS50eXBlIT09ImhpZGRlbiJ9LGRpc2FibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITB9LGNoZWNrZWQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGEuY2hlY2tlZD09PSEwfSxzZWxlY3RlZDpmdW5jdGlvbihhKXthLnBhcmVudE5vZGUmJmEucGFyZW50Tm9kZS5zZWxlY3RlZEluZGV4O3JldHVybiBhLnNlbGVjdGVkPT09ITB9LHBhcmVudDpmdW5jdGlvbihhKXtyZXR1cm4hIWEuZmlyc3RDaGlsZH0sZW1wdHk6ZnVuY3Rpb24oYSl7cmV0dXJuIWEuZmlyc3RDaGlsZH0saGFzOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4hIWsoY1szXSxhKS5sZW5ndGh9LGhlYWRlcjpmdW5jdGlvbihhKXtyZXR1cm4vaFxkL2kudGVzdChhLm5vZGVOYW1lKX0sdGV4dDpmdW5jdGlvbihhKXt2YXIgYj1hLmdldEF0dHJpYnV0ZSgidHlwZSIpLGM9YS50eXBlO3JldHVybiBhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iaW5wdXQiJiYidGV4dCI9PT1jJiYoYj09PWN8fGI9PT1udWxsKX0scmFkaW86ZnVuY3Rpb24oYSl7cmV0dXJuIGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJpbnB1dCImJiJyYWRpbyI9PT1hLnR5cGV9LGNoZWNrYm94OmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iaW5wdXQiJiYiY2hlY2tib3giPT09YS50eXBlfSxmaWxlOmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iaW5wdXQiJiYiZmlsZSI9PT1hLnR5cGV9LHBhc3N3b3JkOmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iaW5wdXQiJiYicGFzc3dvcmQiPT09YS50eXBlfSxzdWJtaXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybihiPT09ImlucHV0Inx8Yj09PSJidXR0b24iKSYmInN1Ym1pdCI9PT1hLnR5cGV9LGltYWdlOmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iaW5wdXQiJiYiaW1hZ2UiPT09YS50eXBlfSxyZXNldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmInJlc2V0Ij09PWEudHlwZX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gYj09PSJpbnB1dCImJiJidXR0b24iPT09YS50eXBlfHxiPT09ImJ1dHRvbiJ9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybi9pbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uL2kudGVzdChhLm5vZGVOYW1lKX0sZm9jdXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1hLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudH19LHNldEZpbHRlcnM6e2ZpcnN0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI9PT0wfSxsYXN0OmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBiPT09ZC5sZW5ndGgtMX0sZXZlbjpmdW5jdGlvbihhLGIpe3JldHVybiBiJTI9PT0wfSxvZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiUyPT09MX0sbHQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPGNbM10tMH0sZ3Q6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPmNbM10tMH0sbnRoOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY1szXS0wPT09Yn0sZXE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjWzNdLTA9PT1ifX0sZmlsdGVyOntQU0VVRE86ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YlsxXSxmPWwuZmlsdGVyc1tlXTtpZihmKXJldHVybiBmKGEsYyxiLGQpO2lmKGU9PT0iY29udGFpbnMiKXJldHVybihhLnRleHRDb250ZW50fHxhLmlubmVyVGV4dHx8ay5nZXRUZXh0KFthXSl8fCIiKS5pbmRleE9mKGJbM10pPj0wO2lmKGU9PT0ibm90Iil7dmFyIGc9YlszXTtmb3IodmFyIGg9MCxpPWcubGVuZ3RoO2g8aTtoKyspaWYoZ1toXT09PWEpcmV0dXJuITE7cmV0dXJuITB9ay5lcnJvcihlKX0sQ0hJTEQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iWzFdLGQ9YTtzd2l0Y2goYyl7Y2FzZSJvbmx5IjpjYXNlImZpcnN0Ijp3aGlsZShkPWQucHJldmlvdXNTaWJsaW5nKWlmKGQubm9kZVR5cGU9PT0xKXJldHVybiExO2lmKGM9PT0iZmlyc3QiKXJldHVybiEwO2Q9YTtjYXNlImxhc3QiOndoaWxlKGQ9ZC5uZXh0U2libGluZylpZihkLm5vZGVUeXBlPT09MSlyZXR1cm4hMTtyZXR1cm4hMDtjYXNlIm50aCI6dmFyIGU9YlsyXSxmPWJbM107aWYoZT09PTEmJmY9PT0wKXJldHVybiEwO3ZhciBnPWJbMF0saD1hLnBhcmVudE5vZGU7aWYoaCYmKGguc2l6Y2FjaGUhPT1nfHwhYS5ub2RlSW5kZXgpKXt2YXIgaT0wO2ZvcihkPWguZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZylkLm5vZGVUeXBlPT09MSYmKGQubm9kZUluZGV4PSsraSk7aC5zaXpjYWNoZT1nfXZhciBqPWEubm9kZUluZGV4LWY7cmV0dXJuIGU9PT0wP2o9PT0wOmolZT09PTAmJmovZT49MH19LElEOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZVR5cGU9PT0xJiZhLmdldEF0dHJpYnV0ZSgiaWQiKT09PWJ9LFRBRzpmdW5jdGlvbihhLGIpe3JldHVybiBiPT09IioiJiZhLm5vZGVUeXBlPT09MXx8YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yn0sQ0xBU1M6ZnVuY3Rpb24oYSxiKXtyZXR1cm4oIiAiKyhhLmNsYXNzTmFtZXx8YS5nZXRBdHRyaWJ1dGUoImNsYXNzIikpKyIgIikuaW5kZXhPZihiKT4tMX0sQVRUUjpmdW5jdGlvbihhLGIpe3ZhciBjPWJbMV0sZD1sLmF0dHJIYW5kbGVbY10/bC5hdHRySGFuZGxlW2NdKGEpOmFbY10hPW51bGw/YVtjXTphLmdldEF0dHJpYnV0ZShjKSxlPWQrIiIsZj1iWzJdLGc9Yls0XTtyZXR1cm4gZD09bnVsbD9mPT09IiE9IjpmPT09Ij0iP2U9PT1nOmY9PT0iKj0iP2UuaW5kZXhPZihnKT49MDpmPT09In49Ij8oIiAiK2UrIiAiKS5pbmRleE9mKGcpPj0wOmc/Zj09PSIhPSI/ZSE9PWc6Zj09PSJePSI/ZS5pbmRleE9mKGcpPT09MDpmPT09IiQ9Ij9lLnN1YnN0cihlLmxlbmd0aC1nLmxlbmd0aCk9PT1nOmY9PT0ifD0iP2U9PT1nfHxlLnN1YnN0cigwLGcubGVuZ3RoKzEpPT09ZysiLSI6ITE6ZSYmZCE9PSExfSxQT1M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YlsyXSxmPWwuc2V0RmlsdGVyc1tlXTtpZihmKXJldHVybiBmKGEsYyxiLGQpfX19LG09bC5tYXRjaC5QT1Msbj1mdW5jdGlvbihhLGIpe3JldHVybiJcXCIrKGItMCsxKX07Zm9yKHZhciBvIGluIGwubWF0Y2gpbC5tYXRjaFtvXT1uZXcgUmVnRXhwKGwubWF0Y2hbb10uc291cmNlKy8oPyFbXlxbXSpcXSkoPyFbXlwoXSpcKSkvLnNvdXJjZSksbC5sZWZ0TWF0Y2hbb109bmV3IFJlZ0V4cCgvKF4oPzoufFxyfFxuKSo/KS8uc291cmNlK2wubWF0Y2hbb10uc291cmNlLnJlcGxhY2UoL1xcKFxkKykvZyxuKSk7dmFyIHA9ZnVuY3Rpb24oYSxiKXthPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEsMCk7aWYoYil7Yi5wdXNoLmFwcGx5KGIsYSk7cmV0dXJuIGJ9cmV0dXJuIGF9O3RyeXtBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjLmRvY3VtZW50RWxlbWVudC5jaGlsZE5vZGVzLDApWzBdLm5vZGVUeXBlfWNhdGNoKHEpe3A9ZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9Ynx8W107aWYoZS5jYWxsKGEpPT09IltvYmplY3QgQXJyYXldIilBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShkLGEpO2Vsc2UgaWYodHlwZW9mIGEubGVuZ3RoPT0ibnVtYmVyIilmb3IodmFyIGY9YS5sZW5ndGg7YzxmO2MrKylkLnB1c2goYVtjXSk7ZWxzZSBmb3IoO2FbY107YysrKWQucHVzaChhW2NdKTtyZXR1cm4gZH19dmFyIHIscztjLmRvY3VtZW50RWxlbWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9yPWZ1bmN0aW9uKGEsYil7aWYoYT09PWIpe2c9ITA7cmV0dXJuIDB9aWYoIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb258fCFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXJldHVybiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uPy0xOjE7cmV0dXJuIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikmND8tMToxfToocj1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZT1bXSxmPVtdLGg9YS5wYXJlbnROb2RlLGk9Yi5wYXJlbnROb2RlLGo9aDtpZihhPT09Yil7Zz0hMDtyZXR1cm4gMH1pZihoPT09aSlyZXR1cm4gcyhhLGIpO2lmKCFoKXJldHVybi0xO2lmKCFpKXJldHVybiAxO3doaWxlKGopZS51bnNoaWZ0KGopLGo9ai5wYXJlbnROb2RlO2o9aTt3aGlsZShqKWYudW5zaGlmdChqKSxqPWoucGFyZW50Tm9kZTtjPWUubGVuZ3RoLGQ9Zi5sZW5ndGg7Zm9yKHZhciBrPTA7azxjJiZrPGQ7aysrKWlmKGVba10hPT1mW2tdKXJldHVybiBzKGVba10sZltrXSk7cmV0dXJuIGs9PT1jP3MoYSxmW2tdLC0xKTpzKGVba10sYiwxKX0scz1mdW5jdGlvbihhLGIsYyl7aWYoYT09PWIpcmV0dXJuIGM7dmFyIGQ9YS5uZXh0U2libGluZzt3aGlsZShkKXtpZihkPT09YilyZXR1cm4tMTtkPWQubmV4dFNpYmxpbmd9cmV0dXJuIDF9KSxrLmdldFRleHQ9ZnVuY3Rpb24oYSl7dmFyIGI9IiIsYztmb3IodmFyIGQ9MDthW2RdO2QrKyljPWFbZF0sYy5ub2RlVHlwZT09PTN8fGMubm9kZVR5cGU9PT00P2IrPWMubm9kZVZhbHVlOmMubm9kZVR5cGUhPT04JiYoYis9ay5nZXRUZXh0KGMuY2hpbGROb2RlcykpO3JldHVybiBifSxmdW5jdGlvbigpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksZD0ic2NyaXB0IisobmV3IERhdGUpLmdldFRpbWUoKSxlPWMuZG9jdW1lbnRFbGVtZW50O2EuaW5uZXJIVE1MPSI8YSBuYW1lPSciK2QrIicvPiIsZS5pbnNlcnRCZWZvcmUoYSxlLmZpcnN0Q2hpbGQpLGMuZ2V0RWxlbWVudEJ5SWQoZCkmJihsLmZpbmQuSUQ9ZnVuY3Rpb24oYSxjLGQpe2lmKHR5cGVvZiBjLmdldEVsZW1lbnRCeUlkIT0idW5kZWZpbmVkIiYmIWQpe3ZhciBlPWMuZ2V0RWxlbWVudEJ5SWQoYVsxXSk7cmV0dXJuIGU/ZS5pZD09PWFbMV18fHR5cGVvZiBlLmdldEF0dHJpYnV0ZU5vZGUhPSJ1bmRlZmluZWQiJiZlLmdldEF0dHJpYnV0ZU5vZGUoImlkIikubm9kZVZhbHVlPT09YVsxXT9bZV06YjpbXX19LGwuZmlsdGVyLklEPWZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGEuZ2V0QXR0cmlidXRlTm9kZSE9InVuZGVmaW5lZCImJmEuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKTtyZXR1cm4gYS5ub2RlVHlwZT09PTEmJmMmJmMubm9kZVZhbHVlPT09Yn0pLGUucmVtb3ZlQ2hpbGQoYSksZT1hPW51bGx9KCksZnVuY3Rpb24oKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpO2EuYXBwZW5kQ2hpbGQoYy5jcmVhdGVDb21tZW50KCIiKSksYS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLmxlbmd0aD4wJiYobC5maW5kLlRBRz1mdW5jdGlvbihhLGIpe3ZhciBjPWIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYVsxXSk7aWYoYVsxXT09PSIqIil7dmFyIGQ9W107Zm9yKHZhciBlPTA7Y1tlXTtlKyspY1tlXS5ub2RlVHlwZT09PTEmJmQucHVzaChjW2VdKTtjPWR9cmV0dXJuIGN9KSxhLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiIsYS5maXJzdENoaWxkJiZ0eXBlb2YgYS5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSE9InVuZGVmaW5lZCImJmEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUoImhyZWYiKSE9PSIjIiYmKGwuYXR0ckhhbmRsZS5ocmVmPWZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgiaHJlZiIsMil9KSxhPW51bGx9KCksYy5xdWVyeVNlbGVjdG9yQWxsJiZmdW5jdGlvbigpe3ZhciBhPWssYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQ9Il9fc2l6emxlX18iO2IuaW5uZXJIVE1MPSI8cCBjbGFzcz0nVEVTVCc+PC9wPiI7aWYoIWIucXVlcnlTZWxlY3RvckFsbHx8Yi5xdWVyeVNlbGVjdG9yQWxsKCIuVEVTVCIpLmxlbmd0aCE9PTApe2s9ZnVuY3Rpb24oYixlLGYsZyl7ZT1lfHxjO2lmKCFnJiYhay5pc1hNTChlKSl7dmFyIGg9L14oXHcrJCl8XlwuKFtcd1wtXSskKXxeIyhbXHdcLV0rJCkvLmV4ZWMoYik7aWYoaCYmKGUubm9kZVR5cGU9PT0xfHxlLm5vZGVUeXBlPT09OSkpe2lmKGhbMV0pcmV0dXJuIHAoZS5nZXRFbGVtZW50c0J5VGFnTmFtZShiKSxmKTtpZihoWzJdJiZsLmZpbmQuQ0xBU1MmJmUuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSlyZXR1cm4gcChlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoaFsyXSksZil9aWYoZS5ub2RlVHlwZT09PTkpe2lmKGI9PT0iYm9keSImJmUuYm9keSlyZXR1cm4gcChbZS5ib2R5XSxmKTtpZihoJiZoWzNdKXt2YXIgaT1lLmdldEVsZW1lbnRCeUlkKGhbM10pO2lmKCFpfHwhaS5wYXJlbnROb2RlKXJldHVybiBwKFtdLGYpO2lmKGkuaWQ9PT1oWzNdKXJldHVybiBwKFtpXSxmKX10cnl7cmV0dXJuIHAoZS5xdWVyeVNlbGVjdG9yQWxsKGIpLGYpfWNhdGNoKGope319ZWxzZSBpZihlLm5vZGVUeXBlPT09MSYmZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09Im9iamVjdCIpe3ZhciBtPWUsbj1lLmdldEF0dHJpYnV0ZSgiaWQiKSxvPW58fGQscT1lLnBhcmVudE5vZGUscj0vXlxzKlsrfl0vLnRlc3QoYik7bj9vPW8ucmVwbGFjZSgvJy9nLCJcXCQmIik6ZS5zZXRBdHRyaWJ1dGUoImlkIixvKSxyJiZxJiYoZT1lLnBhcmVudE5vZGUpO3RyeXtpZighcnx8cSlyZXR1cm4gcChlLnF1ZXJ5U2VsZWN0b3JBbGwoIltpZD0nIitvKyInXSAiK2IpLGYpfWNhdGNoKHMpe31maW5hbGx5e258fG0ucmVtb3ZlQXR0cmlidXRlKCJpZCIpfX19cmV0dXJuIGEoYixlLGYsZyl9O2Zvcih2YXIgZSBpbiBhKWtbZV09YVtlXTtiPW51bGx9fSgpLGZ1bmN0aW9uKCl7dmFyIGE9Yy5kb2N1bWVudEVsZW1lbnQsYj1hLm1hdGNoZXNTZWxlY3Rvcnx8YS5tb3pNYXRjaGVzU2VsZWN0b3J8fGEud2Via2l0TWF0Y2hlc1NlbGVjdG9yfHxhLm1zTWF0Y2hlc1NlbGVjdG9yO2lmKGIpe3ZhciBkPSFiLmNhbGwoYy5jcmVhdGVFbGVtZW50KCJkaXYiKSwiZGl2IiksZT0hMTt0cnl7Yi5jYWxsKGMuZG9jdW1lbnRFbGVtZW50LCJbdGVzdCE9JyddOnNpenpsZSIpfWNhdGNoKGYpe2U9ITB9ay5tYXRjaGVzU2VsZWN0b3I9ZnVuY3Rpb24oYSxjKXtjPWMucmVwbGFjZSgvXD1ccyooW14nIlxdXSopXHMqXF0vZywiPSckMSddIik7aWYoIWsuaXNYTUwoYSkpdHJ5e2lmKGV8fCFsLm1hdGNoLlBTRVVETy50ZXN0KGMpJiYhLyE9Ly50ZXN0KGMpKXt2YXIgZj1iLmNhbGwoYSxjKTtpZihmfHwhZHx8YS5kb2N1bWVudCYmYS5kb2N1bWVudC5ub2RlVHlwZSE9PTExKXJldHVybiBmfX1jYXRjaChnKXt9cmV0dXJuIGsoYyxudWxsLG51bGwsW2FdKS5sZW5ndGg+MH19fSgpLGZ1bmN0aW9uKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTthLmlubmVySFRNTD0iPGRpdiBjbGFzcz0ndGVzdCBlJz48L2Rpdj48ZGl2IGNsYXNzPSd0ZXN0Jz48L2Rpdj4iO2lmKCEhYS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lJiZhLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImUiKS5sZW5ndGghPT0wKXthLmxhc3RDaGlsZC5jbGFzc05hbWU9ImUiO2lmKGEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgiZSIpLmxlbmd0aD09PTEpcmV0dXJuO2wub3JkZXIuc3BsaWNlKDEsMCwiQ0xBU1MiKSxsLmZpbmQuQ0xBU1M9ZnVuY3Rpb24oYSxiLGMpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRzQnlDbGFzc05hbWUhPSJ1bmRlZmluZWQiJiYhYylyZXR1cm4gYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGFbMV0pfSxhPW51bGx9fSgpLGMuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zP2suY29udGFpbnM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSE9PWImJihhLmNvbnRhaW5zP2EuY29udGFpbnMoYik6ITApfTpjLmRvY3VtZW50RWxlbWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9rLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuISEoYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihiKSYxNil9OmsuY29udGFpbnM9ZnVuY3Rpb24oKXtyZXR1cm4hMX0say5pc1hNTD1mdW5jdGlvbihhKXt2YXIgYj0oYT9hLm93bmVyRG9jdW1lbnR8fGE6MCkuZG9jdW1lbnRFbGVtZW50O3JldHVybiBiP2Iubm9kZU5hbWUhPT0iSFRNTCI6ITF9O3ZhciB2PWZ1bmN0aW9uKGEsYil7dmFyIGMsZD1bXSxlPSIiLGY9Yi5ub2RlVHlwZT9bYl06Yjt3aGlsZShjPWwubWF0Y2guUFNFVURPLmV4ZWMoYSkpZSs9Y1swXSxhPWEucmVwbGFjZShsLm1hdGNoLlBTRVVETywiIik7YT1sLnJlbGF0aXZlW2FdP2ErIioiOmE7Zm9yKHZhciBnPTAsaD1mLmxlbmd0aDtnPGg7ZysrKWsoYSxmW2ddLGQpO3JldHVybiBrLmZpbHRlcihlLGQpfTtmLmZpbmQ9ayxmLmV4cHI9ay5zZWxlY3RvcnMsZi5leHByWyI6Il09Zi5leHByLmZpbHRlcnMsZi51bmlxdWU9ay51bmlxdWVTb3J0LGYudGV4dD1rLmdldFRleHQsZi5pc1hNTERvYz1rLmlzWE1MLGYuY29udGFpbnM9ay5jb250YWluc30oKTt2YXIgTz0vVW50aWwkLyxQPS9eKD86cGFyZW50c3xwcmV2VW50aWx8cHJldkFsbCkvLFE9LywvLFI9L14uW146I1xbXC4sXSokLyxTPUFycmF5LnByb3RvdHlwZS5zbGljZSxUPWYuZXhwci5tYXRjaC5QT1MsVT17Y2hpbGRyZW46ITAsY29udGVudHM6ITAsbmV4dDohMCxwcmV2OiEwfTtmLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXt2YXIgYj10aGlzLGMsZDtpZih0eXBlb2YgYSE9InN0cmluZyIpcmV0dXJuIGYoYSkuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKGM9MCxkPWIubGVuZ3RoO2M8ZDtjKyspaWYoZi5jb250YWlucyhiW2NdLHRoaXMpKXJldHVybiEwfSk7dmFyIGU9dGhpcy5wdXNoU3RhY2soIiIsImZpbmQiLGEpLGcsaCxpO2ZvcihjPTAsZD10aGlzLmxlbmd0aDtjPGQ7YysrKXtnPWUubGVuZ3RoLGYuZmluZChhLHRoaXNbY10sZSk7aWYoYz4wKWZvcihoPWc7aDxlLmxlbmd0aDtoKyspZm9yKGk9MDtpPGc7aSsrKWlmKGVbaV09PT1lW2hdKXtlLnNwbGljZShoLS0sMSk7YnJlYWt9fXJldHVybiBlfSxoYXM6ZnVuY3Rpb24oYSl7dmFyIGI9ZihhKTtyZXR1cm4gdGhpcy5maWx0ZXIoZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxjPWIubGVuZ3RoO2E8YzthKyspaWYoZi5jb250YWlucyh0aGlzLGJbYV0pKXJldHVybiEwfSl9LG5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soVyh0aGlzLGEsITEpLCJub3QiLGEpfSxmaWx0ZXI6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFcodGhpcyxhLCEwKSwiZmlsdGVyIixhKX0saXM6ZnVuY3Rpb24oYSl7cmV0dXJuISFhJiYodHlwZW9mIGE9PSJzdHJpbmciP2YuZmlsdGVyKGEsdGhpcykubGVuZ3RoPjA6dGhpcy5maWx0ZXIoYSkubGVuZ3RoPjApfSxjbG9zZXN0OmZ1bmN0aW9uKGEsYil7dmFyIGM9W10sZCxlLGc9dGhpc1swXTtpZihmLmlzQXJyYXkoYSkpe3ZhciBoLGksaj17fSxrPTE7aWYoZyYmYS5sZW5ndGgpe2ZvcihkPTAsZT1hLmxlbmd0aDtkPGU7ZCsrKWk9YVtkXSxqW2ldfHwoaltpXT1ULnRlc3QoaSk/ZihpLGJ8fHRoaXMuY29udGV4dCk6aSk7d2hpbGUoZyYmZy5vd25lckRvY3VtZW50JiZnIT09Yil7Zm9yKGkgaW4gailoPWpbaV0sKGguanF1ZXJ5P2guaW5kZXgoZyk+LTE6ZihnKS5pcyhoKSkmJmMucHVzaCh7c2VsZWN0b3I6aSxlbGVtOmcsbGV2ZWw6a30pO2c9Zy5wYXJlbnROb2RlLGsrK319cmV0dXJuIGN9dmFyIGw9VC50ZXN0KGEpfHx0eXBlb2YgYSE9InN0cmluZyI/ZihhLGJ8fHRoaXMuY29udGV4dCk6MDtmb3IoZD0wLGU9dGhpcy5sZW5ndGg7ZDxlO2QrKyl7Zz10aGlzW2RdO3doaWxlKGcpe2lmKGw/bC5pbmRleChnKT4tMTpmLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGcsYSkpe2MucHVzaChnKTticmVha31nPWcucGFyZW50Tm9kZTtpZighZ3x8IWcub3duZXJEb2N1bWVudHx8Zz09PWJ8fGcubm9kZVR5cGU9PT0xMSlicmVha319Yz1jLmxlbmd0aD4xP2YudW5pcXVlKGMpOmM7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGMsImNsb3Nlc3QiLGEpfSxpbmRleDpmdW5jdGlvbihhKXtpZighYXx8dHlwZW9mIGE9PSJzdHJpbmciKXJldHVybiBmLmluQXJyYXkodGhpc1swXSxhP2YoYSk6dGhpcy5wYXJlbnQoKS5jaGlsZHJlbigpKTtyZXR1cm4gZi5pbkFycmF5KGEuanF1ZXJ5P2FbMF06YSx0aGlzKX0sYWRkOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGE9PSJzdHJpbmciP2YoYSxiKTpmLm1ha2VBcnJheShhJiZhLm5vZGVUeXBlP1thXTphKSxkPWYubWVyZ2UodGhpcy5nZXQoKSxjKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soVihjWzBdKXx8VihkWzBdKT9kOmYudW5pcXVlKGQpKX0sYW5kU2VsZjpmdW5jdGlvbigpe3JldHVybiB0aGlzLmFkZCh0aGlzLnByZXZPYmplY3QpfX0pLGYuZWFjaCh7cGFyZW50OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtyZXR1cm4gYiYmYi5ub2RlVHlwZSE9PTExP2I6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gZi5kaXIoYSwicGFyZW50Tm9kZSIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmLmRpcihhLCJwYXJlbnROb2RlIixjKX0sbmV4dDpmdW5jdGlvbihhKXtyZXR1cm4gZi5udGgoYSwyLCJuZXh0U2libGluZyIpfSxwcmV2OmZ1bmN0aW9uKGEpe3JldHVybiBmLm50aChhLDIsInByZXZpb3VzU2libGluZyIpfSxuZXh0QWxsOmZ1bmN0aW9uKGEpe3JldHVybiBmLmRpcihhLCJuZXh0U2libGluZyIpfSxwcmV2QWxsOmZ1bmN0aW9uKGEpe3JldHVybiBmLmRpcihhLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dFVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZi5kaXIoYSwibmV4dFNpYmxpbmciLGMpfSxwcmV2VW50aWw6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmLmRpcihhLCJwcmV2aW91c1NpYmxpbmciLGMpfSxzaWJsaW5nczpmdW5jdGlvbihhKXtyZXR1cm4gZi5zaWJsaW5nKGEucGFyZW50Tm9kZS5maXJzdENoaWxkLGEpfSxjaGlsZHJlbjpmdW5jdGlvbihhKXtyZXR1cm4gZi5zaWJsaW5nKGEuZmlyc3RDaGlsZCl9LGNvbnRlbnRzOmZ1bmN0aW9uKGEpe3JldHVybiBmLm5vZGVOYW1lKGEsImlmcmFtZSIpP2EuY29udGVudERvY3VtZW50fHxhLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ6Zi5tYWtlQXJyYXkoYS5jaGlsZE5vZGVzKX19LGZ1bmN0aW9uKGEsYil7Zi5mblthXT1mdW5jdGlvbihjLGQpe3ZhciBlPWYubWFwKHRoaXMsYixjKSxnPVMuY2FsbChhcmd1bWVudHMpO08udGVzdChhKXx8KGQ9YyksZCYmdHlwZW9mIGQ9PSJzdHJpbmciJiYoZT1mLmZpbHRlcihkLGUpKSxlPXRoaXMubGVuZ3RoPjEmJiFVW2FdP2YudW5pcXVlKGUpOmUsKHRoaXMubGVuZ3RoPjF8fFEudGVzdChkKSkmJlAudGVzdChhKSYmKGU9ZS5yZXZlcnNlKCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhlLGEsZy5qb2luKCIsIikpfX0pLGYuZXh0ZW5kKHtmaWx0ZXI6ZnVuY3Rpb24oYSxiLGMpe2MmJihhPSI6bm90KCIrYSsiKSIpO3JldHVybiBiLmxlbmd0aD09PTE/Zi5maW5kLm1hdGNoZXNTZWxlY3RvcihiWzBdLGEpP1tiWzBdXTpbXTpmLmZpbmQubWF0Y2hlcyhhLGIpfSxkaXI6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlPVtdLGc9YVtjXTt3aGlsZShnJiZnLm5vZGVUeXBlIT09OSYmKGQ9PT1ifHxnLm5vZGVUeXBlIT09MXx8IWYoZykuaXMoZCkpKWcubm9kZVR5cGU9PT0xJiZlLnB1c2goZyksZz1nW2NdO3JldHVybiBlfSxudGg6ZnVuY3Rpb24oYSxiLGMsZCl7Yj1ifHwxO3ZhciBlPTA7Zm9yKDthO2E9YVtjXSlpZihhLm5vZGVUeXBlPT09MSYmKytlPT09YilicmVhaztyZXR1cm4gYX0sc2libGluZzpmdW5jdGlvbihhLGIpe3ZhciBjPVtdO2Zvcig7YTthPWEubmV4dFNpYmxpbmcpYS5ub2RlVHlwZT09PTEmJmEhPT1iJiZjLnB1c2goYSk7cmV0dXJuIGN9fSk7dmFyIFg9LyBqUXVlcnlcZCs9Iig/OlxkK3xudWxsKSIvZyxZPS9eXHMrLyxaPS88KD8hYXJlYXxicnxjb2x8ZW1iZWR8aHJ8aW1nfGlucHV0fGxpbmt8bWV0YXxwYXJhbSkoKFtcdzpdKylbXj5dKilcLz4vaWcsJD0vPChbXHc6XSspLyxfPS88dGJvZHkvaSxiYT0vPHwmIz9cdys7LyxiYj0vPCg/OnNjcmlwdHxvYmplY3R8ZW1iZWR8b3B0aW9ufHN0eWxlKS9pLGJjPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLGJkPS9cLyhqYXZhfGVjbWEpc2NyaXB0L2ksYmU9e29wdGlvbjpbMSwiPHNlbGVjdCBtdWx0aXBsZT0nbXVsdGlwbGUnPiIsIjwvc2VsZWN0PiJdLGxlZ2VuZDpbMSwiPGZpZWxkc2V0PiIsIjwvZmllbGRzZXQ+Il0sdGhlYWQ6WzEsIjx0YWJsZT4iLCI8L3RhYmxlPiJdLHRyOlsyLCI8dGFibGU+PHRib2R5PiIsIjwvdGJvZHk+PC90YWJsZT4iXSx0ZDpbMywiPHRhYmxlPjx0Ym9keT48dHI+IiwiPC90cj48L3Rib2R5PjwvdGFibGU+Il0sY29sOlsyLCI8dGFibGU+PHRib2R5PjwvdGJvZHk+PGNvbGdyb3VwPiIsIjwvY29sZ3JvdXA+PC90YWJsZT4iXSxhcmVhOlsxLCI8bWFwPiIsIjwvbWFwPiJdLF9kZWZhdWx0OlswLCIiLCIiXX07YmUub3B0Z3JvdXA9YmUub3B0aW9uLGJlLnRib2R5PWJlLnRmb290PWJlLmNvbGdyb3VwPWJlLmNhcHRpb249YmUudGhlYWQsYmUudGg9YmUudGQsZi5zdXBwb3J0Lmh0bWxTZXJpYWxpemV8fChiZS5fZGVmYXVsdD1bMSwiZGl2PGRpdj4iLCI8L2Rpdj4iXSksZi5mbi5leHRlbmQoe3RleHQ6ZnVuY3Rpb24oYSl7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9Zih0aGlzKTtjLnRleHQoYS5jYWxsKHRoaXMsYixjLnRleHQoKSkpfSk7aWYodHlwZW9mIGEhPSJvYmplY3QiJiZhIT09YilyZXR1cm4gdGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHxjKS5jcmVhdGVUZXh0Tm9kZShhKSk7cmV0dXJuIGYudGV4dCh0aGlzKX0sd3JhcEFsbDpmdW5jdGlvbihhKXtpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtmKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsYikpfSk7aWYodGhpc1swXSl7dmFyIGI9ZihhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUoITApO3RoaXNbMF0ucGFyZW50Tm9kZSYmYi5pbnNlcnRCZWZvcmUodGhpc1swXSksYi5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzO3doaWxlKGEuZmlyc3RDaGlsZCYmYS5maXJzdENoaWxkLm5vZGVUeXBlPT09MSlhPWEuZmlyc3RDaGlsZDtyZXR1cm4gYX0pLmFwcGVuZCh0aGlzKX1yZXR1cm4gdGhpc30sd3JhcElubmVyOmZ1bmN0aW9uKGEpe2lmKGYuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2YodGhpcykud3JhcElubmVyKGEuY2FsbCh0aGlzLGIpKX0pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1mKHRoaXMpLGM9Yi5jb250ZW50cygpO2MubGVuZ3RoP2Mud3JhcEFsbChhKTpiLmFwcGVuZChhKX0pfSx3cmFwOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmKHRoaXMpLndyYXBBbGwoYSl9KX0sdW53cmFwOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucGFyZW50KCkuZWFjaChmdW5jdGlvbigpe2Yubm9kZU5hbWUodGhpcywiYm9keSIpfHxmKHRoaXMpLnJlcGxhY2VXaXRoKHRoaXMuY2hpbGROb2Rlcyl9KS5lbmQoKX0sYXBwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCEwLGZ1bmN0aW9uKGEpe3RoaXMubm9kZVR5cGU9PT0xJiZ0aGlzLmFwcGVuZENoaWxkKGEpfSl9LHByZXBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsITAsZnVuY3Rpb24oYSl7dGhpcy5ub2RlVHlwZT09PTEmJnRoaXMuaW5zZXJ0QmVmb3JlKGEsdGhpcy5maXJzdENoaWxkKX0pfSxiZWZvcmU6ZnVuY3Rpb24oKXtpZih0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGUpcmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCExLGZ1bmN0aW9uKGEpe3RoaXMucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYSx0aGlzKX0pO2lmKGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBhPWYoYXJndW1lbnRzWzBdKTthLnB1c2guYXBwbHkoYSx0aGlzLnRvQXJyYXkoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGEsImJlZm9yZSIsYXJndW1lbnRzKX19LGFmdGVyOmZ1bmN0aW9uKCl7aWYodGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlKXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywhMSxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcy5uZXh0U2libGluZyl9KTtpZihhcmd1bWVudHMubGVuZ3RoKXt2YXIgYT10aGlzLnB1c2hTdGFjayh0aGlzLCJhZnRlciIsYXJndW1lbnRzKTthLnB1c2guYXBwbHkoYSxmKGFyZ3VtZW50c1swXSkudG9BcnJheSgpKTtyZXR1cm4gYX19LHJlbW92ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgYz0wLGQ7KGQ9dGhpc1tjXSkhPW51bGw7YysrKWlmKCFhfHxmLmZpbHRlcihhLFtkXSkubGVuZ3RoKSFiJiZkLm5vZGVUeXBlPT09MSYmKGYuY2xlYW5EYXRhKGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSksZi5jbGVhbkRhdGEoW2RdKSksZC5wYXJlbnROb2RlJiZkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCk7cmV0dXJuIHRoaXN9LGVtcHR5OmZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYjsoYj10aGlzW2FdKSE9bnVsbDthKyspe2Iubm9kZVR5cGU9PT0xJiZmLmNsZWFuRGF0YShiLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpO3doaWxlKGIuZmlyc3RDaGlsZCliLnJlbW92ZUNoaWxkKGIuZmlyc3RDaGlsZCl9cmV0dXJuIHRoaXN9LGNsb25lOmZ1bmN0aW9uKGEsYil7YT1hPT1udWxsPyExOmEsYj1iPT1udWxsP2E6YjtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gZi5jbG9uZSh0aGlzLGEsYil9KX0saHRtbDpmdW5jdGlvbihhKXtpZihhPT09YilyZXR1cm4gdGhpc1swXSYmdGhpc1swXS5ub2RlVHlwZT09PTE/dGhpc1swXS5pbm5lckhUTUwucmVwbGFjZShYLCIiKTpudWxsO2lmKHR5cGVvZiBhPT0ic3RyaW5nIiYmIWJiLnRlc3QoYSkmJihmLnN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2V8fCFZLnRlc3QoYSkpJiYhYmVbKCQuZXhlYyhhKXx8WyIiLCIiXSlbMV0udG9Mb3dlckNhc2UoKV0pe2E9YS5yZXBsYWNlKFosIjwkMT48LyQyPiIpO3RyeXtmb3IodmFyIGM9MCxkPXRoaXMubGVuZ3RoO2M8ZDtjKyspdGhpc1tjXS5ub2RlVHlwZT09PTEmJihmLmNsZWFuRGF0YSh0aGlzW2NdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpLHRoaXNbY10uaW5uZXJIVE1MPWEpfWNhdGNoKGUpe3RoaXMuZW1wdHkoKS5hcHBlbmQoYSl9fWVsc2UgZi5pc0Z1bmN0aW9uKGEpP3RoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1mKHRoaXMpO2MuaHRtbChhLmNhbGwodGhpcyxiLGMuaHRtbCgpKSl9KTp0aGlzLmVtcHR5KCkuYXBwZW5kKGEpO3JldHVybiB0aGlzfSxyZXBsYWNlV2l0aDpmdW5jdGlvbihhKXtpZih0aGlzWzBdJiZ0aGlzWzBdLnBhcmVudE5vZGUpe2lmKGYuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWYodGhpcyksZD1jLmh0bWwoKTtjLnJlcGxhY2VXaXRoKGEuY2FsbCh0aGlzLGIsZCkpfSk7dHlwZW9mIGEhPSJzdHJpbmciJiYoYT1mKGEpLmRldGFjaCgpKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5uZXh0U2libGluZyxjPXRoaXMucGFyZW50Tm9kZTtmKHRoaXMpLnJlbW92ZSgpLGI/ZihiKS5iZWZvcmUoYSk6ZihjKS5hcHBlbmQoYSl9KX1yZXR1cm4gdGhpcy5sZW5ndGg/dGhpcy5wdXNoU3RhY2soZihmLmlzRnVuY3Rpb24oYSk/YSgpOmEpLCJyZXBsYWNlV2l0aCIsYSk6dGhpc30sZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlbW92ZShhLCEwKX0sZG9tTWFuaXA6ZnVuY3Rpb24oYSxjLGQpe3ZhciBlLGcsaCxpLGo9YVswXSxrPVtdO2lmKCFmLnN1cHBvcnQuY2hlY2tDbG9uZSYmYXJndW1lbnRzLmxlbmd0aD09PTMmJnR5cGVvZiBqPT0ic3RyaW5nIiYmYmMudGVzdChqKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zih0aGlzKS5kb21NYW5pcChhLGMsZCwhMCl9KTtpZihmLmlzRnVuY3Rpb24oaikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihlKXt2YXIgZz1mKHRoaXMpO2FbMF09ai5jYWxsKHRoaXMsZSxjP2cuaHRtbCgpOmIpLGcuZG9tTWFuaXAoYSxjLGQpfSk7aWYodGhpc1swXSl7aT1qJiZqLnBhcmVudE5vZGUsZi5zdXBwb3J0LnBhcmVudE5vZGUmJmkmJmkubm9kZVR5cGU9PT0xMSYmaS5jaGlsZE5vZGVzLmxlbmd0aD09PXRoaXMubGVuZ3RoP2U9e2ZyYWdtZW50Oml9OmU9Zi5idWlsZEZyYWdtZW50KGEsdGhpcyxrKSxoPWUuZnJhZ21lbnQsaC5jaGlsZE5vZGVzLmxlbmd0aD09PTE/Zz1oPWguZmlyc3RDaGlsZDpnPWguZmlyc3RDaGlsZDtpZihnKXtjPWMmJmYubm9kZU5hbWUoZywidHIiKTtmb3IodmFyIGw9MCxtPXRoaXMubGVuZ3RoLG49bS0xO2w8bTtsKyspZC5jYWxsKGM/YmYodGhpc1tsXSxnKTp0aGlzW2xdLGUuY2FjaGVhYmxlfHxtPjEmJmw8bj9mLmNsb25lKGgsITAsITApOmgpfWsubGVuZ3RoJiZmLmVhY2goayxibCl9cmV0dXJuIHRoaXN9fSksZi5idWlsZEZyYWdtZW50PWZ1bmN0aW9uKGEsYixkKXt2YXIgZSxnLGgsaT1iJiZiWzBdP2JbMF0ub3duZXJEb2N1bWVudHx8YlswXTpjO2EubGVuZ3RoPT09MSYmdHlwZW9mIGFbMF09PSJzdHJpbmciJiZhWzBdLmxlbmd0aDw1MTImJmk9PT1jJiZhWzBdLmNoYXJBdCgwKT09PSI8IiYmIWJiLnRlc3QoYVswXSkmJihmLnN1cHBvcnQuY2hlY2tDbG9uZXx8IWJjLnRlc3QoYVswXSkpJiYoZz0hMCxoPWYuZnJhZ21lbnRzW2FbMF1dLGgmJmghPT0xJiYoZT1oKSksZXx8KGU9aS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZi5jbGVhbihhLGksZSxkKSksZyYmKGYuZnJhZ21lbnRzW2FbMF1dPWg/ZToxKTtyZXR1cm57ZnJhZ21lbnQ6ZSxjYWNoZWFibGU6Z319LGYuZnJhZ21lbnRzPXt9LGYuZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGEsYil7Zi5mblthXT1mdW5jdGlvbihjKXt2YXIgZD1bXSxlPWYoYyksZz10aGlzLmxlbmd0aD09PTEmJnRoaXNbMF0ucGFyZW50Tm9kZTtpZihnJiZnLm5vZGVUeXBlPT09MTEmJmcuY2hpbGROb2Rlcy5sZW5ndGg9PT0xJiZlLmxlbmd0aD09PTEpe2VbYl0odGhpc1swXSk7cmV0dXJuIHRoaXN9Zm9yKHZhciBoPTAsaT1lLmxlbmd0aDtoPGk7aCsrKXt2YXIgaj0oaD4wP3RoaXMuY2xvbmUoITApOnRoaXMpLmdldCgpO2YoZVtoXSlbYl0oaiksZD1kLmNvbmNhdChqKX1yZXR1cm4gdGhpcy5wdXNoU3RhY2soZCxhLGUuc2VsZWN0b3IpfX0pLGYuZXh0ZW5kKHtjbG9uZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5jbG9uZU5vZGUoITApLGUsZyxoO2lmKCghZi5zdXBwb3J0Lm5vQ2xvbmVFdmVudHx8IWYuc3VwcG9ydC5ub0Nsb25lQ2hlY2tlZCkmJihhLm5vZGVUeXBlPT09MXx8YS5ub2RlVHlwZT09PTExKSYmIWYuaXNYTUxEb2MoYSkpe2JoKGEsZCksZT1iaShhKSxnPWJpKGQpO2ZvcihoPTA7ZVtoXTsrK2gpYmgoZVtoXSxnW2hdKX1pZihiKXtiZyhhLGQpO2lmKGMpe2U9YmkoYSksZz1iaShkKTtmb3IoaD0wO2VbaF07KytoKWJnKGVbaF0sZ1toXSl9fXJldHVybiBkfSxjbGVhbjpmdW5jdGlvbihhLGIsZCxlKXt2YXIgZztiPWJ8fGMsdHlwZW9mIGIuY3JlYXRlRWxlbWVudD09InVuZGVmaW5lZCImJihiPWIub3duZXJEb2N1bWVudHx8YlswXSYmYlswXS5vd25lckRvY3VtZW50fHxjKTt2YXIgaD1bXTtmb3IodmFyIGk9MCxqOyhqPWFbaV0pIT1udWxsO2krKyl7dHlwZW9mIGo9PSJudW1iZXIiJiYoais9IiIpO2lmKCFqKWNvbnRpbnVlO2lmKHR5cGVvZiBqPT0ic3RyaW5nIilpZighYmEudGVzdChqKSlqPWIuY3JlYXRlVGV4dE5vZGUoaik7ZWxzZXtqPWoucmVwbGFjZShaLCI8JDE+PC8kMj4iKTt2YXIgaz0oJC5leGVjKGopfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLGw9YmVba118fGJlLl9kZWZhdWx0LG09bFswXSxuPWIuY3JlYXRlRWxlbWVudCgiZGl2Iik7bi5pbm5lckhUTUw9bFsxXStqK2xbMl07d2hpbGUobS0tKW49bi5sYXN0Q2hpbGQ7aWYoIWYuc3VwcG9ydC50Ym9keSl7dmFyIG89Xy50ZXN0KGopLHA9az09PSJ0YWJsZSImJiFvP24uZmlyc3RDaGlsZCYmbi5maXJzdENoaWxkLmNoaWxkTm9kZXM6bFsxXT09PSI8dGFibGU+IiYmIW8/bi5jaGlsZE5vZGVzOltdO2Zvcih2YXIgcT1wLmxlbmd0aC0xO3E+PTA7LS1xKWYubm9kZU5hbWUocFtxXSwidGJvZHkiKSYmIXBbcV0uY2hpbGROb2Rlcy5sZW5ndGgmJnBbcV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwW3FdKX0hZi5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlJiZZLnRlc3QoaikmJm4uaW5zZXJ0QmVmb3JlKGIuY3JlYXRlVGV4dE5vZGUoWS5leGVjKGopWzBdKSxuLmZpcnN0Q2hpbGQpLGo9bi5jaGlsZE5vZGVzfXZhciByO2lmKCFmLnN1cHBvcnQuYXBwZW5kQ2hlY2tlZClpZihqWzBdJiZ0eXBlb2YgKHI9ai5sZW5ndGgpPT0ibnVtYmVyIilmb3IoaT0wO2k8cjtpKyspYmsoaltpXSk7ZWxzZSBiayhqKTtqLm5vZGVUeXBlP2gucHVzaChqKTpoPWYubWVyZ2UoaCxqKX1pZihkKXtnPWZ1bmN0aW9uKGEpe3JldHVybiFhLnR5cGV8fGJkLnRlc3QoYS50eXBlKX07Zm9yKGk9MDtoW2ldO2krKylpZihlJiZmLm5vZGVOYW1lKGhbaV0sInNjcmlwdCIpJiYoIWhbaV0udHlwZXx8aFtpXS50eXBlLnRvTG93ZXJDYXNlKCk9PT0idGV4dC9qYXZhc2NyaXB0IikpZS5wdXNoKGhbaV0ucGFyZW50Tm9kZT9oW2ldLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaFtpXSk6aFtpXSk7ZWxzZXtpZihoW2ldLm5vZGVUeXBlPT09MSl7dmFyIHM9Zi5ncmVwKGhbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpLGcpO2guc3BsaWNlLmFwcGx5KGgsW2krMSwwXS5jb25jYXQocykpfWQuYXBwZW5kQ2hpbGQoaFtpXSl9fXJldHVybiBofSxjbGVhbkRhdGE6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkPWYuY2FjaGUsZT1mLmV4cGFuZG8sZz1mLmV2ZW50LnNwZWNpYWwsaD1mLnN1cHBvcnQuZGVsZXRlRXhwYW5kbztmb3IodmFyIGk9MCxqOyhqPWFbaV0pIT1udWxsO2krKyl7aWYoai5ub2RlTmFtZSYmZi5ub0RhdGFbai5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSljb250aW51ZTtjPWpbZi5leHBhbmRvXTtpZihjKXtiPWRbY10mJmRbY11bZV07aWYoYiYmYi5ldmVudHMpe2Zvcih2YXIgayBpbiBiLmV2ZW50cylnW2tdP2YuZXZlbnQucmVtb3ZlKGosayk6Zi5yZW1vdmVFdmVudChqLGssYi5oYW5kbGUpO2IuaGFuZGxlJiYoYi5oYW5kbGUuZWxlbT1udWxsKX1oP2RlbGV0ZSBqW2YuZXhwYW5kb106ai5yZW1vdmVBdHRyaWJ1dGUmJmoucmVtb3ZlQXR0cmlidXRlKGYuZXhwYW5kbyksZGVsZXRlIGRbY119fX19KTt2YXIgYm09L2FscGhhXChbXildKlwpL2ksYm49L29wYWNpdHk9KFteKV0qKS8sYm89Ly0oW2Etel0pL2lnLGJwPS8oW0EtWl18Xm1zKS9nLGJxPS9eLT9cZCsoPzpweCk/JC9pLGJyPS9eLT9cZC8sYnM9L15bK1wtXT0vLGJ0PS9bXitcLVwuXGRlXSsvZyxidT17cG9zaXRpb246ImFic29sdXRlIix2aXNpYmlsaXR5OiJoaWRkZW4iLGRpc3BsYXk6ImJsb2NrIn0sYnY9WyJMZWZ0IiwiUmlnaHQiXSxidz1bIlRvcCIsIkJvdHRvbSJdLGJ4LGJ5LGJ6LGJBPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGIudG9VcHBlckNhc2UoKX07Zi5mbi5jc3M9ZnVuY3Rpb24oYSxjKXtpZihhcmd1bWVudHMubGVuZ3RoPT09MiYmYz09PWIpcmV0dXJuIHRoaXM7cmV0dXJuIGYuYWNjZXNzKHRoaXMsYSxjLCEwLGZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gZCE9PWI/Zi5zdHlsZShhLGMsZCk6Zi5jc3MoYSxjKX0pfSxmLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBjPWJ4KGEsIm9wYWNpdHkiLCJvcGFjaXR5Iik7cmV0dXJuIGM9PT0iIj8iMSI6Y31yZXR1cm4gYS5zdHlsZS5vcGFjaXR5fX19LGNzc051bWJlcjp7ekluZGV4OiEwLGZvbnRXZWlnaHQ6ITAsb3BhY2l0eTohMCx6b29tOiEwLGxpbmVIZWlnaHQ6ITAsd2lkb3dzOiEwLG9ycGhhbnM6ITB9LGNzc1Byb3BzOnsiZmxvYXQiOmYuc3VwcG9ydC5jc3NGbG9hdD8iY3NzRmxvYXQiOiJzdHlsZUZsb2F0In0sc3R5bGU6ZnVuY3Rpb24oYSxjLGQsZSl7aWYoISFhJiZhLm5vZGVUeXBlIT09MyYmYS5ub2RlVHlwZSE9PTgmJiEhYS5zdHlsZSl7dmFyIGcsaCxpPWYuY2FtZWxDYXNlKGMpLGo9YS5zdHlsZSxrPWYuY3NzSG9va3NbaV07Yz1mLmNzc1Byb3BzW2ldfHxpO2lmKGQ9PT1iKXtpZihrJiYiZ2V0ImluIGsmJihnPWsuZ2V0KGEsITEsZSkpIT09YilyZXR1cm4gZztyZXR1cm4galtjXX1oPXR5cGVvZiBkO2lmKGg9PT0ibnVtYmVyIiYmaXNOYU4oZCl8fGQ9PW51bGwpcmV0dXJuO2g9PT0ic3RyaW5nIiYmYnMudGVzdChkKSYmKGQ9K2QucmVwbGFjZShidCwiIikrcGFyc2VGbG9hdChmLmNzcyhhLGMpKSksaD09PSJudW1iZXIiJiYhZi5jc3NOdW1iZXJbaV0mJihkKz0icHgiKTtpZigha3x8ISgic2V0ImluIGspfHwoZD1rLnNldChhLGQpKSE9PWIpdHJ5e2pbY109ZH1jYXRjaChsKXt9fX0sY3NzOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZSxnO2M9Zi5jYW1lbENhc2UoYyksZz1mLmNzc0hvb2tzW2NdLGM9Zi5jc3NQcm9wc1tjXXx8YyxjPT09ImNzc0Zsb2F0IiYmKGM9ImZsb2F0Iik7aWYoZyYmImdldCJpbiBnJiYoZT1nLmdldChhLCEwLGQpKSE9PWIpcmV0dXJuIGU7aWYoYngpcmV0dXJuIGJ4KGEsYyl9LHN3YXA6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXt9O2Zvcih2YXIgZSBpbiBiKWRbZV09YS5zdHlsZVtlXSxhLnN0eWxlW2VdPWJbZV07Yy5jYWxsKGEpO2ZvcihlIGluIGIpYS5zdHlsZVtlXT1kW2VdfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShibyxiQSl9fSksZi5jdXJDU1M9Zi5jc3MsZi5lYWNoKFsiaGVpZ2h0Iiwid2lkdGgiXSxmdW5jdGlvbihhLGIpe2YuY3NzSG9va3NbYl09e2dldDpmdW5jdGlvbihhLGMsZCl7dmFyIGU7aWYoYyl7YS5vZmZzZXRXaWR0aCE9PTA/ZT1iQihhLGIsZCk6Zi5zd2FwKGEsYnUsZnVuY3Rpb24oKXtlPWJCKGEsYixkKX0pO2lmKGU8PTApe2U9YngoYSxiLGIpLGU9PT0iMHB4IiYmYnomJihlPWJ6KGEsYixiKSk7aWYoZSE9bnVsbClyZXR1cm4gZT09PSIifHxlPT09ImF1dG8iPyIwcHgiOmV9aWYoZTwwfHxlPT1udWxsKXtlPWEuc3R5bGVbYl07cmV0dXJuIGU9PT0iInx8ZT09PSJhdXRvIj8iMHB4IjplfXJldHVybiB0eXBlb2YgZT09InN0cmluZyI/ZTplKyJweCJ9fSxzZXQ6ZnVuY3Rpb24oYSxiKXtpZighYnEudGVzdChiKSlyZXR1cm4gYjtiPXBhcnNlRmxvYXQoYik7aWYoYj49MClyZXR1cm4gYisicHgifX19KSxmLnN1cHBvcnQub3BhY2l0eXx8KGYuY3NzSG9va3Mub3BhY2l0eT17Z2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGJuLnRlc3QoKGImJmEuY3VycmVudFN0eWxlP2EuY3VycmVudFN0eWxlLmZpbHRlcjphLnN0eWxlLmZpbHRlcil8fCIiKT9wYXJzZUZsb2F0KFJlZ0V4cC4kMSkvMTAwKyIiOmI/IjEiOiIifSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1hLnN0eWxlLGQ9YS5jdXJyZW50U3R5bGU7Yy56b29tPTE7dmFyIGU9Zi5pc05hTihiKT8iIjoiYWxwaGEob3BhY2l0eT0iK2IqMTAwKyIpIixnPWQmJmQuZmlsdGVyfHxjLmZpbHRlcnx8IiI7Yy5maWx0ZXI9Ym0udGVzdChnKT9nLnJlcGxhY2UoYm0sZSk6ZysiICIrZX19KSxmKGZ1bmN0aW9uKCl7Zi5zdXBwb3J0LnJlbGlhYmxlTWFyZ2luUmlnaHR8fChmLmNzc0hvb2tzLm1hcmdpblJpZ2h0PXtnZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYztmLnN3YXAoYSx7ZGlzcGxheToiaW5saW5lLWJsb2NrIn0sZnVuY3Rpb24oKXtiP2M9YngoYSwibWFyZ2luLXJpZ2h0IiwibWFyZ2luUmlnaHQiKTpjPWEuc3R5bGUubWFyZ2luUmlnaHR9KTtyZXR1cm4gY319KX0pLGMuZGVmYXVsdFZpZXcmJmMuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZSYmKGJ5PWZ1bmN0aW9uKGEsYyl7dmFyIGQsZSxnO2M9Yy5yZXBsYWNlKGJwLCItJDEiKS50b0xvd2VyQ2FzZSgpO2lmKCEoZT1hLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpKXJldHVybiBiO2lmKGc9ZS5nZXRDb21wdXRlZFN0eWxlKGEsbnVsbCkpZD1nLmdldFByb3BlcnR5VmFsdWUoYyksZD09PSIiJiYhZi5jb250YWlucyhhLm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LGEpJiYoZD1mLnN0eWxlKGEsYykpO3JldHVybiBkfSksYy5kb2N1bWVudEVsZW1lbnQuY3VycmVudFN0eWxlJiYoYno9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkPWEuY3VycmVudFN0eWxlJiZhLmN1cnJlbnRTdHlsZVtiXSxlPWEucnVudGltZVN0eWxlJiZhLnJ1bnRpbWVTdHlsZVtiXSxmPWEuc3R5bGU7IWJxLnRlc3QoZCkmJmJyLnRlc3QoZCkmJihjPWYubGVmdCxlJiYoYS5ydW50aW1lU3R5bGUubGVmdD1hLmN1cnJlbnRTdHlsZS5sZWZ0KSxmLmxlZnQ9Yj09PSJmb250U2l6ZSI/IjFlbSI6ZHx8MCxkPWYucGl4ZWxMZWZ0KyJweCIsZi5sZWZ0PWMsZSYmKGEucnVudGltZVN0eWxlLmxlZnQ9ZSkpO3JldHVybiBkPT09IiI/ImF1dG8iOmR9KSxieD1ieXx8YnosZi5leHByJiZmLmV4cHIuZmlsdGVycyYmKGYuZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXt2YXIgYj1hLm9mZnNldFdpZHRoLGM9YS5vZmZzZXRIZWlnaHQ7cmV0dXJuIGI9PT0wJiZjPT09MHx8IWYuc3VwcG9ydC5yZWxpYWJsZUhpZGRlbk9mZnNldHMmJihhLnN0eWxlLmRpc3BsYXl8fGYuY3NzKGEsImRpc3BsYXkiKSk9PT0ibm9uZSJ9LGYuZXhwci5maWx0ZXJzLnZpc2libGU9ZnVuY3Rpb24oYSl7cmV0dXJuIWYuZXhwci5maWx0ZXJzLmhpZGRlbihhKX0pO3ZhciBiQz0vJTIwL2csYkQ9L1xbXF0kLyxiRT0vXHI/XG4vZyxiRj0vIy4qJC8sYkc9L14oLio/KTpbIFx0XSooW15cclxuXSopXHI/JC9tZyxiSD0vXig/OmNvbG9yfGRhdGV8ZGF0ZXRpbWV8ZW1haWx8aGlkZGVufG1vbnRofG51bWJlcnxwYXNzd29yZHxyYW5nZXxzZWFyY2h8dGVsfHRleHR8dGltZXx1cmx8d2VlaykkL2ksYkk9L14oPzphYm91dHxhcHB8YXBwXC1zdG9yYWdlfC4rXC1leHRlbnNpb258ZmlsZXx3aWRnZXQpOiQvLGJKPS9eKD86R0VUfEhFQUQpJC8sYks9L15cL1wvLyxiTD0vXD8vLGJNPS88c2NyaXB0XGJbXjxdKig/Oig/ITxcL3NjcmlwdD4pPFtePF0qKSo8XC9zY3JpcHQ+L2dpLGJOPS9eKD86c2VsZWN0fHRleHRhcmVhKS9pLGJPPS9ccysvLGJQPS8oWz8mXSlfPVteJl0qLyxiUT0vXihbXHdcK1wuXC1dKzopKD86XC9cLyhbXlwvPyM6XSopKD86OihcZCspKT8pPy8sYlI9Zi5mbi5sb2FkLGJTPXt9LGJUPXt9LGJVLGJWO3RyeXtiVT1lLmhyZWZ9Y2F0Y2goYlcpe2JVPWMuY3JlYXRlRWxlbWVudCgiYSIpLGJVLmhyZWY9IiIsYlU9YlUuaHJlZn1iVj1iUS5leGVjKGJVLnRvTG93ZXJDYXNlKCkpfHxbXSxmLmZuLmV4dGVuZCh7bG9hZDpmdW5jdGlvbihhLGMsZCl7aWYodHlwZW9mIGEhPSJzdHJpbmciJiZiUilyZXR1cm4gYlIuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKCF0aGlzLmxlbmd0aClyZXR1cm4gdGhpczt2YXIgZT1hLmluZGV4T2YoIiAiKTtpZihlPj0wKXt2YXIgZz1hLnNsaWNlKGUsYS5sZW5ndGgpO2E9YS5zbGljZSgwLGUpfXZhciBoPSJHRVQiO2MmJihmLmlzRnVuY3Rpb24oYyk/KGQ9YyxjPWIpOnR5cGVvZiBjPT0ib2JqZWN0IiYmKGM9Zi5wYXJhbShjLGYuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKSxoPSJQT1NUIikpO3ZhciBpPXRoaXM7Zi5hamF4KHt1cmw6YSx0eXBlOmgsZGF0YVR5cGU6Imh0bWwiLGRhdGE6Yyxjb21wbGV0ZTpmdW5jdGlvbihhLGIsYyl7Yz1hLnJlc3BvbnNlVGV4dCxhLmlzUmVzb2x2ZWQoKSYmKGEuZG9uZShmdW5jdGlvbihhKXtjPWF9KSxpLmh0bWwoZz9mKCI8ZGl2PiIpLmFwcGVuZChjLnJlcGxhY2UoYk0sIiIpKS5maW5kKGcpOmMpKSxkJiZpLmVhY2goZCxbYyxiLGFdKX19KTtyZXR1cm4gdGhpc30sc2VyaWFsaXplOmZ1bmN0aW9uKCl7cmV0dXJuIGYucGFyYW0odGhpcy5zZXJpYWxpemVBcnJheSgpKX0sc2VyaWFsaXplQXJyYXk6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50cz9mLm1ha2VBcnJheSh0aGlzLmVsZW1lbnRzKTp0aGlzfSkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubmFtZSYmIXRoaXMuZGlzYWJsZWQmJih0aGlzLmNoZWNrZWR8fGJOLnRlc3QodGhpcy5ub2RlTmFtZSl8fGJILnRlc3QodGhpcy50eXBlKSl9KS5tYXAoZnVuY3Rpb24oYSxiKXt2YXIgYz1mKHRoaXMpLnZhbCgpO3JldHVybiBjPT1udWxsP251bGw6Zi5pc0FycmF5KGMpP2YubWFwKGMsZnVuY3Rpb24oYSxjKXtyZXR1cm57bmFtZTpiLm5hbWUsdmFsdWU6YS5yZXBsYWNlKGJFLCJcclxuIil9fSk6e25hbWU6Yi5uYW1lLHZhbHVlOmMucmVwbGFjZShiRSwiXHJcbiIpfX0pLmdldCgpfX0pLGYuZWFjaCgiYWpheFN0YXJ0IGFqYXhTdG9wIGFqYXhDb21wbGV0ZSBhamF4RXJyb3IgYWpheFN1Y2Nlc3MgYWpheFNlbmQiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtmLmZuW2JdPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmJpbmQoYixhKX19KSxmLmVhY2goWyJnZXQiLCJwb3N0Il0sZnVuY3Rpb24oYSxjKXtmW2NdPWZ1bmN0aW9uKGEsZCxlLGcpe2YuaXNGdW5jdGlvbihkKSYmKGc9Z3x8ZSxlPWQsZD1iKTtyZXR1cm4gZi5hamF4KHt0eXBlOmMsdXJsOmEsZGF0YTpkLHN1Y2Nlc3M6ZSxkYXRhVHlwZTpnfSl9fSksZi5leHRlbmQoe2dldFNjcmlwdDpmdW5jdGlvbihhLGMpe3JldHVybiBmLmdldChhLGIsYywic2NyaXB0Iil9LGdldEpTT046ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmLmdldChhLGIsYywianNvbiIpfSxhamF4U2V0dXA6ZnVuY3Rpb24oYSxiKXtiP2YuZXh0ZW5kKCEwLGEsZi5hamF4U2V0dGluZ3MsYik6KGI9YSxhPWYuZXh0ZW5kKCEwLGYuYWpheFNldHRpbmdzLGIpKTtmb3IodmFyIGMgaW57Y29udGV4dDoxLHVybDoxfSljIGluIGI/YVtjXT1iW2NdOmMgaW4gZi5hamF4U2V0dGluZ3MmJihhW2NdPWYuYWpheFNldHRpbmdzW2NdKTtyZXR1cm4gYX0sYWpheFNldHRpbmdzOnt1cmw6YlUsaXNMb2NhbDpiSS50ZXN0KGJWWzFdKSxnbG9iYWw6ITAsdHlwZToiR0VUIixjb250ZW50VHlwZToiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIixwcm9jZXNzRGF0YTohMCxhc3luYzohMCxhY2NlcHRzOnt4bWw6ImFwcGxpY2F0aW9uL3htbCwgdGV4dC94bWwiLGh0bWw6InRleHQvaHRtbCIsdGV4dDoidGV4dC9wbGFpbiIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0IiwiKiI6IiovKiJ9LGNvbnRlbnRzOnt4bWw6L3htbC8saHRtbDovaHRtbC8sanNvbjovanNvbi99LHJlc3BvbnNlRmllbGRzOnt4bWw6InJlc3BvbnNlWE1MIix0ZXh0OiJyZXNwb25zZVRleHQifSxjb252ZXJ0ZXJzOnsiKiB0ZXh0IjphLlN0cmluZywidGV4dCBodG1sIjohMCwidGV4dCBqc29uIjpmLnBhcnNlSlNPTiwidGV4dCB4bWwiOmYucGFyc2VYTUx9fSxhamF4UHJlZmlsdGVyOmJYKGJTKSxhamF4VHJhbnNwb3J0OmJYKGJUKSxhamF4OmZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gdyhhLGMsbCxtKXtpZihzIT09Mil7cz0yLHEmJmNsZWFyVGltZW91dChxKSxwPWIsbj1tfHwiIix2LnJlYWR5U3RhdGU9YT80OjA7dmFyIG8scix1LHc9bD9iJChkLHYsbCk6Yix4LHk7aWYoYT49MjAwJiZhPDMwMHx8YT09PTMwNCl7aWYoZC5pZk1vZGlmaWVkKXtpZih4PXYuZ2V0UmVzcG9uc2VIZWFkZXIoIkxhc3QtTW9kaWZpZWQiKSlmLmxhc3RNb2RpZmllZFtrXT14O2lmKHk9di5nZXRSZXNwb25zZUhlYWRlcigiRXRhZyIpKWYuZXRhZ1trXT15fWlmKGE9PT0zMDQpYz0ibm90bW9kaWZpZWQiLG89ITA7ZWxzZSB0cnl7cj1iXyhkLHcpLGM9InN1Y2Nlc3MiLG89ITB9Y2F0Y2goeil7Yz0icGFyc2VyZXJyb3IiLHU9en19ZWxzZXt1PWM7aWYoIWN8fGEpYz0iZXJyb3IiLGE8MCYmKGE9MCl9di5zdGF0dXM9YSx2LnN0YXR1c1RleHQ9YyxvP2gucmVzb2x2ZVdpdGgoZSxbcixjLHZdKTpoLnJlamVjdFdpdGgoZSxbdixjLHVdKSx2LnN0YXR1c0NvZGUoaiksaj1iLHQmJmcudHJpZ2dlcigiYWpheCIrKG8/IlN1Y2Nlc3MiOiJFcnJvciIpLFt2LGQsbz9yOnVdKSxpLnJlc29sdmVXaXRoKGUsW3YsY10pLHQmJihnLnRyaWdnZXIoImFqYXhDb21wbGV0ZSIsW3YsZF0pLC0tZi5hY3RpdmV8fGYuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKSl9fXR5cGVvZiBhPT0ib2JqZWN0IiYmKGM9YSxhPWIpLGM9Y3x8e307dmFyIGQ9Zi5hamF4U2V0dXAoe30sYyksZT1kLmNvbnRleHR8fGQsZz1lIT09ZCYmKGUubm9kZVR5cGV8fGUgaW5zdGFuY2VvZiBmKT9mKGUpOmYuZXZlbnQsaD1mLkRlZmVycmVkKCksaT1mLl9EZWZlcnJlZCgpLGo9ZC5zdGF0dXNDb2RlfHx7fSxrLGw9e30sbT17fSxuLG8scCxxLHIscz0wLHQsdSx2PXtyZWFkeVN0YXRlOjAsc2V0UmVxdWVzdEhlYWRlcjpmdW5jdGlvbihhLGIpe2lmKCFzKXt2YXIgYz1hLnRvTG93ZXJDYXNlKCk7YT1tW2NdPW1bY118fGEsbFthXT1ifXJldHVybiB0aGlzfSxnZXRBbGxSZXNwb25zZUhlYWRlcnM6ZnVuY3Rpb24oKXtyZXR1cm4gcz09PTI/bjpudWxsfSxnZXRSZXNwb25zZUhlYWRlcjpmdW5jdGlvbihhKXt2YXIgYztpZihzPT09Mil7aWYoIW8pe289e307d2hpbGUoYz1iRy5leGVjKG4pKW9bY1sxXS50b0xvd2VyQ2FzZSgpXT1jWzJdfWM9b1thLnRvTG93ZXJDYXNlKCldfXJldHVybiBjPT09Yj9udWxsOmN9LG92ZXJyaWRlTWltZVR5cGU6ZnVuY3Rpb24oYSl7c3x8KGQubWltZVR5cGU9YSk7cmV0dXJuIHRoaXN9LGFib3J0OmZ1bmN0aW9uKGEpe2E9YXx8ImFib3J0IixwJiZwLmFib3J0KGEpLHcoMCxhKTtyZXR1cm4gdGhpc319O2gucHJvbWlzZSh2KSx2LnN1Y2Nlc3M9di5kb25lLHYuZXJyb3I9di5mYWlsLHYuY29tcGxldGU9aS5kb25lLHYuc3RhdHVzQ29kZT1mdW5jdGlvbihhKXtpZihhKXt2YXIgYjtpZihzPDIpZm9yKGIgaW4gYSlqW2JdPVtqW2JdLGFbYl1dO2Vsc2UgYj1hW3Yuc3RhdHVzXSx2LnRoZW4oYixiKX1yZXR1cm4gdGhpc30sZC51cmw9KChhfHxkLnVybCkrIiIpLnJlcGxhY2UoYkYsIiIpLnJlcGxhY2UoYkssYlZbMV0rIi8vIiksZC5kYXRhVHlwZXM9Zi50cmltKGQuZGF0YVR5cGV8fCIqIikudG9Mb3dlckNhc2UoKS5zcGxpdChiTyksZC5jcm9zc0RvbWFpbj09bnVsbCYmKHI9YlEuZXhlYyhkLnVybC50b0xvd2VyQ2FzZSgpKSxkLmNyb3NzRG9tYWluPSEoIXJ8fHJbMV09PWJWWzFdJiZyWzJdPT1iVlsyXSYmKHJbM118fChyWzFdPT09Imh0dHA6Ij84MDo0NDMpKT09KGJWWzNdfHwoYlZbMV09PT0iaHR0cDoiPzgwOjQ0MykpKSksZC5kYXRhJiZkLnByb2Nlc3NEYXRhJiZ0eXBlb2YgZC5kYXRhIT0ic3RyaW5nIiYmKGQuZGF0YT1mLnBhcmFtKGQuZGF0YSxkLnRyYWRpdGlvbmFsKSksYlkoYlMsZCxjLHYpO2lmKHM9PT0yKXJldHVybiExO3Q9ZC5nbG9iYWwsZC50eXBlPWQudHlwZS50b1VwcGVyQ2FzZSgpLGQuaGFzQ29udGVudD0hYkoudGVzdChkLnR5cGUpLHQmJmYuYWN0aXZlKys9PT0wJiZmLmV2ZW50LnRyaWdnZXIoImFqYXhTdGFydCIpO2lmKCFkLmhhc0NvbnRlbnQpe2QuZGF0YSYmKGQudXJsKz0oYkwudGVzdChkLnVybCk/IiYiOiI/IikrZC5kYXRhKSxrPWQudXJsO2lmKGQuY2FjaGU9PT0hMSl7dmFyIHg9Zi5ub3coKSx5PWQudXJsLnJlcGxhY2UoYlAsIiQxXz0iK3gpO2QudXJsPXkrKHk9PT1kLnVybD8oYkwudGVzdChkLnVybCk/IiYiOiI/IikrIl89Iit4OiIiKX19KGQuZGF0YSYmZC5oYXNDb250ZW50JiZkLmNvbnRlbnRUeXBlIT09ITF8fGMuY29udGVudFR5cGUpJiZ2LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsZC5jb250ZW50VHlwZSksZC5pZk1vZGlmaWVkJiYoaz1rfHxkLnVybCxmLmxhc3RNb2RpZmllZFtrXSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Nb2RpZmllZC1TaW5jZSIsZi5sYXN0TW9kaWZpZWRba10pLGYuZXRhZ1trXSYmdi5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixmLmV0YWdba10pKSx2LnNldFJlcXVlc3RIZWFkZXIoIkFjY2VwdCIsZC5kYXRhVHlwZXNbMF0mJmQuYWNjZXB0c1tkLmRhdGFUeXBlc1swXV0/ZC5hY2NlcHRzW2QuZGF0YVR5cGVzWzBdXSsoZC5kYXRhVHlwZXNbMF0hPT0iKiI/IiwgKi8qOyBxPTAuMDEiOiIiKTpkLmFjY2VwdHNbIioiXSk7Zm9yKHUgaW4gZC5oZWFkZXJzKXYuc2V0UmVxdWVzdEhlYWRlcih1LGQuaGVhZGVyc1t1XSk7aWYoZC5iZWZvcmVTZW5kJiYoZC5iZWZvcmVTZW5kLmNhbGwoZSx2LGQpPT09ITF8fHM9PT0yKSl7di5hYm9ydCgpO3JldHVybiExfWZvcih1IGlue3N1Y2Nlc3M6MSxlcnJvcjoxLGNvbXBsZXRlOjF9KXZbdV0oZFt1XSk7cD1iWShiVCxkLGMsdik7aWYoIXApdygtMSwiTm8gVHJhbnNwb3J0Iik7ZWxzZXt2LnJlYWR5U3RhdGU9MSx0JiZnLnRyaWdnZXIoImFqYXhTZW5kIixbdixkXSksZC5hc3luYyYmZC50aW1lb3V0PjAmJihxPXNldFRpbWVvdXQoZnVuY3Rpb24oKXt2LmFib3J0KCJ0aW1lb3V0Iil9LGQudGltZW91dCkpO3RyeXtzPTEscC5zZW5kKGwsdyl9Y2F0Y2goeil7c3RhdHVzPDI/dygtMSx6KTpmLmVycm9yKHopfX1yZXR1cm4gdn0scGFyYW06ZnVuY3Rpb24oYSxjKXt2YXIgZD1bXSxlPWZ1bmN0aW9uKGEsYil7Yj1mLmlzRnVuY3Rpb24oYik/YigpOmIsZFtkLmxlbmd0aF09ZW5jb2RlVVJJQ29tcG9uZW50KGEpKyI9IitlbmNvZGVVUklDb21wb25lbnQoYil9O2M9PT1iJiYoYz1mLmFqYXhTZXR0aW5ncy50cmFkaXRpb25hbCk7aWYoZi5pc0FycmF5KGEpfHxhLmpxdWVyeSYmIWYuaXNQbGFpbk9iamVjdChhKSlmLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IodmFyIGcgaW4gYSliWihnLGFbZ10sYyxlKTtyZXR1cm4gZC5qb2luKCImIikucmVwbGFjZShiQywiKyIpfX0pLGYuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fX0pO3ZhciBjYT1mLm5vdygpLGNiPS8oXD0pXD8oJnwkKXxcP1w/L2k7Zi5hamF4U2V0dXAoe2pzb25wOiJjYWxsYmFjayIsanNvbnBDYWxsYmFjazpmdW5jdGlvbigpe3JldHVybiBmLmV4cGFuZG8rIl8iK2NhKyt9fSksZi5hamF4UHJlZmlsdGVyKCJqc29uIGpzb25wIixmdW5jdGlvbihiLGMsZCl7dmFyIGU9Yi5jb250ZW50VHlwZT09PSJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiJiZ0eXBlb2YgYi5kYXRhPT0ic3RyaW5nIjtpZihiLmRhdGFUeXBlc1swXT09PSJqc29ucCJ8fGIuanNvbnAhPT0hMSYmKGNiLnRlc3QoYi51cmwpfHxlJiZjYi50ZXN0KGIuZGF0YSkpKXt2YXIgZyxoPWIuanNvbnBDYWxsYmFjaz1mLmlzRnVuY3Rpb24oYi5qc29ucENhbGxiYWNrKT9iLmpzb25wQ2FsbGJhY2soKTpiLmpzb25wQ2FsbGJhY2ssaT1hW2hdLGo9Yi51cmwsaz1iLmRhdGEsbD0iJDEiK2grIiQyIjtiLmpzb25wIT09ITEmJihqPWoucmVwbGFjZShjYixsKSxiLnVybD09PWomJihlJiYoaz1rLnJlcGxhY2UoY2IsbCkpLGIuZGF0YT09PWsmJihqKz0oL1w/Ly50ZXN0KGopPyImIjoiPyIpK2IuanNvbnArIj0iK2gpKSksYi51cmw9aixiLmRhdGE9ayxhW2hdPWZ1bmN0aW9uKGEpe2c9W2FdfSxkLmFsd2F5cyhmdW5jdGlvbigpe2FbaF09aSxnJiZmLmlzRnVuY3Rpb24oaSkmJmFbaF0oZ1swXSl9KSxiLmNvbnZlcnRlcnNbInNjcmlwdCBqc29uIl09ZnVuY3Rpb24oKXtnfHxmLmVycm9yKGgrIiB3YXMgbm90IGNhbGxlZCIpO3JldHVybiBnWzBdfSxiLmRhdGFUeXBlc1swXT0ianNvbiI7cmV0dXJuInNjcmlwdCJ9fSksZi5hamF4U2V0dXAoe2FjY2VwdHM6e3NjcmlwdDoidGV4dC9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9qYXZhc2NyaXB0LCBhcHBsaWNhdGlvbi9lY21hc2NyaXB0LCBhcHBsaWNhdGlvbi94LWVjbWFzY3JpcHQifSxjb250ZW50czp7c2NyaXB0Oi9qYXZhc2NyaXB0fGVjbWFzY3JpcHQvfSxjb252ZXJ0ZXJzOnsidGV4dCBzY3JpcHQiOmZ1bmN0aW9uKGEpe2YuZ2xvYmFsRXZhbChhKTtyZXR1cm4gYX19fSksZi5hamF4UHJlZmlsdGVyKCJzY3JpcHQiLGZ1bmN0aW9uKGEpe2EuY2FjaGU9PT1iJiYoYS5jYWNoZT0hMSksYS5jcm9zc0RvbWFpbiYmKGEudHlwZT0iR0VUIixhLmdsb2JhbD0hMSl9KSxmLmFqYXhUcmFuc3BvcnQoInNjcmlwdCIsZnVuY3Rpb24oYSl7aWYoYS5jcm9zc0RvbWFpbil7dmFyIGQsZT1jLmhlYWR8fGMuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImhlYWQiKVswXXx8Yy5kb2N1bWVudEVsZW1lbnQ7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZixnKXtkPWMuY3JlYXRlRWxlbWVudCgic2NyaXB0IiksZC5hc3luYz0iYXN5bmMiLGEuc2NyaXB0Q2hhcnNldCYmKGQuY2hhcnNldD1hLnNjcmlwdENoYXJzZXQpLGQuc3JjPWEudXJsLGQub25sb2FkPWQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGEsYyl7aWYoY3x8IWQucmVhZHlTdGF0ZXx8L2xvYWRlZHxjb21wbGV0ZS8udGVzdChkLnJlYWR5U3RhdGUpKWQub25sb2FkPWQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZSYmZC5wYXJlbnROb2RlJiZlLnJlbW92ZUNoaWxkKGQpLGQ9YixjfHxnKDIwMCwic3VjY2VzcyIpfSxlLmluc2VydEJlZm9yZShkLGUuZmlyc3RDaGlsZCl9LGFib3J0OmZ1bmN0aW9uKCl7ZCYmZC5vbmxvYWQoMCwxKX19fX0pO3ZhciBjYz1hLkFjdGl2ZVhPYmplY3Q/ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gY2UpY2VbYV0oMCwxKX06ITEsY2Q9MCxjZTtmLmFqYXhTZXR0aW5ncy54aHI9YS5BY3RpdmVYT2JqZWN0P2Z1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNMb2NhbCYmY2YoKXx8Y2coKX06Y2YsZnVuY3Rpb24oYSl7Zi5leHRlbmQoZi5zdXBwb3J0LHthamF4OiEhYSxjb3JzOiEhYSYmIndpdGhDcmVkZW50aWFscyJpbiBhfSl9KGYuYWpheFNldHRpbmdzLnhocigpKSxmLnN1cHBvcnQuYWpheCYmZi5hamF4VHJhbnNwb3J0KGZ1bmN0aW9uKGMpe2lmKCFjLmNyb3NzRG9tYWlufHxmLnN1cHBvcnQuY29ycyl7dmFyIGQ7cmV0dXJue3NlbmQ6ZnVuY3Rpb24oZSxnKXt2YXIgaD1jLnhocigpLGksajtjLnVzZXJuYW1lP2gub3BlbihjLnR5cGUsYy51cmwsYy5hc3luYyxjLnVzZXJuYW1lLGMucGFzc3dvcmQpOmgub3BlbihjLnR5cGUsYy51cmwsYy5hc3luYyk7aWYoYy54aHJGaWVsZHMpZm9yKGogaW4gYy54aHJGaWVsZHMpaFtqXT1jLnhockZpZWxkc1tqXTtjLm1pbWVUeXBlJiZoLm92ZXJyaWRlTWltZVR5cGUmJmgub3ZlcnJpZGVNaW1lVHlwZShjLm1pbWVUeXBlKSwhYy5jcm9zc0RvbWFpbiYmIWVbIlgtUmVxdWVzdGVkLVdpdGgiXSYmKGVbIlgtUmVxdWVzdGVkLVdpdGgiXT0iWE1MSHR0cFJlcXVlc3QiKTt0cnl7Zm9yKGogaW4gZSloLnNldFJlcXVlc3RIZWFkZXIoaixlW2pdKX1jYXRjaChrKXt9aC5zZW5kKGMuaGFzQ29udGVudCYmYy5kYXRhfHxudWxsKSxkPWZ1bmN0aW9uKGEsZSl7dmFyIGosayxsLG0sbjt0cnl7aWYoZCYmKGV8fGgucmVhZHlTdGF0ZT09PTQpKXtkPWIsaSYmKGgub25yZWFkeXN0YXRlY2hhbmdlPWYubm9vcCxjYyYmZGVsZXRlIGNlW2ldKTtpZihlKWgucmVhZHlTdGF0ZSE9PTQmJmguYWJvcnQoKTtlbHNle2o9aC5zdGF0dXMsbD1oLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLG09e30sbj1oLnJlc3BvbnNlWE1MLG4mJm4uZG9jdW1lbnRFbGVtZW50JiYobS54bWw9biksbS50ZXh0PWgucmVzcG9uc2VUZXh0O3RyeXtrPWguc3RhdHVzVGV4dH1jYXRjaChvKXtrPSIifSFqJiZjLmlzTG9jYWwmJiFjLmNyb3NzRG9tYWluP2o9bS50ZXh0PzIwMDo0MDQ6aj09PTEyMjMmJihqPTIwNCl9fX1jYXRjaChwKXtlfHxnKC0xLHApfW0mJmcoaixrLG0sbCl9LCFjLmFzeW5jfHxoLnJlYWR5U3RhdGU9PT00P2QoKTooaT0rK2NkLGNjJiYoY2V8fChjZT17fSxmKGEpLnVubG9hZChjYykpLGNlW2ldPWQpLGgub25yZWFkeXN0YXRlY2hhbmdlPWQpfSxhYm9ydDpmdW5jdGlvbigpe2QmJmQoMCwxKX19fX0pO3ZhciBjaD17fSxjaSxjaixjaz0vXig/OnRvZ2dsZXxzaG93fGhpZGUpJC8sY2w9L14oWytcLV09KT8oW1xkKy5cLV0rKShbYS16JV0qKSQvaSxjbSxjbj1bWyJoZWlnaHQiLCJtYXJnaW5Ub3AiLCJtYXJnaW5Cb3R0b20iLCJwYWRkaW5nVG9wIiwicGFkZGluZ0JvdHRvbSJdLFsid2lkdGgiLCJtYXJnaW5MZWZ0IiwibWFyZ2luUmlnaHQiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCJdLFsib3BhY2l0eSJdXSxjbyxjcD1hLndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8YS5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGEub1JlcXVlc3RBbmltYXRpb25GcmFtZTtmLmZuLmV4dGVuZCh7c2hvdzpmdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtpZihhfHxhPT09MClyZXR1cm4gdGhpcy5hbmltYXRlKGNzKCJzaG93IiwzKSxhLGIsYyk7Zm9yKHZhciBnPTAsaD10aGlzLmxlbmd0aDtnPGg7ZysrKWQ9dGhpc1tnXSxkLnN0eWxlJiYoZT1kLnN0eWxlLmRpc3BsYXksIWYuX2RhdGEoZCwib2xkZGlzcGxheSIpJiZlPT09Im5vbmUiJiYoZT1kLnN0eWxlLmRpc3BsYXk9IiIpLGU9PT0iIiYmZi5jc3MoZCwiZGlzcGxheSIpPT09Im5vbmUiJiZmLl9kYXRhKGQsIm9sZGRpc3BsYXkiLGN0KGQubm9kZU5hbWUpKSk7Zm9yKGc9MDtnPGg7ZysrKXtkPXRoaXNbZ107aWYoZC5zdHlsZSl7ZT1kLnN0eWxlLmRpc3BsYXk7aWYoZT09PSIifHxlPT09Im5vbmUiKWQuc3R5bGUuZGlzcGxheT1mLl9kYXRhKGQsIm9sZGRpc3BsYXkiKXx8IiJ9fXJldHVybiB0aGlzfSxoaWRlOmZ1bmN0aW9uKGEsYixjKXtpZihhfHxhPT09MClyZXR1cm4gdGhpcy5hbmltYXRlKGNzKCJoaWRlIiwzKSxhLGIsYyk7Zm9yKHZhciBkPTAsZT10aGlzLmxlbmd0aDtkPGU7ZCsrKWlmKHRoaXNbZF0uc3R5bGUpe3ZhciBnPWYuY3NzKHRoaXNbZF0sImRpc3BsYXkiKTtnIT09Im5vbmUiJiYhZi5fZGF0YSh0aGlzW2RdLCJvbGRkaXNwbGF5IikmJmYuX2RhdGEodGhpc1tkXSwib2xkZGlzcGxheSIsZyl9Zm9yKGQ9MDtkPGU7ZCsrKXRoaXNbZF0uc3R5bGUmJih0aGlzW2RdLnN0eWxlLmRpc3BsYXk9Im5vbmUiKTtyZXR1cm4gdGhpc30sX3RvZ2dsZTpmLmZuLnRvZ2dsZSx0b2dnbGU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXR5cGVvZiBhPT0iYm9vbGVhbiI7Zi5pc0Z1bmN0aW9uKGEpJiZmLmlzRnVuY3Rpb24oYik/dGhpcy5fdG9nZ2xlLmFwcGx5KHRoaXMsYXJndW1lbnRzKTphPT1udWxsfHxkP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWQ/YTpmKHRoaXMpLmlzKCI6aGlkZGVuIik7Zih0aGlzKVtiPyJzaG93IjoiaGlkZSJdKCl9KTp0aGlzLmFuaW1hdGUoY3MoInRvZ2dsZSIsMyksYSxiLGMpO3JldHVybiB0aGlzfSxmYWRlVG86ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuZmlsdGVyKCI6aGlkZGVuIikuY3NzKCJvcGFjaXR5IiwwKS5zaG93KCkuZW5kKCkuYW5pbWF0ZSh7b3BhY2l0eTpifSxhLGMsZCl9LGFuaW1hdGU6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9Zi5zcGVlZChiLGMsZCk7aWYoZi5pc0VtcHR5T2JqZWN0KGEpKXJldHVybiB0aGlzLmVhY2goZS5jb21wbGV0ZSxbITFdKTtyZXR1cm4gdGhpc1tlLnF1ZXVlPT09ITE/ImVhY2giOiJxdWV1ZSJdKGZ1bmN0aW9uKCl7ZS5xdWV1ZT09PSExJiZmLl9tYXJrKHRoaXMpO3ZhciBiPWYuZXh0ZW5kKHt9LGUpLGM9dGhpcy5ub2RlVHlwZT09PTEsZD1jJiZmKHRoaXMpLmlzKCI6aGlkZGVuIiksZyxoLGksaixrLGwsbSxuLG87Yi5hbmltYXRlZFByb3BlcnRpZXM9e307Zm9yKGkgaW4gYSl7Zz1mLmNhbWVsQ2FzZShpKSxpIT09ZyYmKGFbZ109YVtpXSxkZWxldGUgYVtpXSksaD1hW2ddO2lmKGg9PT0iaGlkZSImJmR8fGg9PT0ic2hvdyImJiFkKXJldHVybiBiLmNvbXBsZXRlLmNhbGwodGhpcyk7YyYmKGc9PT0iaGVpZ2h0Inx8Zz09PSJ3aWR0aCIpJiYoYi5vdmVyZmxvdz1bdGhpcy5zdHlsZS5vdmVyZmxvdyx0aGlzLnN0eWxlLm92ZXJmbG93WCx0aGlzLnN0eWxlLm92ZXJmbG93WV0sZi5jc3ModGhpcywiZGlzcGxheSIpPT09ImlubGluZSImJmYuY3NzKHRoaXMsImZsb2F0Iik9PT0ibm9uZSImJihmLnN1cHBvcnQuaW5saW5lQmxvY2tOZWVkc0xheW91dD8oaj1jdCh0aGlzLm5vZGVOYW1lKSxqPT09ImlubGluZSI/dGhpcy5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siOih0aGlzLnN0eWxlLmRpc3BsYXk9ImlubGluZSIsdGhpcy5zdHlsZS56b29tPTEpKTp0aGlzLnN0eWxlLmRpc3BsYXk9ImlubGluZS1ibG9jayIpKSxiLmFuaW1hdGVkUHJvcGVydGllc1tnXT1mLmlzQXJyYXkoaCk/aFsxXTpiLnNwZWNpYWxFYXNpbmcmJmIuc3BlY2lhbEVhc2luZ1tnXXx8Yi5lYXNpbmd8fCJzd2luZyJ9Yi5vdmVyZmxvdyE9bnVsbCYmKHRoaXMuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIpO2ZvcihpIGluIGEpaz1uZXcgZi5meCh0aGlzLGIsaSksaD1hW2ldLGNrLnRlc3QoaCk/a1toPT09InRvZ2dsZSI/ZD8ic2hvdyI6ImhpZGUiOmhdKCk6KGw9Y2wuZXhlYyhoKSxtPWsuY3VyKCksbD8obj1wYXJzZUZsb2F0KGxbMl0pLG89bFszXXx8KGYuY3NzTnVtYmVyW2ddPyIiOiJweCIpLG8hPT0icHgiJiYoZi5zdHlsZSh0aGlzLGksKG58fDEpK28pLG09KG58fDEpL2suY3VyKCkqbSxmLnN0eWxlKHRoaXMsaSxtK28pKSxsWzFdJiYobj0obFsxXT09PSItPSI/LTE6MSkqbittKSxrLmN1c3RvbShtLG4sbykpOmsuY3VzdG9tKG0saCwiIikpO3JldHVybiEwfSl9LHN0b3A6ZnVuY3Rpb24oYSxiKXthJiZ0aGlzLnF1ZXVlKFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYT1mLnRpbWVycyxjPWEubGVuZ3RoO2J8fGYuX3VubWFyayghMCx0aGlzKTt3aGlsZShjLS0pYVtjXS5lbGVtPT09dGhpcyYmKGImJmFbY10oITApLGEuc3BsaWNlKGMsMSkpfSksYnx8dGhpcy5kZXF1ZXVlKCk7cmV0dXJuIHRoaXN9fSksZi5lYWNoKHtzbGlkZURvd246Y3MoInNob3ciLDEpLHNsaWRlVXA6Y3MoImhpZGUiLDEpLHNsaWRlVG9nZ2xlOmNzKCJ0b2dnbGUiLDEpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24oYSxiKXtmLmZuW2FdPWZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gdGhpcy5hbmltYXRlKGIsYSxjLGQpfX0pLGYuZXh0ZW5kKHtzcGVlZDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSYmdHlwZW9mIGE9PSJvYmplY3QiP2YuZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8Zi5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFmLmlzRnVuY3Rpb24oYikmJmJ9O2QuZHVyYXRpb249Zi5meC5vZmY/MDp0eXBlb2YgZC5kdXJhdGlvbj09Im51bWJlciI/ZC5kdXJhdGlvbjpkLmR1cmF0aW9uIGluIGYuZnguc3BlZWRzP2YuZnguc3BlZWRzW2QuZHVyYXRpb25dOmYuZnguc3BlZWRzLl9kZWZhdWx0LGQub2xkPWQuY29tcGxldGUsZC5jb21wbGV0ZT1mdW5jdGlvbihhKXtkLnF1ZXVlIT09ITE/Zi5kZXF1ZXVlKHRoaXMpOmEhPT0hMSYmZi5fdW5tYXJrKHRoaXMpLGYuaXNGdW5jdGlvbihkLm9sZCkmJmQub2xkLmNhbGwodGhpcyl9O3JldHVybiBkfSxlYXNpbmc6e2xpbmVhcjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gYytkKmF9LHN3aW5nOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybigtTWF0aC5jb3MoYSpNYXRoLlBJKS8yKy41KSpkK2N9fSx0aW1lcnM6W10sZng6ZnVuY3Rpb24oYSxiLGMpe3RoaXMub3B0aW9ucz1iLHRoaXMuZWxlbT1hLHRoaXMucHJvcD1jLGIub3JpZz1iLm9yaWd8fHt9fX0pLGYuZngucHJvdG90eXBlPXt1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksKGYuZnguc3RlcFt0aGlzLnByb3BdfHxmLmZ4LnN0ZXAuX2RlZmF1bHQpKHRoaXMpfSxjdXI6ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1bdGhpcy5wcm9wXSE9bnVsbCYmKCF0aGlzLmVsZW0uc3R5bGV8fHRoaXMuZWxlbS5zdHlsZVt0aGlzLnByb3BdPT1udWxsKSlyZXR1cm4gdGhpcy5lbGVtW3RoaXMucHJvcF07dmFyIGEsYj1mLmNzcyh0aGlzLmVsZW0sdGhpcy5wcm9wKTtyZXR1cm4gaXNOYU4oYT1wYXJzZUZsb2F0KGIpKT8hYnx8Yj09PSJhdXRvIj8wOmI6YX0sY3VzdG9tOmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBoKGEpe3JldHVybiBkLnN0ZXAoYSl9dmFyIGQ9dGhpcyxlPWYuZngsZzt0aGlzLnN0YXJ0VGltZT1jb3x8Y3EoKSx0aGlzLnN0YXJ0PWEsdGhpcy5lbmQ9Yix0aGlzLnVuaXQ9Y3x8dGhpcy51bml0fHwoZi5jc3NOdW1iZXJbdGhpcy5wcm9wXT8iIjoicHgiKSx0aGlzLm5vdz10aGlzLnN0YXJ0LHRoaXMucG9zPXRoaXMuc3RhdGU9MCxoLmVsZW09dGhpcy5lbGVtLGgoKSYmZi50aW1lcnMucHVzaChoKSYmIWNtJiYoY3A/KGNtPTEsZz1mdW5jdGlvbigpe2NtJiYoY3AoZyksZS50aWNrKCkpfSxjcChnKSk6Y209c2V0SW50ZXJ2YWwoZS50aWNrLGUuaW50ZXJ2YWwpKX0sc2hvdzpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5vcmlnW3RoaXMucHJvcF09Zi5zdHlsZSh0aGlzLmVsZW0sdGhpcy5wcm9wKSx0aGlzLm9wdGlvbnMuc2hvdz0hMCx0aGlzLmN1c3RvbSh0aGlzLnByb3A9PT0id2lkdGgifHx0aGlzLnByb3A9PT0iaGVpZ2h0Ij8xOjAsdGhpcy5jdXIoKSksZih0aGlzLmVsZW0pLnNob3coKX0saGlkZTpmdW5jdGlvbigpe3RoaXMub3B0aW9ucy5vcmlnW3RoaXMucHJvcF09Zi5zdHlsZSh0aGlzLmVsZW0sdGhpcy5wcm9wKSx0aGlzLm9wdGlvbnMuaGlkZT0hMCx0aGlzLmN1c3RvbSh0aGlzLmN1cigpLDApfSxzdGVwOmZ1bmN0aW9uKGEpe3ZhciBiPWNvfHxjcSgpLGM9ITAsZD10aGlzLmVsZW0sZT10aGlzLm9wdGlvbnMsZyxoO2lmKGF8fGI+PWUuZHVyYXRpb24rdGhpcy5zdGFydFRpbWUpe3RoaXMubm93PXRoaXMuZW5kLHRoaXMucG9zPXRoaXMuc3RhdGU9MSx0aGlzLnVwZGF0ZSgpLGUuYW5pbWF0ZWRQcm9wZXJ0aWVzW3RoaXMucHJvcF09ITA7Zm9yKGcgaW4gZS5hbmltYXRlZFByb3BlcnRpZXMpZS5hbmltYXRlZFByb3BlcnRpZXNbZ10hPT0hMCYmKGM9ITEpO2lmKGMpe2Uub3ZlcmZsb3chPW51bGwmJiFmLnN1cHBvcnQuc2hyaW5rV3JhcEJsb2NrcyYmZi5lYWNoKFsiIiwiWCIsIlkiXSxmdW5jdGlvbihhLGIpe2Quc3R5bGVbIm92ZXJmbG93IitiXT1lLm92ZXJmbG93W2FdfSksZS5oaWRlJiZmKGQpLmhpZGUoKTtpZihlLmhpZGV8fGUuc2hvdylmb3IodmFyIGkgaW4gZS5hbmltYXRlZFByb3BlcnRpZXMpZi5zdHlsZShkLGksZS5vcmlnW2ldKTtlLmNvbXBsZXRlLmNhbGwoZCl9cmV0dXJuITF9ZS5kdXJhdGlvbj09SW5maW5pdHk/dGhpcy5ub3c9YjooaD1iLXRoaXMuc3RhcnRUaW1lLHRoaXMuc3RhdGU9aC9lLmR1cmF0aW9uLHRoaXMucG9zPWYuZWFzaW5nW2UuYW5pbWF0ZWRQcm9wZXJ0aWVzW3RoaXMucHJvcF1dKHRoaXMuc3RhdGUsaCwwLDEsZS5kdXJhdGlvbiksdGhpcy5ub3c9dGhpcy5zdGFydCsodGhpcy5lbmQtdGhpcy5zdGFydCkqdGhpcy5wb3MpLHRoaXMudXBkYXRlKCk7cmV0dXJuITB9fSxmLmV4dGVuZChmLmZ4LHt0aWNrOmZ1bmN0aW9uKCl7dmFyIGE9Zi50aW1lcnMsYj1hLmxlbmd0aDt3aGlsZShiLS0pYVtiXSgpfHxhLnNwbGljZShiLDEpO2EubGVuZ3RofHxmLmZ4LnN0b3AoKX0saW50ZXJ2YWw6MTMsc3RvcDpmdW5jdGlvbigpe2NsZWFySW50ZXJ2YWwoY20pLGNtPW51bGx9LHNwZWVkczp7c2xvdzo2MDAsZmFzdDoyMDAsX2RlZmF1bHQ6NDAwfSxzdGVwOntvcGFjaXR5OmZ1bmN0aW9uKGEpe2Yuc3R5bGUoYS5lbGVtLCJvcGFjaXR5IixhLm5vdyl9LF9kZWZhdWx0OmZ1bmN0aW9uKGEpe2EuZWxlbS5zdHlsZSYmYS5lbGVtLnN0eWxlW2EucHJvcF0hPW51bGw/YS5lbGVtLnN0eWxlW2EucHJvcF09KGEucHJvcD09PSJ3aWR0aCJ8fGEucHJvcD09PSJoZWlnaHQiP01hdGgubWF4KDAsYS5ub3cpOmEubm93KSthLnVuaXQ6YS5lbGVtW2EucHJvcF09YS5ub3d9fX0pLGYuZXhwciYmZi5leHByLmZpbHRlcnMmJihmLmV4cHIuZmlsdGVycy5hbmltYXRlZD1mdW5jdGlvbihhKXtyZXR1cm4gZi5ncmVwKGYudGltZXJzLGZ1bmN0aW9uKGIpe3JldHVybiBhPT09Yi5lbGVtfSkubGVuZ3RofSk7dmFyIGN1PS9edCg/OmFibGV8ZHxoKSQvaSxjdj0vXig/OmJvZHl8aHRtbCkkL2k7ImdldEJvdW5kaW5nQ2xpZW50UmVjdCJpbiBjLmRvY3VtZW50RWxlbWVudD9mLmZuLm9mZnNldD1mdW5jdGlvbihhKXt2YXIgYj10aGlzWzBdLGM7aWYoYSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2Yub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTtpZighYnx8IWIub3duZXJEb2N1bWVudClyZXR1cm4gbnVsbDtpZihiPT09Yi5vd25lckRvY3VtZW50LmJvZHkpcmV0dXJuIGYub2Zmc2V0LmJvZHlPZmZzZXQoYik7dHJ5e2M9Yi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKX1jYXRjaChkKXt9dmFyIGU9Yi5vd25lckRvY3VtZW50LGc9ZS5kb2N1bWVudEVsZW1lbnQ7aWYoIWN8fCFmLmNvbnRhaW5zKGcsYikpcmV0dXJuIGM/e3RvcDpjLnRvcCxsZWZ0OmMubGVmdH06e3RvcDowLGxlZnQ6MH07dmFyIGg9ZS5ib2R5LGk9Y3coZSksaj1nLmNsaWVudFRvcHx8aC5jbGllbnRUb3B8fDAsaz1nLmNsaWVudExlZnR8fGguY2xpZW50TGVmdHx8MCxsPWkucGFnZVlPZmZzZXR8fGYuc3VwcG9ydC5ib3hNb2RlbCYmZy5zY3JvbGxUb3B8fGguc2Nyb2xsVG9wLG09aS5wYWdlWE9mZnNldHx8Zi5zdXBwb3J0LmJveE1vZGVsJiZnLnNjcm9sbExlZnR8fGguc2Nyb2xsTGVmdCxuPWMudG9wK2wtaixvPWMubGVmdCttLWs7cmV0dXJue3RvcDpuLGxlZnQ6b319OmYuZm4ub2Zmc2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF07aWYoYSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe2Yub2Zmc2V0LnNldE9mZnNldCh0aGlzLGEsYil9KTtpZighYnx8IWIub3duZXJEb2N1bWVudClyZXR1cm4gbnVsbDtpZihiPT09Yi5vd25lckRvY3VtZW50LmJvZHkpcmV0dXJuIGYub2Zmc2V0LmJvZHlPZmZzZXQoYik7Zi5vZmZzZXQuaW5pdGlhbGl6ZSgpO3ZhciBjLGQ9Yi5vZmZzZXRQYXJlbnQsZT1iLGc9Yi5vd25lckRvY3VtZW50LGg9Zy5kb2N1bWVudEVsZW1lbnQsaT1nLmJvZHksaj1nLmRlZmF1bHRWaWV3LGs9aj9qLmdldENvbXB1dGVkU3R5bGUoYixudWxsKTpiLmN1cnJlbnRTdHlsZSxsPWIub2Zmc2V0VG9wLG09Yi5vZmZzZXRMZWZ0O3doaWxlKChiPWIucGFyZW50Tm9kZSkmJmIhPT1pJiZiIT09aCl7aWYoZi5vZmZzZXQuc3VwcG9ydHNGaXhlZFBvc2l0aW9uJiZrLnBvc2l0aW9uPT09ImZpeGVkIilicmVhaztjPWo/ai5nZXRDb21wdXRlZFN0eWxlKGIsbnVsbCk6Yi5jdXJyZW50U3R5bGUsbC09Yi5zY3JvbGxUb3AsbS09Yi5zY3JvbGxMZWZ0LGI9PT1kJiYobCs9Yi5vZmZzZXRUb3AsbSs9Yi5vZmZzZXRMZWZ0LGYub2Zmc2V0LmRvZXNOb3RBZGRCb3JkZXImJighZi5vZmZzZXQuZG9lc0FkZEJvcmRlckZvclRhYmxlQW5kQ2VsbHN8fCFjdS50ZXN0KGIubm9kZU5hbWUpKSYmKGwrPXBhcnNlRmxvYXQoYy5ib3JkZXJUb3BXaWR0aCl8fDAsbSs9cGFyc2VGbG9hdChjLmJvcmRlckxlZnRXaWR0aCl8fDApLGU9ZCxkPWIub2Zmc2V0UGFyZW50KSxmLm9mZnNldC5zdWJ0cmFjdHNCb3JkZXJGb3JPdmVyZmxvd05vdFZpc2libGUmJmMub3ZlcmZsb3chPT0idmlzaWJsZSImJihsKz1wYXJzZUZsb2F0KGMuYm9yZGVyVG9wV2lkdGgpfHwwLG0rPXBhcnNlRmxvYXQoYy5ib3JkZXJMZWZ0V2lkdGgpfHwwKSxrPWN9aWYoay5wb3NpdGlvbj09PSJyZWxhdGl2ZSJ8fGsucG9zaXRpb249PT0ic3RhdGljIilsKz1pLm9mZnNldFRvcCxtKz1pLm9mZnNldExlZnQ7Zi5vZmZzZXQuc3VwcG9ydHNGaXhlZFBvc2l0aW9uJiZrLnBvc2l0aW9uPT09ImZpeGVkIiYmKGwrPU1hdGgubWF4KGguc2Nyb2xsVG9wLGkuc2Nyb2xsVG9wKSxtKz1NYXRoLm1heChoLnNjcm9sbExlZnQsaS5zY3JvbGxMZWZ0KSk7cmV0dXJue3RvcDpsLGxlZnQ6bX19LGYub2Zmc2V0PXtpbml0aWFsaXplOmZ1bmN0aW9uKCl7dmFyIGE9Yy5ib2R5LGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxkLGUsZyxoLGk9cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5Ub3AiKSl8fDAsaj0iPGRpdiBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO21hcmdpbjowO2JvcmRlcjo1cHggc29saWQgIzAwMDtwYWRkaW5nOjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7Jz48ZGl2PjwvZGl2PjwvZGl2Pjx0YWJsZSBzdHlsZT0ncG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO21hcmdpbjowO2JvcmRlcjo1cHggc29saWQgIzAwMDtwYWRkaW5nOjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7JyBjZWxscGFkZGluZz0nMCcgY2VsbHNwYWNpbmc9JzAnPjx0cj48dGQ+PC90ZD48L3RyPjwvdGFibGU+IjtmLmV4dGVuZChiLnN0eWxlLHtwb3NpdGlvbjoiYWJzb2x1dGUiLHRvcDowLGxlZnQ6MCxtYXJnaW46MCxib3JkZXI6MCx3aWR0aDoiMXB4IixoZWlnaHQ6IjFweCIsdmlzaWJpbGl0eToiaGlkZGVuIn0pLGIuaW5uZXJIVE1MPWosYS5pbnNlcnRCZWZvcmUoYixhLmZpcnN0Q2hpbGQpLGQ9Yi5maXJzdENoaWxkLGU9ZC5maXJzdENoaWxkLGg9ZC5uZXh0U2libGluZy5maXJzdENoaWxkLmZpcnN0Q2hpbGQsdGhpcy5kb2VzTm90QWRkQm9yZGVyPWUub2Zmc2V0VG9wIT09NSx0aGlzLmRvZXNBZGRCb3JkZXJGb3JUYWJsZUFuZENlbGxzPWgub2Zmc2V0VG9wPT09NSxlLnN0eWxlLnBvc2l0aW9uPSJmaXhlZCIsZS5zdHlsZS50b3A9IjIwcHgiLHRoaXMuc3VwcG9ydHNGaXhlZFBvc2l0aW9uPWUub2Zmc2V0VG9wPT09MjB8fGUub2Zmc2V0VG9wPT09MTUsZS5zdHlsZS5wb3NpdGlvbj1lLnN0eWxlLnRvcD0iIixkLnN0eWxlLm92ZXJmbG93PSJoaWRkZW4iLGQuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIix0aGlzLnN1YnRyYWN0c0JvcmRlckZvck92ZXJmbG93Tm90VmlzaWJsZT1lLm9mZnNldFRvcD09PS01LHRoaXMuZG9lc05vdEluY2x1ZGVNYXJnaW5JbkJvZHlPZmZzZXQ9YS5vZmZzZXRUb3AhPT1pLGEucmVtb3ZlQ2hpbGQoYiksZi5vZmZzZXQuaW5pdGlhbGl6ZT1mLm5vb3B9LGJvZHlPZmZzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5vZmZzZXRUb3AsYz1hLm9mZnNldExlZnQ7Zi5vZmZzZXQuaW5pdGlhbGl6ZSgpLGYub2Zmc2V0LmRvZXNOb3RJbmNsdWRlTWFyZ2luSW5Cb2R5T2Zmc2V0JiYoYis9cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5Ub3AiKSl8fDAsYys9cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5MZWZ0IikpfHwwKTtyZXR1cm57dG9wOmIsbGVmdDpjfX0sc2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1mLmNzcyhhLCJwb3NpdGlvbiIpO2Q9PT0ic3RhdGljIiYmKGEuc3R5bGUucG9zaXRpb249InJlbGF0aXZlIik7dmFyIGU9ZihhKSxnPWUub2Zmc2V0KCksaD1mLmNzcyhhLCJ0b3AiKSxpPWYuY3NzKGEsImxlZnQiKSxqPShkPT09ImFic29sdXRlInx8ZD09PSJmaXhlZCIpJiZmLmluQXJyYXkoImF1dG8iLFtoLGldKT4tMSxrPXt9LGw9e30sbSxuO2o/KGw9ZS5wb3NpdGlvbigpLG09bC50b3Asbj1sLmxlZnQpOihtPXBhcnNlRmxvYXQoaCl8fDAsbj1wYXJzZUZsb2F0KGkpfHwwKSxmLmlzRnVuY3Rpb24oYikmJihiPWIuY2FsbChhLGMsZykpLGIudG9wIT1udWxsJiYoay50b3A9Yi50b3AtZy50b3ArbSksYi5sZWZ0IT1udWxsJiYoay5sZWZ0PWIubGVmdC1nLmxlZnQrbiksInVzaW5nImluIGI/Yi51c2luZy5jYWxsKGEsayk6ZS5jc3Moayl9fSxmLmZuLmV4dGVuZCh7cG9zaXRpb246ZnVuY3Rpb24oKXtpZighdGhpc1swXSlyZXR1cm4gbnVsbDt2YXIgYT10aGlzWzBdLGI9dGhpcy5vZmZzZXRQYXJlbnQoKSxjPXRoaXMub2Zmc2V0KCksZD1jdi50ZXN0KGJbMF0ubm9kZU5hbWUpP3t0b3A6MCxsZWZ0OjB9OmIub2Zmc2V0KCk7Yy50b3AtPXBhcnNlRmxvYXQoZi5jc3MoYSwibWFyZ2luVG9wIikpfHwwLGMubGVmdC09cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5MZWZ0IikpfHwwLGQudG9wKz1wYXJzZUZsb2F0KGYuY3NzKGJbMF0sImJvcmRlclRvcFdpZHRoIikpfHwwLGQubGVmdCs9cGFyc2VGbG9hdChmLmNzcyhiWzBdLCJib3JkZXJMZWZ0V2lkdGgiKSl8fDA7cmV0dXJue3RvcDpjLnRvcC1kLnRvcCxsZWZ0OmMubGVmdC1kLmxlZnR9fSxvZmZzZXRQYXJlbnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oKXt2YXIgYT10aGlzLm9mZnNldFBhcmVudHx8Yy5ib2R5O3doaWxlKGEmJiFjdi50ZXN0KGEubm9kZU5hbWUpJiZmLmNzcyhhLCJwb3NpdGlvbiIpPT09InN0YXRpYyIpYT1hLm9mZnNldFBhcmVudDtyZXR1cm4gYX0pfX0pLGYuZWFjaChbIkxlZnQiLCJUb3AiXSxmdW5jdGlvbihhLGMpe3ZhciBkPSJzY3JvbGwiK2M7Zi5mbltkXT1mdW5jdGlvbihjKXt2YXIgZSxnO2lmKGM9PT1iKXtlPXRoaXNbMF07aWYoIWUpcmV0dXJuIG51bGw7Zz1jdyhlKTtyZXR1cm4gZz8icGFnZVhPZmZzZXQiaW4gZz9nW2E/InBhZ2VZT2Zmc2V0IjoicGFnZVhPZmZzZXQiXTpmLnN1cHBvcnQuYm94TW9kZWwmJmcuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50W2RdfHxnLmRvY3VtZW50LmJvZHlbZF06ZVtkXX1yZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zz1jdyh0aGlzKSxnP2cuc2Nyb2xsVG8oYT9mKGcpLnNjcm9sbExlZnQoKTpjLGE/YzpmKGcpLnNjcm9sbFRvcCgpKTp0aGlzW2RdPWN9KX19KSxmLmVhY2goWyJIZWlnaHQiLCJXaWR0aCJdLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9Yy50b0xvd2VyQ2FzZSgpO2YuZm5bImlubmVyIitjXT1mdW5jdGlvbigpe3JldHVybiB0aGlzWzBdP3BhcnNlRmxvYXQoZi5jc3ModGhpc1swXSxkLCJwYWRkaW5nIikpOm51bGx9LGYuZm5bIm91dGVyIitjXT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpc1swXT9wYXJzZUZsb2F0KGYuY3NzKHRoaXNbMF0sZCxhPyJtYXJnaW4iOiJib3JkZXIiKSk6bnVsbH0sZi5mbltkXT1mdW5jdGlvbihhKXt2YXIgZT10aGlzWzBdO2lmKCFlKXJldHVybiBhPT1udWxsP251bGw6dGhpcztpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1mKHRoaXMpO2NbZF0oYS5jYWxsKHRoaXMsYixjW2RdKCkpKX0pO2lmKGYuaXNXaW5kb3coZSkpe3ZhciBnPWUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2NdO3JldHVybiBlLmRvY3VtZW50LmNvbXBhdE1vZGU9PT0iQ1NTMUNvbXBhdCImJmd8fGUuZG9jdW1lbnQuYm9keVsiY2xpZW50IitjXXx8Z31pZihlLm5vZGVUeXBlPT09OSlyZXR1cm4gTWF0aC5tYXgoZS5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrY10sZS5ib2R5WyJzY3JvbGwiK2NdLGUuZG9jdW1lbnRFbGVtZW50WyJzY3JvbGwiK2NdLGUuYm9keVsib2Zmc2V0IitjXSxlLmRvY3VtZW50RWxlbWVudFsib2Zmc2V0IitjXSk7aWYoYT09PWIpe3ZhciBoPWYuY3NzKGUsZCksaT1wYXJzZUZsb2F0KGgpO3JldHVybiBmLmlzTmFOKGkpP2g6aX1yZXR1cm4gdGhpcy5jc3MoZCx0eXBlb2YgYT09InN0cmluZyI/YTphKyJweCIpfX0pLGEualF1ZXJ5PWEuJD1mfSkod2luZG93KTs="},"js/mobile.futon.js":{"content_type":"application/javascript","revpos":1,"digest":"md5-bXHl5WeuSfeylQthwapkKA==","data":"CgovLyBodHRwOi8vcGF1bGlyaXNoLmNvbS8yMDA5L2xvZy1hLWxpZ2h0d2VpZ2h0LXdyYXBwZXItZm9yLWNvbnNvbGVsb2cvCndpbmRvdy5sb2cgPSBmdW5jdGlvbigpewogIGxvZy5oaXN0b3J5ID0gbG9nLmhpc3RvcnkgfHwgW107CiAgbG9nLmhpc3RvcnkucHVzaChhcmd1bWVudHMpOwogIGlmKHRoaXMuY29uc29sZSl7CiAgICBjb25zb2xlLmxvZyggQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSApOwogIH0KfTsKCgokLmFqYXhTZXR1cCh7CiAgY2FjaGU6IGZhbHNlCn0pOwoKCmZ1bmN0aW9uIG1ha2VMaW5rc0Zhc3QoJGRvbSkgewogICQoImEiLCAkZG9tKS5lYWNoKGZ1bmN0aW9uKCkgewogICAgdmFyIGxpbmsgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTsKICAgIGlmIChsaW5rKSB7CiAgICAgIG5ldyBnb29nbGUudWkuRmFzdEJ1dHRvbih0aGlzLCBmdW5jdGlvbihlKSB7CiAgICAgICAgZG9jdW1lbnQubG9jYXRpb24gPSBsaW5rOwogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9KTsKICAgIH0KICB9KTsKfQoKLy8ganF1ZXJ5LmNvdWNoLmpzIG5lZWRzIHNvbWUgY2FsbGJhY2tzIG51bGxpZmllZCB0byBwcmV2ZW50IGRlZmF1bHRzCnZhciBuaWwgPSBmdW5jdGlvbigpIHt9OwoKCi8vIEJhc2ljIHdyYXBwZXIgZm9yIGxvY2FsU3RvcmFnZQp2YXIgbG9jYWxEYXRhID0gKGZ1bmN0aW9uKCl7CiAgaWYgKCFsb2NhbFN0b3JhZ2UpIHsKICAgIHJldHVybiBmYWxzZTsKICB9CiAgcmV0dXJuIHsKICAgIHNldDpmdW5jdGlvbihwcm9wLCB2YWwpIHsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0ocHJvcCwgSlNPTi5zdHJpbmdpZnkodmFsKSk7CiAgICB9LAogICAgZ2V0OmZ1bmN0aW9uKHByb3AsIGRlZikgewogICAgICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShwcm9wKSB8fCAnZmFsc2UnKSB8fCBkZWY7CiAgICB9LAogICAgcmVtb3ZlOmZ1bmN0aW9uKHByb3ApIHsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0ocHJvcCk7CiAgICB9CiAgfTsKfSkoKTsKCgovLyBodHRwOi8veWVodWRha2F0ei5jb20vMjAwOS8wNC8yMC9ldmVudGVkLXByb2dyYW1taW5nLXdpdGgtanF1ZXJ5LwpmdW5jdGlvbiAkJChub2RlKSB7CiAgdmFyIGRhdGEgPSAkKG5vZGUpLmRhdGEoIiQkIik7CiAgaWYgKGRhdGEpIHsKICAgIHJldHVybiBkYXRhOwogIH0gZWxzZSB7CiAgICBkYXRhID0ge307CiAgICAkKG5vZGUpLmRhdGEoIiQkIiwgZGF0YSk7CiAgICByZXR1cm4gZGF0YTsKICB9Cn07CgoKdmFyIE1vYmlsZUZ1dG9uID0gKGZ1bmN0aW9uICgpIHsKCiAgdmFyIG1haW5EYiA9IGxvY2F0aW9uLnBhdGhuYW1lLnNwbGl0KCIvIilbMV07CiAgdmFyIGludGVydmFsID0gbnVsbDsKICB2YXIgcm91dGVyID0gUm91dGVyKCk7CiAgdmFyIHJlbmRlcmVyID0gUmVuZGVyZXIoKTsKICB2YXIgZG9jcyA9IHt9OwogIHZhciByZXBsaWNhdGlvbnMgPSBsb2NhbERhdGEuZ2V0KCdyZXBsaWNhdGlvbnMnLCBbXSk7CiAgdmFyIGNsZWFyUmVmcmVzaCA9IGZ1bmN0aW9uKCkgeyBjbGVhckludGVydmFsKGludGVydmFsKTsgfTsKICB2YXIgdmVyc2lvbjsKCiAgcm91dGVyLmdldCgvXiMoXC8pPyQvLCBmdW5jdGlvbiAocnRyKSB7CiAgICBzZXRUaXRsZSgnTW9iaWxlIEZ1dG9uJyk7CiAgICB2YXIgdHBsZGF0YSA9ewogICAgICBpcDogcm91dGVyLnBhcmFtcy5pcCB8fCBsb2NhdGlvbi5ob3N0bmFtZSwKICAgICAgcG9ydDogbG9jYXRpb24ucG9ydCB8fCA4MCwKICAgICAgdmVyc2lvbjogdmVyc2lvbi52ZXJzaW9uLAogICAgICBhZG1pbnBhcnR5OiBpc0FkbWluUGFydHkoKQogICAgfTsKICAgIHJlbmRlcmVyLnJlbmRlcignaG9tZV90cGwnLCB0cGxkYXRhLCBydHIpOwogIH0pOwoKCiAgcm91dGVyLmdldCgnIy9jb3VjaGFwcHMvJywgZnVuY3Rpb24ocnRyKSB7CgogICAgc2V0VGl0bGUoJ0NvdWNoYXBwcycpOwoKICAgIHZhciBjb21wbGV0ZWQgPSAwCiAgICAgICwgY291Y2hhcHBzID0gW107CgogICAgZnVuY3Rpb24gZGVzaWduRG9jcyhkYXRhYmFzZSkgewogICAgICByZXR1cm4gJC5jb3VjaC5kYihkYXRhYmFzZSkuYWxsRGVzaWduRG9jcygpOwogICAgfQoKICAgIGZ1bmN0aW9uIGlzQ291Y2hBcHAoZGRvYywgbWF4KSB7CgogICAgICB2YXIgdXJsID0gJy8nICsgZGRvYy5kYXRhYmFzZSArICcvJyArIGRkb2MuZGRvYyArICcvaW5kZXguaHRtbCc7CgogICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbih4aHIpIHsKICAgICAgICBjb21wbGV0ZWQrKzsKICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICBjb3VjaGFwcHMucHVzaCh7dXJsOnVybCwgbmFtZTpkZG9jLmRhdGFiYXNlICsgIi8iICsgZGRvYy5kZG9jLnNwbGl0KCcvJylbMV19KTsKICAgICAgICB9CiAgICAgICAgaWYgKGNvbXBsZXRlZCA9PT0gbWF4KSB7CiAgICAgICAgICByZW5kZXJlci5yZW5kZXIoJ2NvdWNoYXBwc190cGwnLCB7Y291Y2hhcHBzOmNvdWNoYXBwc30sIHJ0cik7CiAgICAgICAgfQogICAgICB9CgogICAgICAkLmFqYXgoe3R5cGU6J0hFQUQnLCB1cmw6dXJsLCBjb21wbGV0ZTogY29tcGxldGV9KTsKICAgIH0KCiAgICAkLmNvdWNoLmFsbERicyh7CiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAkLndoZW4uYXBwbHkodGhpcywgJC5tYXAoZGF0YSwgZGVzaWduRG9jcykpLnRoZW4oZnVuY3Rpb24oKSB7CiAgICAgICAgICB2YXIgZGVzaWduRG9jcyA9IFtdOwogICAgICAgICAgJC5lYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24oaWQsIGRkb2NzKSB7CiAgICAgICAgICAgICQuZWFjaChkZG9jc1swXS5yb3dzLCBmdW5jdGlvbihkZG9jaWQsIGRkb2MpIHsKICAgICAgICAgICAgICBkZXNpZ25Eb2NzLnB1c2goe2RhdGFiYXNlOmRhdGFbaWRdLCBkZG9jOmRkb2MuaWR9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICAgICQubWFwKGRlc2lnbkRvY3MsIGZ1bmN0aW9uKGRkb2MpIHsKICAgICAgICAgICAgaXNDb3VjaEFwcChkZG9jLCBkZXNpZ25Eb2NzLmxlbmd0aCk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfSk7CgoKICByb3V0ZXIuZ2V0KCcjL2RiLzpkYXRhYmFzZS8nLCBmdW5jdGlvbiAocnRyLCBkYXRhYmFzZSkgewoKICAgIHZhciBkYm5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQoZGF0YWJhc2UpOwogICAgdmFyIHZpZXdzID0gW107CiAgICB2YXIgJGRiID0gJC5jb3VjaC5kYihkYm5hbWUpOwogICAgdmFyIGFsbERvY3MgPSAkZGIuYWxsRGVzaWduRG9jcyh7aW5jbHVkZV9kb2NzOnRydWV9KTsKCiAgICBzZXRUaXRsZShkYm5hbWUpOwoKICAgICQud2hlbi5hcHBseSh0aGlzLCBbJGRiLmluZm8oKSwgYWxsRG9jc10pLnRoZW4oZnVuY3Rpb24oaW5mbywgZGRvY3MpIHsKICAgICAgZGRvY3MgPSBkZG9jc1swXTsKICAgICAgaW5mbyA9IGluZm9bMF07CiAgICAgICQuZWFjaChkZG9jcy5yb3dzLCBmdW5jdGlvbihkZG9jKSB7CiAgICAgICAgaWQgPSBkZG9jcy5yb3dzW2Rkb2NdLmRvYy5faWQ7CiAgICAgICAgJC5lYWNoKGRkb2NzLnJvd3NbZGRvY10uZG9jLnZpZXdzIHx8IFtdLCBmdW5jdGlvbih2KSB7CiAgICAgICAgICB2aWV3cy5wdXNoKHtpZDppZCwgZGRvYzppZC5yZXBsYWNlKCdfZGVzaWduLycsICcnKSwgbmFtZTp2fSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwoKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgdmlld3M6IHZpZXdzLAogICAgICAgIGRiOiBkYXRhYmFzZSwKICAgICAgICBkb2NfY291bnQ6IGluZm8uZG9jX2NvdW50LAogICAgICAgIHVwZGF0ZV9zZXE6IGluZm8udXBkYXRlX3NlcSwKICAgICAgICBkaXNrX3NpemU6IFV0aWxzLmZvcm1hdFNpemUoaW5mby5kaXNrX3NpemUpCiAgICAgIH07CgogICAgICByZW5kZXJlci5yZW5kZXIoJ2RhdGFiYXNlX3RwbCcsIGRhdGEsIHJ0cik7CiAgICB9KTsKICB9KTsKCgogIHJvdXRlci5nZXQoJyMvZGIvOmRhdGFiYXNlL19jcmVhdGVfZG9jLycsIGZ1bmN0aW9uIChydHIsIGRiKSB7CiAgICByZW5kZXJlci5yZW5kZXIoJ2NyZWF0ZV9kb2NfdHBsJywge2RiOmRifSwgcnRyKTsKICB9KTsKCgogIHJvdXRlci5nZXQoJyMvZGIvOmRhdGFiYXNlL19kZWxldGUvJywgZnVuY3Rpb24gKHJ0ciwgZGIpIHsKICAgIHZhciBkYXRhID0geyBhY3Rpb246ICIjZGVsZXRlX2RhdGFiYXNlIgogICAgICAgICAgICAgICAsIGNhbmNlbDogIiMvZGIvIiArIGRiICsgIi8iCiAgICAgICAgICAgICAgICwgbm90aWNlOiAiZGVsZXRlIHRoZSBkYXRhYmFzZSAiICsgZGIKICAgICAgICAgICAgICAgLCBhY3Rpb25fYnRuOiAiRGVsZXRlIgogICAgICAgICAgICAgICAsIGZvcm06IFt7a2V5OiJkYiIsIHZhbHVlOmRifV0gfTsKICAgIHJlbmRlcmVyLnJlbmRlcignY29uZmlybV90cGwnLCBkYXRhLCBydHIpOwogIH0pOwoKCiAgcm91dGVyLmdldCgnIy9kYi86ZGIvdmlld3MvKnZpZXcnLCBmdW5jdGlvbiAocnRyLCBkYiwgdmlldykgewoKICAgIHZhciBkYm5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQoZGIpCiAgICAgICwgdmlld25hbWUgPSB2aWV3LnJlcGxhY2UoJy0nLCAnLycpCiAgICAgICwgaWQgPSBudWxsCiAgICAgICwgb3B0cyA9IHtsaW1pdDogKHZpZXcgPT09ICJfZGVzaWduX2RvY3MiID8gOTkgOiAxMSl9CiAgICAgICwgcGFnaW5hdGUgPSAodmlldyAhPT0gIl9kZXNpZ25fZG9jcyIpOwoKICAgIGlmIChyb3V0ZXIuaGFzaHBhcmFtKCJzdGFydGtleSIpKSB7CiAgICAgIG9wdHMuc3RhcnRrZXkgPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChyb3V0ZXIuaGFzaHBhcmFtKCJzdGFydGtleSIpKSk7CiAgICB9CiAgICBpZiAocm91dGVyLmhhc2hwYXJhbSgiZGVzY2VuZGluZyIpKSB7CiAgICAgIG9wdHMuZGVzY2VuZGluZyA9IHRydWU7CiAgICB9CgogICAgc2V0VGl0bGUodmlld25hbWUpOwoKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKGRhdGEpIHsKCiAgICAgIHZhciByb3dzID0gJC5tYXAoZGF0YS5yb3dzLCBmdW5jdGlvbihvYmopIHsKICAgICAgICBvYmoubmFtZSA9IGVuY29kZVVSSUNvbXBvbmVudChvYmouaWQpOwogICAgICAgIG9iai5kaXNwbGF5ID0gSlNPTi5zdHJpbmdpZnkob2JqLmtleSwgbnVsbCwgJyAnKSArCiAgICAgICAgICAiIDxzcGFuIGNsYXNzPSdqc29udmFsJz4iICsgSlNPTi5zdHJpbmdpZnkob2JqLnZhbHVlKSArICI8L3NwYW4+IjsKICAgICAgICByZXR1cm4gb2JqOwogICAgICB9KTsKCiAgICAgIHZhciBiYWNra2V5ID0gZGF0YS5yb3dzWzBdOwoKICAgICAgaWYgKHJvdXRlci5oYXNocGFyYW0oImRlc2NlbmRpbmciKSkgewogICAgICAgIHJvd3MucmV2ZXJzZSgpOwogICAgICAgIGRhdGEub2Zmc2V0ID0gZGF0YS50b3RhbF9yb3dzIC0gKGRhdGEub2Zmc2V0ICsgb3B0cy5saW1pdCk7CiAgICAgICAgYmFja2tleSA9IGRhdGEucm93c1tkYXRhLnJvd3MubGVuZ3RoLTFdOwogICAgICB9CgogICAgICBkYXRhLm9mZnNldCA9IGRhdGEub2Zmc2V0IHx8IDA7CiAgICAgIGRhdGEudG90YWxfcm93cyA9IGRhdGEudG90YWxfcm93cyB8fCAwOwoKICAgICAgdmFyIGVuZCA9ICgoZGF0YS5vZmZzZXQgKyBvcHRzLmxpbWl0IC0gMSkgPiBkYXRhLnRvdGFsX3Jvd3MpCiAgICAgICAgLCBtYXggPSBlbmQgPyBkYXRhLnRvdGFsX3Jvd3MgOiBkYXRhLm9mZnNldCArIG9wdHMubGltaXQgLSAxCiAgICAgICAgLCB0bXAgPSAoZW5kID8gZGF0YS5yb3dzW2RhdGEucm93cy5sZW5ndGgtMV0gOiByb3dzLnBvcCgpKQogICAgICAgICwgc3RhcnRrZXkgPSB0bXAgJiYgSlNPTi5zdHJpbmdpZnkodG1wLmtleSk7CgogICAgICByZW5kZXJlci5yZW5kZXIoJ2RhdGFiYXNlX3ZpZXdfdHBsJywgeyBkYjogZGJuYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGhhc05leHQ6ICFlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgaGFzQmFjazogZGF0YS5vZmZzZXQgPiAxICYmIHBhZ2luYXRlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHZpZXc6IHZpZXcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgc3RhcnQ6IGRhdGEub2Zmc2V0ICsgMQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBlbmQ6IG1heAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCByb3dzOiByb3dzCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHRvdGFsOmRhdGEudG90YWxfcm93cwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBiYWNra2V5OiB0bXAgJiYgSlNPTi5zdHJpbmdpZnkoYmFja2tleS5rZXkpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHN0YXJ0a2V5OiBzdGFydGtleX0sIHJ0cik7CiAgICB9OwoKICAgIGlmICh2aWV3ID09PSAnX2FsbF9kb2NzJykgewogICAgICAkLmNvdWNoLmRiKGRiKS5hbGxEb2NzKG9wdHMpLnRoZW4oY2FsbGJhY2spOwogICAgfSBlbHNlIGlmICh2aWV3ID09PSAnX2Rlc2lnbl9kb2NzJykgewogICAgICAkLmNvdWNoLmRiKGRiKS5hbGxEZXNpZ25Eb2NzKG9wdHMpLnRoZW4oY2FsbGJhY2spOwogICAgfSBlbHNlIHsKICAgICAgJC5jb3VjaC5kYihkYikudmlldyh2aWV3bmFtZSwgb3B0cykudGhlbihjYWxsYmFjayk7CiAgICB9CiAgfSk7CgoKICByb3V0ZXIuZ2V0KCcjL2RiLzpkYi86ZG9jLzprZXkvX2RlbGV0ZS8nLCBmdW5jdGlvbiAocnRyLCBkYiwgZG9jLCBrZXkpIHsKCiAgICB2YXIga2V5cyA9IGtleS5zcGxpdCgiLiIpOwogICAga2V5cy5wb3AoKTsKCiAgICB2YXIgYmFja2tleSA9IChrZXlzLmxlbmd0aCA+IDAgPyBrZXlzLmpvaW4oIi4iKSArICIvIiA6ICIiKQogICAgICAsIGJhY2sgPSAiIy9kYi8iICsgZGIgKyAiLyIgKyBkb2MgKyAiLyIgKyBiYWNra2V5CiAgICAgICwgZGF0YSA9IHsgYWN0aW9uOiAiI2RlbGV0ZV9rZXkiCiAgICAgICAgICAgICAgICwgY2FuY2VsOiAiIy9kYi8iICsgZGIgKyAiLyIgKyBkb2MgKyAiLyIKICAgICAgICAgICAgICAgLCBub3RpY2U6ICJkZWxldGUgIiArIGtleSArICIgZnJvbSAiICsgZG9jCiAgICAgICAgICAgICAgICwgYWN0aW9uX2J0bjogIkRlbGV0ZSIKICAgICAgICAgICAgICAgLCBmb3JtOiBbIHtrZXk6ImRiIiwgdmFsdWU6ZGJ9CiAgICAgICAgICAgICAgICAgICAgICAgLCB7a2V5OiJkb2MiLCB2YWx1ZTpkb2N9CiAgICAgICAgICAgICAgICAgICAgICAgLCB7a2V5OiJrZXkiLCB2YWx1ZTprZXl9CiAgICAgICAgICAgICAgICAgICAgICAgLCB7a2V5OiJiYWNrIiwgdmFsdWU6YmFja30gXX07CiAgICByZW5kZXJlci5yZW5kZXIoJ2NvbmZpcm1fdHBsJywgZGF0YSwgcnRyKTsKICB9KTsKCgogIHJvdXRlci5nZXQoJyMvZGIvOmRiLzpkb2MvX2RlbGV0ZS8nLCBmdW5jdGlvbihydHIsIGRiLCBkb2MpIHsKICAgIHZhciBiYWNrID0gKHJvdXRlci5wcmV2aW91cygxKSB8fCAiIy9kYi8iICsgZGIgKyAiLyIpCiAgICAgICwgZGF0YSA9IHsgYWN0aW9uOiAiI2RlbGV0ZV9kb2MiCiAgICAgICAgICAgICAgICwgY2FuY2VsOiAiIy9kYi8iICsgZGIgKyAiLyIKICAgICAgICAgICAgICAgLCBub3RpY2U6ICJkZWxldGUgdGhlIGRvY3VtZW50ICIgKyBkb2MKICAgICAgICAgICAgICAgLCBhY3Rpb25fYnRuOiAiRGVsZXRlIgogICAgICAgICAgICAgICAsIGZvcm06IFsge2tleToiZGIiLCB2YWx1ZTpkYn0KICAgICAgICAgICAgICAgICAgICAgICAsIHtrZXk6ImRvYyIsIHZhbHVlOmRvY30KICAgICAgICAgICAgICAgICAgICAgICAsIHtrZXk6ImJhY2siLCB2YWx1ZTpiYWNrfSBdfTsKICAgIHJlbmRlcmVyLnJlbmRlcignY29uZmlybV90cGwnLCBkYXRhLCBydHIpOwogIH0pOwoKICByb3V0ZXIuZ2V0KCcjL2RiLzpkYi86ZG9jLycsIGZ1bmN0aW9uIChydHIsIGRiLCBkb2MpIHsKICAgIHJvdXRlci5mb3J3YXJkKCcjL2RiLycgKyBkYiArICcvJyArIGRvYyArICcvcmV2L2N1cnJlbnQvJywge30sIHJ0cik7CiAgfSk7CgogIHJvdXRlci5nZXQoJyMvZGIvOmRiLzpkb2MvcmV2LzpyZXYvOmtleS8nLCBmdW5jdGlvbiAocnRyLCBkYiwgZG9jLCByZXYsIGtleSkgewoKICAgIHZhciBvcHRzID0gKChyZXYgPT09ICJjdXJyZW50IikgPyB7fSA6IHtyZXY6IHJldn0pCiAgICAgICwgZG9jSWQgPSBkZWNvZGVVUklDb21wb25lbnQoZG9jKTsKCiAgICBzZXRUaXRsZShkb2NJZCk7CiAgICBkYiA9IGRlY29kZVVSSUNvbXBvbmVudChkYik7CgogICAgJC5jb3VjaC5kYihkYikub3BlbkRvYyhkb2NJZCwgb3B0cykudGhlbihmdW5jdGlvbihqc29uKSB7CgogICAgICB2YXIga2V5cyA9IFtdCiAgICAgICAgLCBkYXRhID0gZmV0Y2hPYmooa2V5LnNwbGl0KCI6IiksIGpzb24pOwoKICAgICAgZm9yICh2YXIgb2JqIGluIGRhdGEpIHsKICAgICAgICBrZXlzLnB1c2goeyBrZXk6IG9iagogICAgICAgICAgICAgICAgICAsIHRlcm1pbmFsOiAodHlwZW9mIGRhdGFbb2JqXSAhPT0gIm9iamVjdCIpCiAgICAgICAgICAgICAgICAgICwgdmFsdWU6IEpTT04uc3RyaW5naWZ5KGRhdGFbb2JqXSwgbnVsbCwgJyAnKQogICAgICAgICAgICAgICAgICAsIHVybDoga2V5ICsgIjoiICsgZW5jb2RlVVJJQ29tcG9uZW50KG9iail9KTsKICAgICAgfQoKICAgICAgaWYgKCh0eXBlb2YgZGF0YSAhPT0gIm9iamVjdCIgfHwga2V5cy5sZW5ndGggPT09IDApICYmIHJldiA9PT0gImN1cnJlbnQiKSB7CiAgICAgICAgcmVuZGVyZXIucmVuZGVyKCdlZGl0X2tleV90cGwnLCB7IGRiOiBkYgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBrZXk6IGtleQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCB2YWx1ZTogSlNPTi5zdHJpbmdpZnkoZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgZG9jOmRvYwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCByZXY6IHJldgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBrZXlzOiBrZXlzfSwgcnRyKTsKCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGNhbmVkaXQgPSB0cnVlCiAgICAgICAgICAsIHByZXZpZXcgPSAiIgogICAgICAgICAgLCB0bXAgPSBrZXkuc3BsaXQoIjoiKTsKICAgICAgICBpZiAodG1wWzBdID09PSAiX2F0dGFjaG1lbnRzIiAmJiB0bXAubGVuZ3RoID4gMSkgewogICAgICAgICAgY2FuZWRpdCA9IGZhbHNlOwogICAgICAgICAgaWYgKC8oaW1hZ2VcL3BuZ3xpbWFnZVwvanBlZ3xpbWFnZVwvanBnKS8udGVzdChkYXRhLmNvbnRlbnRfdHlwZSkpIHsKICAgICAgICAgICAgcHJldmlldyA9ICc8aW1nIHNyYz0iLycgKyBkYiArICcvJyArIGRvY0lkICsgJy8nICsKICAgICAgICAgICAgICBkZWNvZGVVUklDb21wb25lbnQodG1wWzFdKS5yZXBsYWNlKCI6IiwgIi8iKSArICciIC8+JzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmVuZGVyZXIucmVuZGVyKCdkb2N1bWVudF90cGwnLCB7IGRiOiBkYgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBjYW5lZGl0OiBjYW5lZGl0CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHByZXZpZXc6IHByZXZpZXcKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgZG9jOmRvYwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCByZXY6IHJldgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBrZXk6IGtleQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBvcHRrZXk6ICIvIiArIGtleQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBrZXlzOiBrZXlzfSwgcnRyLCBhZGREb2NFdmVudHMpOwogICAgICB9CiAgICB9KTsKICB9KTsKCgogIHJvdXRlci5nZXQoJyMvZGIvOmRiLzpkb2MvcmV2LzpyZXYvJywgZnVuY3Rpb24gKHJ0ciwgZGIsIGRvYywgcmV2KSB7CgogICAgdmFyIGRvY0lkID0gZGVjb2RlVVJJQ29tcG9uZW50KGRvYyk7CiAgICBzZXRUaXRsZShkb2MpOwogICAgZGIgPSBkZWNvZGVVUklDb21wb25lbnQoZGIpOwoKICAgIHZhciBvcHRzID0ge3JldnNfaW5mbzp0cnVlfTsKICAgIGlmIChyZXYgIT09ICJjdXJyZW50IikgewogICAgICBvcHRzLnJldiA9IHJldjsKICAgIH0KCiAgICAkLmNvdWNoLmRiKGRiKS5vcGVuRG9jKGRvY0lkLCBvcHRzKS50aGVuKGZ1bmN0aW9uKGpzb24pIHsKICAgICAgdmFyIGtleXMgPSBbXQogICAgICAgICwgcmV2cyA9ICQubWFwKGpzb24uX3JldnNfaW5mbyB8fCBbXSwgZnVuY3Rpb24ob2JqKSB7CiAgICAgICAgICByZXR1cm4ge3JldjpvYmoucmV2LCBhdmFpbGFibGU6b2JqLnN0YXR1cyA9PT0gImF2YWlsYWJsZSJ9OwogICAgICAgIH0pOwogICAgICBkZWxldGUganNvbi5fcmV2c19pbmZvOwogICAgICAkLmVhY2goanNvbiwgZnVuY3Rpb24ob2JqKSB7CiAgICAgICAga2V5cy5wdXNoKHsga2V5OiBvYmoKICAgICAgICAgICAgICAgICAgLCB2YWx1ZTogSlNPTi5zdHJpbmdpZnkoanNvbltvYmpdLCBudWxsLCAnICcpCiAgICAgICAgICAgICAgICAgICwgdXJsOiBvYmp9KTsKICAgICAgfSk7CiAgICAgIHJlbmRlcmVyLnJlbmRlcignZG9jdW1lbnRfdHBsJywgeyBkYjogZGIKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGNhbmVkaXQ6IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGRvYzpkb2MKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGtleXM6IGtleXMKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIHJldjogcmV2CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBqc29uOkpTT04uc3RyaW5naWZ5KGpzb24sIG51bGwsICcgJykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIGhhc3JldmlzaW9uczogcmV2cy5sZW5ndGggPiAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLCByZXZpc2lvbnM6IHJldnMgfSwgcnRyLCBhZGREb2NFdmVudHMpOwogICAgfSk7CiAgfSk7CgoKICByb3V0ZXIuZ2V0KCcjL2RiLycsIGZ1bmN0aW9uKHJ0cikgewogICAgc2V0VGl0bGUoJ0RhdGFiYXNlcycpOwogICAgJC5jb3VjaC5hbGxEYnMoKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgZGF0YSA9ICQubWFwKGRhdGEsIGZ1bmN0aW9uKHVybCkgewogICAgICAgIHJldHVybiB7dXJsOmVuY29kZVVSSUNvbXBvbmVudCh1cmwpLCBuYW1lOiB1cmx9OwogICAgICB9KTsKICAgICAgcmVuZGVyZXIucmVuZGVyKCdkYXRhYmFzZXNfdHBsJywge2RhdGFiYXNlczogZGF0YX0sIHJ0cik7CiAgICB9KTsKICB9KTsKCgogIHJvdXRlci5nZXQoJyMvcmVwbGljYXRpb24vJywgZnVuY3Rpb24ocnRyKSB7CiAgICBzZXRUaXRsZSgnUmVwbGljYXRpb24nKTsKICAgICQuY291Y2guYWxsRGJzKHt9KS50aGVuKGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgcmVuZGVyZXIucmVuZGVyKCdyZXBsaWNhdGlvbl90cGwnLCB7CiAgICAgICAgZGF0YWJhc2VzOiBkYXRhLAogICAgICAgIHJlcGxpY2F0aW9uczogcmVwbGljYXRpb25zCiAgICAgIH0sIHJ0ciwgZnVuY3Rpb24odHBsKSB7IHNldHVwUmVwbGljYXRpb25FdmVudHModHBsKTsgdXBkYXRlUmVwbGljYXRpb25zKCk7IH0pOwogICAgfSk7CiAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKHVwZGF0ZVJlcGxpY2F0aW9ucywgNTAwMCk7CiAgfSkudW5sb2FkKGNsZWFyUmVmcmVzaCk7CgoKICByb3V0ZXIuZ2V0KCcjL2NvbmZpZy8nLCBmdW5jdGlvbihydHIpIHsKCiAgICBzZXRUaXRsZSgnQ29uZmlnJyk7CgogICAgJC5jb3VjaC5jb25maWcoe2Vycm9yOnVuYXV0aH0pLnRoZW4oZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgc2VjdGlvbnMgPSBbXTsKICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uKGlkKSB7IHNlY3Rpb25zLnB1c2goaWQpOyB9KTsKICAgICAgcmVuZGVyZXIucmVuZGVyKCdjb25maWdfdG9wX3RwbCcsIHtjb25maWc6c2VjdGlvbnN9LCBydHIpOwogICAgfSk7CgogIH0pOwoKCiAgcm91dGVyLmdldCgnIy9jb25maWcvOnNlY3Rpb24vJywgZnVuY3Rpb24ocnRyLCBzZWN0aW9uKSB7CgogICAgc2V0VGl0bGUoJ0NvbmZpZycpOwoKICAgICQuY291Y2guY29uZmlnKHtlcnJvcjp1bmF1dGh9KS50aGVuKGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmFyIGl0ZW1zID0gW107CiAgICAgICQuZWFjaChkYXRhW3NlY3Rpb25dLCBmdW5jdGlvbihpZCkgewogICAgICAgIGl0ZW1zLnB1c2goe2tleTppZCwgdmFsdWU6ZGF0YVtzZWN0aW9uXVtpZF19KTsKICAgICAgfSk7CiAgICAgIHJlbmRlcmVyLnJlbmRlcignY29uZmlnX3NlY3Rpb25fdHBsJywge2l0ZW1zOml0ZW1zLCBzZWN0aW9uOnNlY3Rpb259LCBydHIpOwogICAgfSk7CgogIH0pOwoKCiAgcm91dGVyLmdldCgnIy90YXNrcy8nLCBmdW5jdGlvbihydHIpIHsKICAgIHNldFRpdGxlKCdBY3RpdmUgVGFza3MnKTsKICAgICQuY291Y2guYWN0aXZlVGFza3Moe2Vycm9yOiB1bmF1dGh9KS50aGVuKGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgcmVuZGVyZXIucmVuZGVyKCd0YXNrc190cGwnLCB7dGFza3M6IGRhdGF9LCBydHIpOwogICAgfSk7CiAgICBpbnRlcnZhbCA9IHNldEludGVydmFsKHVwZGF0ZUFjdGl2ZVRhc2tzLCA1MDAwKTsKICB9KS51bmxvYWQoY2xlYXJSZWZyZXNoKTsKCgogIHJvdXRlci5nZXQoJyMvYWNjb3VudC8nLCBmdW5jdGlvbihydHIpIHsKICAgIHZhciB1c2VyID0gJCQoIiN1c2VyIikudXNlcjsKICAgIHVzZXIucm9sZXMgPSB1c2VyLnJvbGVzLnRvU3RyaW5nKCk7CiAgICBpZiAodXNlci5uYW1lKSB7CiAgICAgIHJlbmRlcmVyLnJlbmRlcignbG9nZ2VkX2luJywgdXNlciwgcnRyKTsKICAgIH0gZWxzZSB7CiAgICAgIHJlbmRlcmVyLnJlbmRlcignbG9nZ2VkX291dCcsIHt9LCBydHIpOwogICAgfQogIH0pOwoKCiAgcm91dGVyLnBvc3QoJyNjcmVhdGVfZGInLCBmdW5jdGlvbiAoXywgZSwgZm9ybSkgewogICAgJC5jb3VjaC5kYihmb3JtLm5hbWUpLmNyZWF0ZSh7fSkudGhlbihmdW5jdGlvbigpIHsKICAgICAgbG9jYXRpb24uaHJlZiA9ICIjL2RiLyIgKyBmb3JtLm5hbWUgKyAiLyI7CiAgICB9KTsKICB9KTsKCgogIHJvdXRlci5wb3N0KCcjY3JlYXRlX2RvYycsIGZ1bmN0aW9uIChfLCBlLCBmb3JtKSB7CiAgICB2YXIgb2JqID0gcGFyc2VKU09OKGZvcm0udmFsdWUgfHwgInt9Iik7CiAgICBpZiAodHlwZW9mIG9iaiAhPT0gIm9iamVjdCIgfHwgJC5pc0FycmF5KG9iaikpIHsKICAgICAgb2JqID0ge307CiAgICB9CiAgICBpZiAoZm9ybS5pZCkgewogICAgICBvYmouX2lkID0gZm9ybS5pZDsKICAgIH0KICAgICQuY291Y2guZGIoZm9ybS5kYikuc2F2ZURvYyhvYmopLnRoZW4oZnVuY3Rpb24ocmVzKSB7CiAgICAgIGxvY2F0aW9uLmhyZWYgPSAiIy9kYi8iICsgZm9ybS5kYiArICIvIiArIHJlcy5pZCArICIvIjsKICAgIH0pOwogIH0pOwoKCiAgcm91dGVyLnBvc3QoJyNsb2dvdXQnLCBmdW5jdGlvbiAoXywgZSwgZm9ybSkgewogICAgJC5jb3VjaC5sb2dvdXQoKS50aGVuKHJlZnJlc2hTZXNzaW9uKTsKICB9KTsKCgogIHJvdXRlci5wb3N0KCcjbG9naW4nLCBmdW5jdGlvbiAoXywgZSwgZm9ybSkgewoKICAgIHZhciBsb2dpbiA9IGZ1bmN0aW9uKCkgewogICAgICAkLmNvdWNoLmxvZ2luKAogICAgICAgIHsgbmFtZTogZm9ybS51c2VybmFtZQogICAgICAgICwgcGFzc3dvcmQ6IGZvcm0ucGFzc3dvcmQKICAgICAgICAsIHN1Y2Nlc3M6IHJlZnJlc2hTZXNzaW9uIH0KICAgICAgKTsKICAgIH07CgogICAgaWYgKGZvcm0ucmVnaXN0ZXIgJiYgaXNBZG1pblBhcnR5KCkpIHsKICAgICAgJC5jb3VjaC5jb25maWcoe3N1Y2Nlc3M6IGxvZ2lufSwgImFkbWlucyIsIGZvcm0udXNlcm5hbWUsIGZvcm0ucGFzc3dvcmQpOwogICAgfSBlbHNlIGlmIChmb3JtLnJlZ2lzdGVyKSB7CiAgICAgICQuY291Y2guc2lnbnVwKHtuYW1lOmZvcm0udXNlcm5hbWV9LCBmb3JtLnBhc3N3b3JkLCB7c3VjY2VzczogbG9naW59KTsKICAgIH0gZWxzZSB7CiAgICAgIGxvZ2luKCk7CiAgICB9CiAgfSk7CgoKICByb3V0ZXIucG9zdCgnI2FkZGtleScsIGZ1bmN0aW9uIChfLCBlLCBmb3JtKSB7CiAgICAkKCcjYWRka2V5YnRuJykudmFsKCdTYXZpbmcgLi4uJyk7CiAgICAkLmNvdWNoLmRiKGZvcm0uZGIpLm9wZW5Eb2MoZm9ybS5kb2MpLnRoZW4oZnVuY3Rpb24oanNvbikgewogICAgICBmb3IodmFyIHRtcD1qc29uLCBrZXlzPWZvcm0ua2V5LnNwbGl0KCI6IiksIGk9MDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHsKICAgICAgICB0bXAgPSB0bXBba2V5c1tpXV07CiAgICAgIH0KICAgICAgaWYgKHR5cGVvZiBmb3JtWyJrZXlbXSJdID09PSAic3RyaW5nIikgewogICAgICAgIHRtcFtmb3JtWyJrZXlbXSJdXSA9IHBhcnNlSlNPTihmb3JtWyJ2YWx1ZVtdIl0pOwogICAgICB9IGVsc2UgewogICAgICAgIGZvcih2YXIgeCA9IDA7IHggPCBmb3JtWyJrZXlbXSJdLmxlbmd0aC0xOyB4KyspIHsKICAgICAgICAgIHRtcFtmb3JtWyJrZXlbXSJdW3hdXSA9IHBhcnNlSlNPTihmb3JtWyJ2YWx1ZVtdIl1beF0pOwogICAgICAgIH0KICAgICAgfQogICAgICAkLmNvdWNoLmRiKGZvcm0uZGIpLnNhdmVEb2MoanNvbikudGhlbihmdW5jdGlvbihqc29uKSB7CiAgICAgICAgcm91dGVyLnJlZnJlc2goKTsKICAgICAgfSk7CiAgICB9KTsKICB9KTsKCgogIHJvdXRlci5wb3N0KCcjc2F2ZWtleScsIGZ1bmN0aW9uIChfLCBlLCBmb3JtKSB7CiAgICAkKCcjc2F2ZWtleScpLnZhbCgnU2F2aW5nIC4uLicpOwogICAgJC5jb3VjaC5kYihmb3JtLmRiKS5vcGVuRG9jKGZvcm0uZG9jKS50aGVuKGZ1bmN0aW9uKGpzb24pIHsKICAgICAgZm9yKHZhciB0bXAgPSBqc29uLCBrZXlzID0gZm9ybS5rZXkuc3BsaXQoIjoiKSwgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aC0xOyBpKyspIHsKICAgICAgICB0bXAgPSB0bXBba2V5c1tpXV07CiAgICAgIH0KICAgICAgdG1wW2tleXNba2V5cy5sZW5ndGgtMV1dID0gcGFyc2VKU09OKGZvcm0udmFsdWUpOwogICAgICAkLmNvdWNoLmRiKGZvcm0uZGIpLnNhdmVEb2MoanNvbikudGhlbihmdW5jdGlvbihqc29uKSB7CiAgICAgICAgJCgnI3NhdmVrZXknKS52YWwoJ1NhdmUnKTsKICAgICAgICByb3V0ZXIucmVmcmVzaCgpOwogICAgICB9KTsKICAgIH0pOwogIH0pOwoKCiAgcm91dGVyLnBvc3QoJyNyZXBsaWNhdGlvbicsIGZ1bmN0aW9uIChfLCBlLCBmb3JtKSB7CgogICAgdmFyIG9iaiA9IHsgc291cmNlOiBmb3JtLmN1c3RvbV9zb3VyY2UgfHwgZm9ybS5zb3VyY2UKICAgICAgICAgICAgICAsIHRhcmdldDogZm9ybS5jdXN0b21fdGFyZ2V0IHx8IGZvcm0udGFyZ2V0CiAgICAgICAgICAgICAgLCBjcmVhdGVfdGFyZ2V0OiB0cnVlCiAgICAgICAgICAgICAgLCBjb250aW51b3VzOiAoZm9ybS5jb250aW51b3VzID09PSAnb24nKSB9OwoKICAgICQuY291Y2gucmVwbGljYXRlKGZvcm0uc291cmNlLCBmb3JtLnRhcmdldCwge2Vycm9yOm5pbH0sIG9iaikKICAgICAgICAgICAudGhlbih1cGRhdGVSZXBsaWNhdGlvbnMpOwoKICAgIHJlcGxpY2F0aW9ucyA9ICQuZ3JlcChyZXBsaWNhdGlvbnMsIGZ1bmN0aW9uKHJlcGwpIHsKICAgICAgcmV0dXJuICEocmVwbC5zb3VyY2UgPT09IG9iai5zb3VyY2UgJiYgcmVwbC50YXJnZXQgPT09IG9iai50YXJnZXQpOwogICAgfSk7CiAgICByZXBsaWNhdGlvbnMucHVzaChvYmopOwogICAgbG9jYWxEYXRhLnNldCgncmVwbGljYXRpb25zJywgcmVwbGljYXRpb25zKTsKICB9KTsKCgogIHJvdXRlci5wb3N0KCcjY29uZmlnJywgZnVuY3Rpb24gKF8sIGUsIGZvcm0pIHsKICAgICQoJyNzYXZlY29uZmlnJykudmFsKCdTYXZpbmcgLi4uJyk7CgogICAgZnVuY3Rpb24gc2V0Q29uZmlnKG9iaikgewogICAgICByZXR1cm4gJC5jb3VjaC5jb25maWcoe30sIGZvcm0uc2VjdGlvbiwgb2JqLmtleSwgb2JqLnZhbHVlKTsKICAgIH0KCiAgICAkLmNvdWNoLmNvbmZpZygpLnRoZW4oZnVuY3Rpb24oZGF0YSkgewogICAgICB2YXIgY2hhbmdlcyA9IFtdOwogICAgICAkLmVhY2goZm9ybSwgZnVuY3Rpb24obmFtZSkgewogICAgICAgIGlmIChuYW1lICE9PSAic2VjdGlvbiIgJiYgZGF0YVtmb3JtLnNlY3Rpb25dW25hbWVdICE9IGZvcm1bbmFtZV0pIHsKICAgICAgICAgIGNoYW5nZXMucHVzaCh7a2V5OiBuYW1lLCB2YWx1ZTogZm9ybVtuYW1lXX0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgICQud2hlbi5hcHBseSh0aGlzLCAkLm1hcChjaGFuZ2VzLCBzZXRDb25maWcpKS50aGVuKGZ1bmN0aW9uKCkgewogICAgICAgICQoJyNzYXZlY29uZmlnJykudmFsKCdTYXZlIENvbmZpZycpOwogICAgICB9KTsKICAgIH0pOwogIH0pOwoKCiAgcm91dGVyLnBvc3QoJyNkZWxldGVfZGF0YWJhc2UnLCBmdW5jdGlvbiAoXywgZSwgZm9ybSkgewogICAgJC5jb3VjaC5kYihmb3JtLmRiKS5kcm9wKCkudGhlbihmdW5jdGlvbigpIHsKICAgICAgbG9jYXRpb24uaHJlZiA9ICIjL2RiLyI7CiAgICB9KTsKICB9KTsKCgogIHJvdXRlci5wb3N0KCcjZGVsZXRlX2tleScsIGZ1bmN0aW9uIChfLCBlLCBmb3JtKSB7CiAgICAkLmNvdWNoLmRiKGZvcm0uZGIpLm9wZW5Eb2MoZm9ybS5kb2MpLnRoZW4oZnVuY3Rpb24oanNvbikgewogICAgICBmb3IodmFyIHRtcCA9IGpzb24sIGtleXMgPSBmb3JtLmtleS5zcGxpdCgiOiIpLCBpID0gMDsgaSA8IGtleXMubGVuZ3RoLTE7IGkrKykgewogICAgICAgIHRtcCA9IHRtcFtrZXlzW2ldXTsKICAgICAgfQogICAgICBkZWxldGUgdG1wW2tleXNba2V5cy5sZW5ndGgtMV1dOwogICAgICAkLmNvdWNoLmRiKGZvcm0uZGIpLnNhdmVEb2MoanNvbikudGhlbihmdW5jdGlvbihqc29uKSB7CiAgICAgICAgbG9jYXRpb24uaHJlZiA9IGZvcm0uYmFjazsKICAgICAgfSk7CiAgICB9KTsKICB9KTsKCgogIHJvdXRlci5wb3N0KCcjZGVsZXRlX2RvYycsIGZ1bmN0aW9uIChfLCBlLCBmb3JtKSB7CiAgICAkLmNvdWNoLmRiKGZvcm0uZGIpLm9wZW5Eb2MoZm9ybS5kb2MpLnRoZW4oZnVuY3Rpb24oZG9jKSB7CiAgICAgICQuY291Y2guZGIoZm9ybS5kYikucmVtb3ZlRG9jKGRvYykudGhlbihmdW5jdGlvbigpIHsKICAgICAgICBsb2NhdGlvbi5ocmVmID0gZm9ybS5iYWNrOwogICAgICB9KTsKICAgIH0pOwogIH0pOwoKCiAgZnVuY3Rpb24gc2V0VGl0bGUodGV4dCkgewogICAgJCgnI3RpdGxlLCB0aXRsZScpLnRleHQodGV4dCk7CiAgfTsKCgogIGZ1bmN0aW9uIHVuYXV0aCgpIHsKICAgIGNsZWFyUmVmcmVzaCgpOwogICAgcmVuZGVyZXIucmVuZGVyKCd1bmF1dGhvcml6ZWRfdHBsJyk7CiAgfTsKCgogIGZ1bmN0aW9uIHVwZGF0ZUFjdGl2ZVRhc2tzKHRyYW5zaXRpb24pIHsKICAgICQuY291Y2guYWN0aXZlVGFza3Moe2Vycm9yOiB1bmF1dGh9KS50aGVuKGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmFyICRodG1sID0gJChyZW5kZXIoJyN0YXNrc190cGwnLCB7dGFza3M6IGRhdGF9KSk7CiAgICAgICQoJyN0YXNrcycpLnJlcGxhY2VXaXRoKCRodG1sKTsKICAgIH0pOwogIH07CgoKICBmdW5jdGlvbiBzZXR1cFJlcGxpY2F0aW9uRXZlbnRzKHRwbCkgewoKICAgICQoJy5yZXBsaWNhdGlvbicsIHRwbCkuYmluZCgnbW91c2Vkb3duJywgZnVuY3Rpb24oZSkgewogICAgICB2YXIgJG9iaiA9ICQoZS50YXJnZXQpLnBhcmVudCgnbGknKTsKICAgICAgJCgnI2N1c3RvbV9zb3VyY2UnLCB0cGwpLnZhbCgkb2JqLmF0dHIoImRhdGEtc291cmNlIikpOwogICAgICAkKCcjY3VzdG9tX3RhcmdldCcsIHRwbCkudmFsKCRvYmouYXR0cigiZGF0YS10YXJnZXQiKSk7CiAgICAgIGlmICgkb2JqLmRhdGEoJ2NvbnRpbnVvdXMnKSkgewogICAgICAgICQoJyNjb250aW51b3VzJywgdHBsKS5hdHRyKCdjaGVja2VkJywgJ2NoZWNrZWQnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAkKCcjY29udGludW91cycsIHRwbCkucmVtb3ZlQXR0cignY2hlY2tlZCcpOwogICAgICB9CiAgICB9KTsKCiAgICAkKCcuZGVsZXRlJywgdHBsKS5iaW5kKCdtb3VzZWRvd24nLCBmdW5jdGlvbigpIHsKICAgICAgdmFyIHBhcmVudCA9ICgkKHRoaXMpLnBhcmVudHMoJ2xpJykpCiAgICAgICAgLCBzb3VyY2UgPSBwYXJlbnQuZGF0YSgnc291cmNlJykKICAgICAgICAsIHRhcmdldCA9IHBhcmVudC5kYXRhKCd0YXJnZXQnKTsKCiAgICAgIHJlcGxpY2F0aW9ucyA9ICQuZ3JlcChyZXBsaWNhdGlvbnMsIGZ1bmN0aW9uKG9iaikgewogICAgICAgIHJldHVybiAhKG9iai5zb3VyY2UgPT09IHNvdXJjZSAmJiBvYmoudGFyZ2V0ID09PSB0YXJnZXQpOwogICAgICB9KTsKICAgICAgbG9jYWxEYXRhLnNldCgncmVwbGljYXRpb25zJywgcmVwbGljYXRpb25zKTsKICAgICAgcm91dGVyLnJlZnJlc2goKTsKICAgIH0pOwogIH0KCgogIGZ1bmN0aW9uIHJlcGxpY2F0aW9uRXhpc3RzKGRhdGEpIHsKICAgIGZvcih2YXIgaSA9IDA7IGkgPCByZXBsaWNhdGlvbnMubGVuZ3RoOyBpKyspIHsKICAgICAgaWYgKHJlcGxpY2F0aW9uc1tpXS5zb3VyY2UgPT0gZGF0YS5zb3VyY2UgJiYKICAgICAgICAgIHJlcGxpY2F0aW9uc1tpXS50YXJnZXQgPT09IGRhdGEudGFyZ2V0KSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBmYWxzZTsKICB9CgoKICBmdW5jdGlvbiBwYXJzZVJlcGxpY2F0aW9uVGFzayh0YXNrKSB7CgogICAgdmFyIHBhcnRzID0gKHRhc2sucmVwbGFjZSgvYC9nLCAiIikuc3BsaXQoLzooLispPy8pKQogICAgICAsIHdoZXJlID0gKHBhcnRzWzFdLnNwbGl0KCItPiIpKQogICAgICAsIG9iaiA9IHsgc291cmNlOiAkLnRyaW0od2hlcmVbMF0pCiAgICAgICAgICAgICAgLCB0YXJnZXQ6ICQudHJpbSh3aGVyZVsxXSkgfTsKCiAgICBpZiAocGFydHNbMF0ubWF0Y2goJ2NvbnRpbnVvdXMnKSkgewogICAgICBvYmouY29udGludW91cyA9IHRydWU7CiAgICB9CgogICAgaWYgKHBhcnRzWzBdLm1hdGNoKCdjcmVhdGVfdGFyZ2V0JykpIHsKICAgICAgb2JqLmNyZWF0ZV90YXJnZXQgPSB0cnVlOwogICAgfQoKICAgIHJldHVybiBvYmo7CiAgfTsKCgogIGZ1bmN0aW9uIHVwZGF0ZVJlcGxpY2F0aW9ucygpIHsKCiAgICB2YXIgZXJyID0gZnVuY3Rpb24oKSB7CiAgICAgIGNsZWFyUmVmcmVzaCgpOwogICAgICAkKCcjcnVubmluZyBsaTpub3QoLmhlYWRlciknKS5yZW1vdmUoKTsKICAgICAgJCgiI3J1bm5pbmciKS5hcHBlbmQoJzxsaSBjbGFzcz0ibm9uZSI+WW91IG5lZWQgdG8gYmUgYW4gYWRtaW4gdG8gJyArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICdyZWFkIGN1cnJlbnQgdGFza3M8L2xpPicpOwogICAgfTsKCiAgICAkLmNvdWNoLmFjdGl2ZVRhc2tzKHtlcnJvcjplcnJ9KS50aGVuKGZ1bmN0aW9uKHRhc2tzKSB7CgogICAgICBmb3IodmFyIHJlcGxUYXNrcyA9IFtdLCBpID0gMDsgaSA8IHRhc2tzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKHRhc2tzW2ldLnR5cGUgPT09ICdSZXBsaWNhdGlvbicpIHsKICAgICAgICAgIHZhciB0bXAgPSBwYXJzZVJlcGxpY2F0aW9uVGFzayh0YXNrc1tpXS50YXNrKTsKICAgICAgICAgIHRtcC5jYW5jZWxsYWJsZSA9ICEoL1wqLy50ZXN0KHRtcC5zb3VyY2UgKyB0bXAudGFyZ2V0KSk7CiAgICAgICAgICByZXBsVGFza3MucHVzaCh0bXApOwogICAgICAgIH0KICAgICAgfQoKICAgICAgdmFyICRyb3dzID0gJChyZW5kZXIoJyNyZXBsaWNhdGlvbl9pdGVtcycsIHtydW5uaW5nOiByZXBsVGFza3N9KSk7CgogICAgICAkKCcuY2FuY2VsJywgJHJvd3MpLmJpbmQoJ21vdXNlZG93bicsIGZ1bmN0aW9uKCkgewoKICAgICAgICB2YXIgcGFyZW50ID0gKCQodGhpcykucGFyZW50cygnbGknKSkKICAgICAgICAgICwgb2JqID0geyBzb3VyY2U6IChwYXJlbnQuZGF0YSgnc291cmNlJykpCiAgICAgICAgICAgICAgICAgICwgdGFyZ2V0OiAocGFyZW50LmRhdGEoJ3RhcmdldCcpKQogICAgICAgICAgICAgICAgICAsIGNhbmNlbDogdHJ1ZSB9OwoKICAgICAgICBpZiAocGFyZW50LmRhdGEoJ2NvbnRpbnVvdXMnKSA9PT0gdHJ1ZSkgewogICAgICAgICAgb2JqLmNvbnRpbnVvdXMgPSB0cnVlOwogICAgICAgIH0KICAgICAgICBpZiAocGFyZW50LmRhdGEoJ2NyZWF0ZV90YXJnZXQnKSA9PT0gdHJ1ZSkgewogICAgICAgICAgb2JqLmNyZWF0ZV90YXJnZXQgPSB0cnVlOwogICAgICAgIH0KCiAgICAgICAgJC5jb3VjaC5yZXBsaWNhdGUob2JqLnNvdXJjZSwgb2JqLnRhcmdldCwge30sIG9iaikKICAgICAgICAgICAgICAgLnRoZW4odXBkYXRlUmVwbGljYXRpb25zKQogICAgICB9KTsKCiAgICAgICQoJyNydW5uaW5nIGxpOm5vdCguaGVhZGVyKScpLnJlbW92ZSgpOwogICAgICAkcm93cy5pbnNlcnRBZnRlcigkKCcjcnVubmluZyBsaS5oZWFkZXInKSk7CiAgICB9KTsKICB9OwoKCiAgZnVuY3Rpb24gcmVuZGVyKHRwbCwgZGF0YSkgewogICAgcmV0dXJuIE11c3RhY2hlLnRvX2h0bWwoJCh0cGwpLmh0bWwoKSwgZGF0YSk7CiAgfQoKCiAgZnVuY3Rpb24gcmVuZGVyVG8oZG9tLCB0cGwsIGRhdGEpIHsKICAgICQoZG9tKS5lbXB0eSgpLmFwcGVuZChyZW5kZXIodHBsLCBkYXRhKSk7CiAgfQoKCiAgZnVuY3Rpb24gcmVmcmVzaFNlc3Npb24oKSB7CiAgICB1cGRhdGVTZXNzaW9uKGZ1bmN0aW9uKCkgewogICAgICBsb2NhdGlvbi5ocmVmID0gcm91dGVyLnByZXZpb3VzKCkgfHwgIiMiOwogICAgfSk7CiAgfQoKCiAgZnVuY3Rpb24gdXBkYXRlU2Vzc2lvbihjYWxsYmFjaykgewogICAgJC5jb3VjaC5zZXNzaW9uKCkudGhlbihmdW5jdGlvbihkYXRhKSB7CiAgICAgICQkKCIjdXNlciIpLnVzZXIgPSBkYXRhLnVzZXJDdHg7CiAgICAgIHJlbmRlckxvZ2luKCk7CiAgICAgIGlmIChjYWxsYmFjaykgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH0pOwogIH0KCgogIGZ1bmN0aW9uIHJlbmRlckxvZ2luKCkgewogICAgdmFyIHVzZXIgPSAkJCgiI3VzZXIiKS51c2VyOwogICAgaWYgKHVzZXIubmFtZSkgewogICAgICByZW5kZXJUbygiI3VzZXIiLCAiI2xvZ2dlZF9pbl9idG4iLCB1c2VyKTsKICAgIH0gZWxzZSB7CiAgICAgIHJlbmRlclRvKCIjdXNlciIsICIjbG9nZ2VkX291dF9idG4iKTsKICAgIH0KICB9CgoKICBmdW5jdGlvbiAgaXNBZG1pblBhcnR5KCkgewogICAgcmV0dXJuICEkJCgiI3VzZXIiKS51c2VyLm5hbWUgJiYKICAgICAgJCQoIiN1c2VyIikudXNlci5yb2xlcy5pbmRleE9mKCdfYWRtaW4nKSAhPSAtMTsKICB9CgoKICBmdW5jdGlvbiBmZXRjaE9iaihrZXlBcnIsIG9iaikgewogICAgZm9yKHZhciB0bXAgPSBvYmosIGkgPSAwOyBpIDwga2V5QXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRtcCA9IHRtcFtkZWNvZGVVUklDb21wb25lbnQoa2V5QXJyW2ldKV07CiAgICB9CiAgICByZXR1cm4gdG1wOwogIH0KCgogIGZ1bmN0aW9uIHBhcnNlSlNPTihqc29uKSB7CiAgICB0cnkgewogICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uKTsKICAgIH0gY2F0Y2goZXJyKSB7CiAgICAgIHJldHVybiBqc29uOwogICAgfQogIH0KCgogIGZ1bmN0aW9uIGFkZERvY0V2ZW50cyh0cGwpIHsKICAgICQoIiNhZGRrZXkiLCB0cGwpLmJpbmQoJ21vdXNlZG93bicsIGZ1bmN0aW9uKCkgewogICAgICBpZiAoJCgiI2FkZGtleWxpc3QiKS5jaGlsZHJlbigpLmxlbmd0aCA9PT0gMCkgewogICAgICAgICQoIiNhZGRrZXlsaXN0IikuYXBwZW5kKCc8bGkgY2xhc3M9ImhlYWRlciI+TmV3IEpTT048bGk+Jyk7CiAgICAgICAgJCgiI2FkZGtleWZvcm0iKS5hcHBlbmQoJzxpbnB1dCB0eXBlPSJzdWJtaXQiIHZhbHVlPSJTYXZlIiBpZD0iYWRka2V5YnRuIiAvPicpOwogICAgICB9CgogICAgICB2YXIgaHRtbCA9ICc8bGkgY2xhc3M9InNlbGVjdHdyYXBwZXIiPjxpbnB1dCBwbGFjZWhvbGRlcj0ia2V5IiB0eXBlPSJ0ZXh0IiBuYW1lPSJrZXlbXSIgLz48L2xpPjxsaT48dGV4dGFyZWEgcGxhY2Vob2xkZXI9InZhbHVlIiBuYW1lPSJ2YWx1ZVtdIj48L3RleHRhcmVhPjwvbGk+JzsKICAgICAgJCgiI2FkZGtleWxpc3QiKS5hcHBlbmQoaHRtbCk7CiAgICB9KTsKICB9OwoKICB1cGRhdGVTZXNzaW9uKGZ1bmN0aW9uKCkgewogICAgbWFrZUxpbmtzRmFzdChkb2N1bWVudCk7CiAgICAkLmNvdWNoLmluZm8oKS50aGVuKGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgdmVyc2lvbiA9IGRhdGE7CiAgICAgIHJvdXRlci5pbml0KHdpbmRvdyk7CiAgICB9KTsKICB9KTsKCn0pKCk7Cg=="},"css/main.css":{"content_type":"text/css","revpos":1,"digest":"md5-d9X/V70lGsy0d4ThByEP1g==","data":"Ym9keSB7CiAgICBvdmVyZmxvdy14OmhpZGRlbjsKICAgIG92ZXJmbG93LXk6c2Nyb2xsOwogICAgbWFyZ2luOjBweDsKfQoKYm9keSwgcCB7CiAgICBmb250OjFlbSBIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjsKICAgIGNvbG9yOiMyMjI7Cn0KCnAgewogICAgdGV4dC1hbGlnbjogY2VudGVyOwogICAgbWFyZ2luOiAxMHB4Owp9CgppbnB1dCB7CiAgICBwYWRkaW5nOjEwcHg7Cn0KCnVsIHsKICAgIGxpc3Qtc3R5bGUtdHlwZTpub25lOwp9CgpoMyB7CiAgICBwYWRkaW5nLWxlZnQ6MTBweDsKICAgIGNvbG9yOiAjNDQ0OwogICAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICNGRkY7Cn0KCmEgewogICAgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsMCwwLDApOwogICAgY29sb3I6aW5oZXJpdDsKICAgIHRleHQtZGVjb3JhdGlvbjpub25lOwp9Cgp0YWJsZSB7CiAgICB3aWR0aDoxMDAlOwogICAgYmFja2dyb3VuZDp0cmFuc3BhcmVudDsKfQoKdGQgewogICAgcGFkZGluZzo1cHg7Cn0KCi8qIEZPUk1TICovCmlucHV0W3R5cGU9dGV4dF0saW5wdXRbdHlwZT1wYXNzd29yZF0sIHRleHRhcmVhLCBzZWxlY3QgewogICAgZm9udDoxZW0gSGVsdmV0aWNhLCBhcmlhbCwgc2Fucy1zZXJpZjsKICAgIHdpZHRoOjEwMCU7CiAgICBkaXNwbGF5OmJsb2NrOwogICAgcGFkZGluZzoxMHB4OwogICAgYm9yZGVyOjBweDsKICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLDAsMCwwKTsKICAgIC13ZWJraXQtYXBwZWFyYW5jZTpub25lOwogICAgLW1vei1hcHBlYXJhbmNlOm5vbmU7CiAgICAtd2Via2l0LWZvY3VzLXJpbmctY29sb3I6ICByZ2JhKDAsIDAsIDAsIDApOwogICAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgLW1vei1ib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIHJlc2l6ZTogbm9uZTsKICAgIG91dGxpbmU6bm9uZTsKICAgIGZvbnQtc2l6ZTogMTRweDsKICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgbGV0dGVyLXNwYWNpbmc6IDEuMXB4OwogICAgb3BhY2l0eTogMTsKICAgIHRleHQtc2hhZG93OiAxcHggMXB4IDFweCAjRkZGRkZGOwp9CgppbnB1dFt0eXBlPXRleHRdOmZvY3VzLCBpbnB1dFt0eXBlPXBhc3N3b3JkXTpmb2N1cywgdGV4dGFyZWE6Zm9jdXMgewogICAgLXdlYmtpdC1hcHBlYXJhbmNlOm5vbmU7CiAgICAtd2Via2l0LWZvY3VzLXJpbmctY29sb3I6ICByZ2JhKDAsIDAsIDAsIDApOwogICAgb3V0bGluZTogbm9uZTsKICAgIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogcmdiYSgwLCAwLCAwLCAwKTsKfQoKLmJ1dHRvbiB7CiAgICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICBkaXNwbGF5OmJsb2NrOwogICAgcGFkZGluZzoxMHB4OwogICAgd2lkdGg6MTAwJTsKfQoKaW5wdXRbdHlwZT1zdWJtaXRdLCBpbnB1dFt0eXBlPWJ1dHRvbl0sIC5idXR0b24gewogICAgZm9udDoxZW0gSGVsdmV0aWNhLCBhcmlhbCwgc2Fucy1zZXJpZjsKICAgIGJhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KGNlbnRlciB0b3AsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjRjlGOUY5LCAjRTNFM0UzKSByZXBlYXQgc2Nyb2xsIDAgMCB0cmFuc3BhcmVudDsKICAgIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGNvbG9yLXN0b3AoMCwjRjlGOUY5KSxjb2xvci1zdG9wKDEsI0UzRTNFMykpOwogICAgd2lkdGg6MTAwJTsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNCQkJCQkI7CiAgICBvdXRsaW5lOiBtZWRpdW0gbm9uZTsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgICBjdXJzb3I6cG9pbnRlcjsKICAgIC1tb3otYm9yZGVyLXJhZGl1czozcHg7CiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6M3B4OwogICAgZm9udC13ZWlnaHQ6Ym9sZDsKICAgIGZvbnQtc2l6ZToxOHB4OwogICAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICNGRkY7CiAgICBoZWlnaHQ6NDVweDsKICAgIGxpbmUtaGVpZ2h0OjI1cHg7CiAgICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7Cn0KCjo6LXdlYmtpdC1pbnB1dC1wbGFjZWhvbGRlciB7CiAgICBjb2xvcjojQkJCOwp9Cgo6LW1vei1wbGFjZWhvbGRlciB7CiAgICBjb2xvcjojQkJCOwp9CgovKiBMQVlPVVQgKi8KI2NvbnRlbnQgewogICAgdG9wOjUwcHg7CiAgICBwb3NpdGlvbjpyZWxhdGl2ZTsKICAgIC13ZWJraXQtdHJhbnNpdGlvbjogLXdlYmtpdC10cmFuc2Zvcm0gMC41cyBlYXNlLWluLW91dDsKICAgIC1tb3otdHJhbnNpdGlvbjogLW1vei10cmFuc2Zvcm0gMC41cyBlYXNlLWluLW91dDsKICAgIC13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTogaGlkZGVuOwogICAgLXdlYmtpdC1wZXJzcGVjdGl2ZToxMDAwOwp9CgoucGFuZSB7CiAgICBwb3NpdGlvbjphYnNvbHV0ZTsKICAgIHRvcDowcHg7CiAgICBtYXJnaW4tdG9wOjEwcHg7CiAgICB3aWR0aDoxMDAlOwogICAgcGFkZGluZy1ib3R0b206MTBweDsKfQoKI2hlYWRlciB7CiAgICB6LWluZGV4OjQ7CiAgICB3aWR0aDoxMDAlOwogICAgZGlzcGxheTpibG9jazsKICAgIGJhY2tncm91bmQ6IzIyMjsKICAgIGJhY2tncm91bmQ6LW1vei1saW5lYXItZ3JhZGllbnQoY2VudGVyIHRvcCAsICM0NDQsICMyMjIpCiAgICAgICByZXBlYXQgc2Nyb2xsIDAgMCB0cmFuc3BhcmVudDsKICAgIGJhY2tncm91bmQgICAgICA6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yLXN0b3AoMCUsIzQ0NCksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yLXN0b3AoMTAwJSwjMjIyKSk7CiAgICBib3JkZXItYm90dG9tOjFweCBzb2xpZCAjMDAwOwogICAgcGFkZGluZzoxMHB4IDBweDsKfQoKdWwgewogICAgbWFyZ2luOjEwcHg7CiAgICAvKiAtd2Via2l0LWJveC1zaGFkb3c6MHB4IDFweCAycHggIzY2NjsgKi8KICAgIC8qIGJveC1zaGFkb3c6MHB4IDFweCAycHggIzY2NjsgKi8KICAgIC8qIC1tb3otYm94LXNoYWRvdzogMXB4IDFweCAxcHggI0ZGRjsgKi8KICAgIGJhY2tncm91bmQtY2xpcDogcGFkZGluZy1ib3g7CiAgICBib3JkZXItcmFkaXVzOiAwLjZlbSAwLjZlbSAwLjZlbSAwLjZlbTsKICAgIC8qIGJveC1zaGFkb3c6IDAgMXB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMyk7ICovCiAgICBwYWRkaW5nOjBweDsKfQoKCmxpOmZpcnN0LWNoaWxkIHsKICAgIGJvcmRlci1yYWRpdXM6MC42ZW0gMC42ZW0gMHB4IDBweDsKfQpsaTpmaXJzdC1jaGlsZDpsYXN0LWNoaWxkIHsKICAgIGJvcmRlci1yYWRpdXM6MC42ZW07Cn0KCmxpOmxhc3QtY2hpbGQgewogICAgYm9yZGVyLXJhZGl1czowcHggMHB4IDAuNmVtIDAuNmVtOwogICAgYm9yZGVyLXdpZHRoOjFweDsKfQoKbGkgewogICAgcG9zaXRpb246cmVsYXRpdmU7CiAgICBkaXNwbGF5OiBibG9jazsKICAgIG92ZXJmbG93OmF1dG87CiAgICBiYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudChjZW50ZXIgdG9wICwgI0ZFRkVGRSwgI0VFRSkgcmVwZWF0IHNjcm9sbCAwIDAgI0VFRUVFRTsKICAgIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGNvbG9yLXN0b3AoMCwjRkVGRUZFKSxjb2xvci1zdG9wKDEsI0VFRSkpOwogICAgb3BhY2l0eToxOwogICAgZm9udC13ZWlnaHQ6Ym9sZDsKICAgIGZvbnQtc2l6ZToxNHB4OwogICAgYm9yZGVyOjBweDsKICAgIGhlaWdodDphdXRvOwogICAgYm9yZGVyOjFweCBzb2xpZCAjQkJCOwogICAgYm9yZGVyLXdpZHRoOjFweCAxcHggMHB4IDFweDsKICAgIGNvbG9yOiAjMkYzRTQ2OwogICAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICNGRkY7CiAgICBsZXR0ZXItc3BhY2luZzoxLjFweDsKfQpsaSBhIHsKICAgIGN1cnNvcjpwb2ludGVyOwp9CmxpOmZpcnN0LWNoaWxkIGE6aG92ZXIgewogICAgYm9yZGVyLXJhZGl1czowLjZlbSAwLjZlbSAwIDA7Cn0KbGk6bGFzdC1jaGlsZCBhOmhvdmVyIHsKICAgIGJvcmRlci1yYWRpdXM6MCAwIDAuNmVtIDAuNmVtOwp9Ci8qIGxpIGE6YWN0aXZlIHsgKi8KLyogICAgIGJhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KGNlbnRlciB0b3AgLCAjRURFREVELCAjREFEQURBKSByZXBlYXQgc2Nyb2xsIDAgMCAjREFEQURBOyAqLwovKiAgICAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sY29sb3Itc3RvcCgwLCNFREVERUQpLGNvbG9yLXN0b3AoMSwjREFEQURBKSk7ICovCi8qIH0gKi8KCmxpIGEsIGxpID4gc3BhbiB7CiAgICBkaXNwbGF5OmJsb2NrOwogICAgcGFkZGluZzoxNXB4Owp9CgoucGxhaW5fYnRuIHsKICAgIGJhY2tncm91bmQ6LW1vei1saW5lYXItZ3JhZGllbnQoY2VudGVyIHRvcCAsICM1NTUsICMzMzMpOwogICAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sY29sb3Itc3RvcCgwLCM1NTUpLGNvbG9yLXN0b3AoMSwjMzMzKSk7CiAgICBvcGFjaXR5OjE7CiAgICB3aWR0aDphdXRvOwogICAgZm9udC1zaXplOjE0cHg7CiAgICBib3JkZXI6MHB4OwogICAgcGFkZGluZzo2cHg7CiAgICBtYXJnaW46OXB4OwogICAgaGVpZ2h0OmF1dG87CiAgICBib3JkZXI6MXB4IHNvbGlkICMwMDA7CiAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6M3B4OwogICAgYm9yZGVyLXJhZGl1czozcHg7CiAgICBjb2xvcjojRkZGOwogICAgbGV0dGVyLXNwYWNpbmc6MS4xcHg7CiAgICBjdXJzb3I6cG9pbnRlcjsKfQoKLnBsYWluX2J0bi5hY3RpdmUgewogICAgYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQoY2VudGVyIHRvcCAsICNCOERCMjksICM1QThGMDApIHJlcGVhdCBzY3JvbGwgMCAwIHRyYW5zcGFyZW50OwogICAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sY29sb3Itc3RvcCgwLCNCOERCMjkpLGNvbG9yLXN0b3AoMSwjNUE4RjAwKSk7CiAgICBjb2xvcjp3aGl0ZTsKfQoKLnBsYWluX2J0biB7CiAgICBwb3NpdGlvbjphYnNvbHV0ZTsKfQojaGVhZGVyIHsKICAgIHBvc2l0aW9uOmZpeGVkOwp9CiNoZWFkZXIgaDEgewogICAgY29sb3I6d2hpdGU7CiAgICB0ZXh0LWFsaWduOmNlbnRlcjsKICAgIG1hcmdpbjowcHggNzBweDsKICAgIGZvbnQtc2l6ZToxLjVlbTsKICAgIHdoaXRlLXNwYWNlOm5vd3JhcDsKICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOwogICAgb3ZlcmZsb3c6aGlkZGVuOwogICAgZm9udC13ZWlnaHQ6bm9ybWFsOwogICAgbGV0dGVyLXNwYWNpbmc6IDFweDsKICAgIGZvbnQtZmFtaWx5OiBBcmlhbCxzYW5zLXNlcmlmOwp9CgpsaS5oZWFkZXIgewogICAgcGFkZGluZzogMC41ZW0gMTVweDsKICAgIGJhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KGNlbnRlciB0b3AgLCAjODFBOENFLCAjNUU4N0IwKSByZXBlYXQgc2Nyb2xsIDAgMCAjNUU4N0IwOwogICAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sY29sb3Itc3RvcCgwLCM4MUE4Q0UpLGNvbG9yLXN0b3AoMSwjNUU4N0IwKSk7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjNDU2RjlBOwogICAgY29sb3I6ICNGRkZGRkY7CiAgICB0ZXh0LXNoYWRvdzogMCAtMXB4IDFweCAjMjU0RjdBOwp9CgpsaSBpbnB1dFt0eXBlPXRleHRdLCBsaSBpbnB1dFt0eXBlPXBhc3N3b3JkXSB7CiAgICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjQ0NDQ0NDOwogICAgZGlzcGxheTogYmxvY2s7CiAgICBmb250OiBib2xkIDFlbSBIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjsKICAgIG1hcmdpbjogMTBweCAwcHg7CiAgICBwYWRkaW5nOiA0cHg7Cn0KCiNjb25maWcgbGFiZWwgewogICAgcG9zaXRpb246cmVsYXRpdmU7Cn0KbGkgbGFiZWwgewogICAgZGlzcGxheTpibG9jazsKICAgIG1hcmdpbjoxMHB4Owp9CgpvcHRpb24gewogICAgcGFkZGluZy1sZWZ0OjEwcHg7Cn0KCi5ob21lIHsKICAgIGRpc3BsYXk6YmxvY2s7CiAgICBwb3NpdGlvbjphYnNvbHV0ZTsKICAgIHRvcDoxMHB4OwogICAgbGVmdDoxNXB4OwogICAgaGVpZ2h0OjI0cHg7CiAgICB3aWR0aDoyNHB4OwogICAgYmFja2dyb3VuZDp1cmwoLi4vaW1nL2Zhdmljb24ucG5nKSBuby1yZXBlYXQ7CiAgICBiYWNrZ3JvdW5kLXNpemU6MTAwJTsKICAgIG92ZXJmbG93OmhpZGRlbjsKICAgIHRleHQtaW5kZW50Oi05OTlweDsKfQoKI2RvY3VtZW50IHsKICAgIG1hcmdpbjoxMHB4OwogICAgcGFkZGluZzo1cHg7CiAgICBiYWNrZ3JvdW5kOiNFRUU7CiAgICBib3JkZXI6MXB4IHNvbGlkICM5OTk7CiAgICBvdmVyZmxvdzphdXRvOwp9Cgoubm9uZSB7CiAgICB0ZXh0LWFsaWduOmNlbnRlcjsKICAgIHBhZGRpbmc6MTBweDsKfQoKI3N0b3JlZCB7IG1hcmdpbi1ib3R0b206MzBweDsgfQoKI3VuYXV0aG9yaXplZCB7CiAgICBtYXJnaW46MTVweCAyMHB4OwogICAgdGV4dC1hbGlnbjpjZW50ZXI7CiAgICBwYWRkaW5nOjEwcHg7CiAgICBib3JkZXItcmFkaXVzOjVweDsKICAgIC8qIC1tb3otYm94LXNoYWRvdzowcHggMXB4IDJweCAjNjY2OyAqLwogICAgLyogLXdlYmtpdC1ib3gtc2hhZG93OjBweCAxcHggMnB4ICM2NjY7ICovCiAgICBiYWNrZ3JvdW5kOiAtbW96LWxpbmVhci1ncmFkaWVudChjZW50ZXIgdG9wLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI0Y5RjlGOSwgI0UzRTNFMykgcmVwZWF0IHNjcm9sbCAwIDAgdHJhbnNwYXJlbnQ7CiAgICBiYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxjb2xvci1zdG9wKDAsI0Y5RjlGOSksY29sb3Itc3RvcCgxLCNFM0UzRTMpKTsKICAgIGJvcmRlcjogMXB4IHNvbGlkICNCQkJCQkI7Cgp9CgojdW5hdXRob3JpemVkIGgxIHsKICAgIGZvbnQtd2VpZ2h0OmJvbGQ7CiAgICBmb250LXNpemU6NDhweDsKICAgIGZvbnQtZmFtaWx5OiBjYXB0aW9uOwogICAgY29sb3I6cmVkOwp9CgouYWRtaW5wYXJ0eSB7IGNvbG9yOiM5OTk7IG1hcmdpbjoyMHB4O30KCi5sYWJlbCB7IHRleHQtYWxpZ246cmlnaHQ7IGZvbnQtd2VpZ2h0Om5vcm1hbDsgd2lkdGg6IDcwcHg7fQoKc2VsZWN0IHsKICAgIGZvbnQtd2VpZ2h0OmJvbGQ7CiAgICAtbW96LWJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgb3V0bGluZTpub25lOwogICAgd2lkdGg6MTAwJTsKICAgIC8qIHBhZGRpbmc6MTBweCAxMHB4IDEwcHggMTBweDsgKi8KICAgIGJvcmRlci1yYWRpdXM6NXB4OwogICAgLyogLW1vei1ib3gtc2hhZG93OjBweCAxcHggMnB4ICM2NjY7ICovCiAgICAvKiAtd2Via2l0LWJveC1zaGFkb3c6MHB4IDFweCAycHggIzY2NjsgKi8KICAgIGJhY2tncm91bmQ6IC1tb3otbGluZWFyLWdyYWRpZW50KGNlbnRlciB0b3AsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjRjlGOUY5LCAjRTNFM0UzKSByZXBlYXQgc2Nyb2xsIDAgMCB0cmFuc3BhcmVudDsKICAgIGJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGNvbG9yLXN0b3AoMCwjRjlGOUY5KSxjb2xvci1zdG9wKDEsI0UzRTNFMykpOwp9CgoKb3B0aW9uIHsgZm9udC13ZWlnaHQ6bm9ybWFsOyB0ZXh0LXNoYWRvdzpub25lOyBvdXRsaW5lOm5vbmU7fQoKLnNlbGVjdHdyYXBwZXIgeyBwYWRkaW5nOjEwcHg7fQouc2VsZWN0d3JhcHBlciBpbnB1dFt0eXBlPSJ0ZXh0Il0sIC5zZWxlY3R3cmFwcGVyIGlucHV0W3R5cGU9InBhc3N3b3JkIl0geyBtYXJnaW46MHB4OyB3aWR0aDoxMDAlOyB9CgpsaTpsYXN0LWNoaWxkIC5kZWxldGUgewogICAgYm9yZGVyLXJhZGl1czowcHggMHB4IDVweCAwcHg7Cn0KCi5kZWxldGUsIC5jYW5jZWwgewogICAgcG9zaXRpb246YWJzb2x1dGU7CiAgICByaWdodDowcHg7CiAgICB0b3A6MHB4OwogICAgYm9yZGVyOjBweDsKICAgIGJvcmRlci1sZWZ0OjFweCBzb2xpZCBibGFjazsKICAgIGhlaWdodDoxMDAlOwogICAgYmFja2dyb3VuZDogLW1vei1saW5lYXItZ3JhZGllbnQoY2VudGVyIHRvcCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICM2NjYsICM1NTUpIHJlcGVhdCBzY3JvbGwgMCAwIHRyYW5zcGFyZW50OwogICAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sY29sb3Itc3RvcCgwLCM2NjYpLGNvbG9yLXN0b3AoMSwjNTU1KSk7CiAgICBwYWRkaW5nOjBweCAxMHB4OwogICAgZm9udC1zaXplOiAxNHB4OwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBsZXR0ZXItc3BhY2luZzogMS4xcHg7CiAgICBvcGFjaXR5OiAxOwogICAgdGV4dC1zaGFkb3c6IDFweCAxcHggMXB4ICMwMDA7CiAgICBjb2xvcjp3aGl0ZTsKfQoKLnJlcGwgewogICAgcG9zaXRpb246cmVsYXRpdmU7Cn0KCi5zZWxlY3R3cmFwcGVyIHNlbGVjdCB7CiAgICBtYXJnaW4tYm90dG9tOjEwcHg7Cn0KCiN1c2VyIHsgY29sb3I6d2hpdGU7IHBvc2l0aW9uOmFic29sdXRlOyByaWdodDowcHg7IHRvcDowcHg7IGRpc3BsYXk6aW5saW5lOwp9Cgoud2FybmluZyB7IGNvbG9yOnJlZDsgfQoKLnVuYXZhaWxhYmxlIHsgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7IGNvbG9yOiM5OTk7IH0KCiNwYWdpbmF0b3IgewogICAgcG9zaXRpb246cmVsYXRpdmU7CiAgICBwYWRkaW5nOjEwcHg7Cn0KCiNwYWdpbmF0b3IgLm5leHQsICNwYWdpbmF0b3IgLmJhY2sgewogICAgd2lkdGg6NDAlOwp9CgoubmV4dCB7IHBvc2l0aW9uOmFic29sdXRlOyByaWdodDoxMHB4OyB0b3A6MHB4O30KLmJhY2sgeyBwb3NpdGlvbjphYnNvbHV0ZTsgdG9wOjBweDt9CgouanNvbnZhbCB7IGRpc3BsYXk6aW5saW5lOyBjb2xvcjojOTk5OyBmb250LXdlaWdodDpub3JtYWw7IHdoaXRlLXNwYWNlOiBwcmUtd3JhcDsgd2hpdGUtc3BhY2U6IC1tb3otcHJlLXdyYXA7IHRleHQtc2hhZG93Om5vbmU7IH0KCiNzYXZla2V5IHsgbWFyZ2luLWJvdHRvbToyMHB4OyB9Cgo6Oi13ZWJraXQtaW5wdXQtcGxhY2Vob2xkZXIgewogICAgZm9udC13ZWlnaHQ6IG5vcm1hbCAhaW1wb3J0YW50Owp9Cgo6LW1vei1wbGFjZWhvbGRlciB7CiAgICBmb250LXdlaWdodDogbm9ybWFsICFpbXBvcnRhbnQ7Cn0KCi5pbmZvIHsgbWFyZ2luLWJvdHRvbToyMHB4OyB9CgoubGlnaHQgeyBjb2xvcjojOTk5OyB9CgoucmlnaHQgewogICAgZGlzcGxheTogYmxvY2s7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICByaWdodDogMDsKICAgIHRvcDoxNXB4Owp9Ci5hcnJvdyB7CiAgICBkaXNwbGF5OmJsb2NrOwogICAgd2lkdGg6MTRweDsKICAgIHBhZGRpbmctbGVmdDoycHg7CiAgICBwYWRkaW5nLWJvdHRvbTozcHg7CiAgICBoZWlnaHQ6MTNweDsKICAgIGxpbmUtaGVpZ2h0OjE1cHg7CiAgICAtbW96LWxpbmUtaGVpZ2h0OjE2cHg7CiAgICBiYWNrZ3JvdW5kOiM2NjY7CiAgICBjb2xvcjogI0ZGRjsKICAgIG1hcmdpbi1yaWdodDogMTVweDsKICAgIGJvcmRlci1yYWRpdXM6OHB4OwogICAgdGV4dC1hbGlnbjpjZW50ZXI7CiAgICB0ZXh0LXNoYWRvdzpub25lOwp9CgoKQC1tb3otZG9jdW1lbnQgdXJsLXByZWZpeCgpIHsKICAgIC5hcnJvdyB7CiAgICAgICAgbGluZS1oZWlnaHQ6MTZweDsKICAgIH0KfQoKI2NyZWF0ZV9kYl9mb3JtIHsKICAgIG1hcmdpbi10b3A6MjBweDsKfQ=="},"js/google.fastbutton.js":{"content_type":"application/javascript","revpos":1,"digest":"md5-aApQlsSAXGVRA3dZlCDsgQ==","data":"dmFyIGdvb2dsZSA9IHt9Owpnb29nbGUudWkgPSB7fTsKCmdvb2dsZS51aS5GYXN0QnV0dG9uID0gZnVuY3Rpb24oZWxlbWVudCwgaGFuZGxlcikgewogIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7CiAgdGhpcy5oYW5kbGVyID0gaGFuZGxlcjsKCiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgdGhpcywgZmFsc2UpOwogIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLCBmYWxzZSk7Cn07Cgpnb29nbGUudWkuRmFzdEJ1dHRvbi5wcm90b3R5cGUuaGFuZGxlRXZlbnQgPSBmdW5jdGlvbihldmVudCkgewogIHN3aXRjaCAoZXZlbnQudHlwZSkgewogICAgY2FzZSAndG91Y2hzdGFydCc6IHRoaXMub25Ub3VjaFN0YXJ0KGV2ZW50KTsgYnJlYWs7CiAgICBjYXNlICd0b3VjaG1vdmUnOiB0aGlzLm9uVG91Y2hNb3ZlKGV2ZW50KTsgYnJlYWs7CiAgICBjYXNlICd0b3VjaGVuZCc6IHRoaXMub25DbGljayhldmVudCk7IGJyZWFrOwogICAgY2FzZSAnY2xpY2snOiB0aGlzLm9uQ2xpY2soZXZlbnQpOyBicmVhazsKICB9Cn07Cgpnb29nbGUudWkuRmFzdEJ1dHRvbi5wcm90b3R5cGUub25Ub3VjaFN0YXJ0ID0gZnVuY3Rpb24oZXZlbnQpIHsKICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKCiAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgdGhpcywgZmFsc2UpOwogIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgdGhpcywgZmFsc2UpOwoKICB0aGlzLnN0YXJ0WCA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WDsKICB0aGlzLnN0YXJ0WSA9IGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WTsKfTsKCmdvb2dsZS51aS5GYXN0QnV0dG9uLnByb3RvdHlwZS5vblRvdWNoTW92ZSA9IGZ1bmN0aW9uKGV2ZW50KSB7CiAgaWYgKE1hdGguYWJzKGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WCAtIHRoaXMuc3RhcnRYKSA+IDEwIHx8CiAgICAgIE1hdGguYWJzKGV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSAtIHRoaXMuc3RhcnRZKSA+IDEwKSB7CiAgICB0aGlzLnJlc2V0KCk7CiAgfQp9OwoKZ29vZ2xlLnVpLkZhc3RCdXR0b24ucHJvdG90eXBlLm9uQ2xpY2sgPSBmdW5jdGlvbihldmVudCkgewogIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogIHRoaXMucmVzZXQoKTsKICB0aGlzLmhhbmRsZXIoZXZlbnQpOwoKICBpZiAoZXZlbnQudHlwZSA9PSAndG91Y2hlbmQnKSB7CiAgICBnb29nbGUuY2xpY2tidXN0ZXIucHJldmVudEdob3N0Q2xpY2sodGhpcy5zdGFydFgsIHRoaXMuc3RhcnRZKTsKICB9Cn07Cgpnb29nbGUudWkuRmFzdEJ1dHRvbi5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbigpIHsKICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCB0aGlzLCBmYWxzZSk7CiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLCBmYWxzZSk7Cn07Cgpnb29nbGUuY2xpY2tidXN0ZXIgPSB7fTsKCmdvb2dsZS5jbGlja2J1c3Rlci5wcmV2ZW50R2hvc3RDbGljayA9IGZ1bmN0aW9uKHgsIHkpIHsKICBnb29nbGUuY2xpY2tidXN0ZXIuY29vcmRpbmF0ZXMucHVzaCh4LCB5KTsKICB3aW5kb3cuc2V0VGltZW91dChnb29nbGUuY2xpY2tidXN0ZXIucG9wLCAyNTAwKTsKfTsKCmdvb2dsZS5jbGlja2J1c3Rlci5wb3AgPSBmdW5jdGlvbigpIHsKICBnb29nbGUuY2xpY2tidXN0ZXIuY29vcmRpbmF0ZXMuc3BsaWNlKDAsIDIpOwp9OwoKZ29vZ2xlLmNsaWNrYnVzdGVyLm9uQ2xpY2sgPSBmdW5jdGlvbihldmVudCkgewogIGZvciAodmFyIGkgPSAwOyBpIDwgZ29vZ2xlLmNsaWNrYnVzdGVyLmNvb3JkaW5hdGVzLmxlbmd0aDsgaSArPSAyKSB7CiAgICB2YXIgeCA9IGdvb2dsZS5jbGlja2J1c3Rlci5jb29yZGluYXRlc1tpXTsKICAgIHZhciB5ID0gZ29vZ2xlLmNsaWNrYnVzdGVyLmNvb3JkaW5hdGVzW2kgKyAxXTsKICAgIGlmIChNYXRoLmFicyhldmVudC5jbGllbnRYIC0geCkgPCAyNSAmJiBNYXRoLmFicyhldmVudC5jbGllbnRZIC0geSkgPCAyNSkgewogICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgIH0KICB9Cn07Cgpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGdvb2dsZS5jbGlja2J1c3Rlci5vbkNsaWNrLCB0cnVlKTsKZ29vZ2xlLmNsaWNrYnVzdGVyLmNvb3JkaW5hdGVzID0gW107"},"js/renderer.js":{"content_type":"application/javascript","revpos":1,"digest":"md5-uyPOsxpd1+8sw9EnOlVGwQ==","data":"dmFyIFJlbmRlcmVyID0gKGZ1bmN0aW9uKCkgewoKICB2YXIgcGFuZVdpZHRoID0gMDsKICB2YXIgY3VycmVudE9mZnNldCA9IDA7CiAgdmFyIGN1cnJlbnRfdHBsID0gbnVsbDsKICB2YXIgbGFzdFBhbmUgPSBudWxsOwoKICAkKHdpbmRvdykuYmluZCgicmVzaXplIiwgZnVuY3Rpb24gKCkgewogICAgcGFuZVdpZHRoID0gJCgiYm9keSIpLndpZHRoKCk7CiAgfSk7CiAgJCh3aW5kb3cpLnJlc2l6ZSgpOwoKCiAgZnVuY3Rpb24gdHJhbnNmb3JtWShkb20sIHgpIHsKICAgIGlmIChNb2Rlcm5penIuY3NzdHJhbnNmb3JtczNkKSB7CiAgICAgIGRvbS5jc3MoIi1tb3otdHJhbnNmb3JtIiwgInRyYW5zbGF0ZTNkKDAsICIgKyB4ICsgInB4LCAwKSIpCiAgICAgICAgLmNzcygiLXdlYmtpdC10cmFuc2Zvcm0iLCAidHJhbnNsYXRlM2QoMCwgIiArIHggKyAicHgsIDApIik7CiAgICB9IGVsc2UgewogICAgICBkb20uY3NzKCItbW96LXRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoMCwgIiArIHggKyAicHgpIikKICAgICAgICAuY3NzKCItd2Via2l0LXRyYW5zZm9ybSIsICJ0cmFuc2xhdGUoMCwgIiArIHggKyAicHgpIik7CiAgICB9CiAgfQoKICBmdW5jdGlvbiB0cmFuc2Zvcm1YKGRvbSwgeCkgewogICAgaWYgKE1vZGVybml6ci5jc3N0cmFuc2Zvcm1zM2QpIHsKICAgICAgZG9tLmNzcygiLW1vei10cmFuc2Zvcm0iLCAidHJhbnNsYXRlM2QoIiArIHggKyAicHgsIDAsIDApIikKICAgICAgICAuY3NzKCItd2Via2l0LXRyYW5zZm9ybSIsICJ0cmFuc2xhdGUzZCgiICsgeCArICJweCwgMCwgMCkiKTsKICAgIH0gZWxzZSB7CiAgICAgIGRvbS5jc3MoIi1tb3otdHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiICsgeCArICJweCwgMCkiKQogICAgICAgIC5jc3MoIi13ZWJraXQtdHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgiICsgeCArICJweCwgMCkiKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHJlbmRlcih0cGwsIGRhdGEsIG9wdHMsIGNhbGxiYWNrKSB7CgogICAgd2luZG93LnNjcm9sbFRvKDAsIDApOwoKICAgIG9wdHMgPSBvcHRzIHx8IHt9OwogICAgZGF0YSA9IGRhdGEgfHwge307CgogICAgdmFyIHJlbmRlcmVkID0gTXVzdGFjaGUudG9faHRtbCgkKCIjIiArIHRwbCkuaHRtbCgpLCBkYXRhKSwKICAgICRwYW5lID0gJCgiPGRpdiBjbGFzcz0ncGFuZSc+PGRpdiBjbGFzcz0nY29udGVudCc+IiArIHJlbmRlcmVkICsgIjwvZGl2PjwvZGl2PiIpOwoKICAgIG1ha2VMaW5rc0Zhc3QoJHBhbmUpOwoKICAgIGlmIChjYWxsYmFjaykgewogICAgICBjYWxsYmFjaygkcGFuZSk7CiAgICB9CgogICAgaWYgKG9wdHMubm90cmFuc2l0aW9uIHx8IChvcHRzLnJvdXRlciAmJiBvcHRzLnJvdXRlci5yZWZyZXNoKSkgewoKICAgICAgJHBhbmUuY3NzKHsibGVmdCI6Y3VycmVudE9mZnNldH0pLmFwcGVuZFRvKCQoIiNjb250ZW50IikpOwogICAgICBpZiAobGFzdFBhbmUpIHsKICAgICAgICBsYXN0UGFuZS5yZW1vdmUoKTsKICAgICAgfQogICAgICBsYXN0UGFuZSA9ICRwYW5lOwogICAgLy8gfSBlbHNlIGlmICh0cmFuc2l0aW9uID09PSAnc2xpZGVVcCcpIHsKCiAgICAvLyAgICQoIiNjb250ZW50Iikub25lKCJ3ZWJraXRUcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmQiLCBmdW5jdGlvbigpIHsKICAgIC8vICAgICBpZiAobGFzdFBhbmUpIHsKICAgIC8vICAgICAgIGxhc3RQYW5lLmhpZGUoKTsKICAgIC8vICAgICB9CiAgICAvLyAgIH0pOwoKICAgIC8vICAgc2xpZGVQYW5lID0gJHBhbmUuYWRkQ2xhc3MoInNsaWRlcGFuZSIpCiAgICAvLyAgICAgLmNzcyh7bGVmdDpjdXJyZW50T2Zmc2V0LCB0b3A6LSQod2luZG93KS5oZWlnaHQoKSwgJ3otaW5kZXgnOiAzfSkKICAgIC8vICAgICAuYXBwZW5kVG8oIiNjb250ZW50Iik7CiAgICAvLyAgIHRyYW5zZm9ybVkoc2xpZGVQYW5lLCAkKHdpbmRvdykuaGVpZ2h0KCkpOwoKICAgIC8vIH0gZWxzZSBpZiAoc2xpZGVQYW5lKSB7CgogICAgLy8gICBpZiAobGFzdFBhbmUpIHsKICAgIC8vICAgICBsYXN0UGFuZS5yZW1vdmUoKTsKICAgIC8vICAgICBsYXN0UGFuZSA9IG51bGw7CiAgICAvLyAgIH0KCiAgICAvLyAgICRwYW5lLmNzcyh7ImxlZnQiOmN1cnJlbnRPZmZzZXR9KS5hcHBlbmRUbygkKCIjY29udGVudCIpKTsKICAgIC8vICAgdHJhbnNmb3JtWShzbGlkZVBhbmUsIDApOwogICAgLy8gICBsYXN0UGFuZSA9ICRwYW5lOwoKICAgIC8vICAgc2xpZGVQYW5lLm9uZSgid2Via2l0VHJhbnNpdGlvbkVuZCB0cmFuc2l0aW9uZW5kIiwgZnVuY3Rpb24oKSB7CiAgICAvLyAgICAgc2xpZGVQYW5lLnJlbW92ZSgpOwogICAgLy8gICAgIHNsaWRlUGFuZSA9IG51bGw7CiAgICAvLyAgIH0pOwoKICAgIH0gZWxzZSB7CgogICAgICBpZiAoY3VycmVudF90cGwpIHsKICAgICAgICB2YXIgZ29CYWNrID0gKG9wdHMucm91dGVyICYmIChvcHRzLnJvdXRlci5iYWNrIHx8IG9wdHMucm91dGVyLmhvbWUpKTsKICAgICAgICBjdXJyZW50T2Zmc2V0ICs9ICFnb0JhY2sgPyBwYW5lV2lkdGggOiAtcGFuZVdpZHRoOwogICAgICB9CgogICAgICB2YXIgdG1wID0gbGFzdFBhbmU7CiAgICAgICQoIiNjb250ZW50Iikub25lKCJ3ZWJraXRUcmFuc2l0aW9uRW5kIHRyYW5zaXRpb25lbmQiLCBmdW5jdGlvbigpIHsKICAgICAgICBpZiAodG1wKSB7CiAgICAgICAgICB0bXAucmVtb3ZlKCk7CiAgICAgICAgICB0bXAgPSBudWxsOwogICAgICAgIH0KICAgICAgfSk7CgogICAgICB0cmFuc2Zvcm1YKCRwYW5lLCBjdXJyZW50T2Zmc2V0KTsKICAgICAgJHBhbmUuYXBwZW5kVG8oJCgiI2NvbnRlbnQiKSk7CgogICAgICB0cmFuc2Zvcm1YKCQoIiNjb250ZW50IiksIC1jdXJyZW50T2Zmc2V0KTsKICAgICAgbGFzdFBhbmUgPSAkcGFuZTsKICAgIH0KICAgIGN1cnJlbnRfdHBsID0gdHBsOwogIH0KCiAgcmV0dXJuIHsKICAgIHJlbmRlcjogcmVuZGVyCiAgfTsKfSk7Cg=="},"img/icon72.png":{"content_type":"image/png","revpos":1,"digest":"md5-SnF2mrXaNV1rbKg6BXbouQ==","data":"iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABV0RVh0Q3JlYXRpb24gVGltZQAxNS84LzExVE0haAAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAABFASURBVHic3Zx7bFRXfsc/9zXvh+3BztjBxAZsU54mlCR41SUlDyV05bBs0t20SGmlalsptCFKRCNUtftHpUqNSGmkpauNKjVSopaqVQklq1WUBySLSQIhTgIFu4mNMZgBeyb2PD1z79zbP8Z3PGPP4455Of1KiPG955577vf+zu91fucKlEBk/EgbsAfYAdwz97ysBPD4NhOb6iOrRUt1UQSvvwdZCZBJj5KI9Vdtp6lhYlN9Zdt5fJtRbMGq7UxIsg9f3VZiU31oanju6RHgMHCgobH34tyT4twDkfEjB4Bh4DlKkAOgqWGyWhSvvwdBUKoOMKtNAWCztyJKrrLtZCVQ9H8piJILxRYs6rcSBEHB6+9BU8OlyIHcMz4HDEfGjxyIjB+pK7qf+SMyfqQuMn6kf6ZxVaSSA/mbVyMpq6fyv+32Vivdl4XD0V6y31IoHF8qOWCl++eAY4UkFUrQYWCD1YGab0SSfbg8ayq2LXzTdmd7yTZzpUaSffPaCIKCzTFLcDUJcnnWIMm+StJTChsoIEkGiIwf+Rmw1WoPJlLJAbz+Hmz2VjQtSjo1VLJdoZ4SBIVo3Etk4ht03SCVyoAA6cx17A4dAKfTyXTqElktisOh4HY7cLvtNAQ6iqS10kM7XV3YZqTVovQUYgPwM2CPMMPURcAvCAqGodbUk6lYAeLRU6iZUNH5CxeucO5/Rrl0WeTy5Suk02kGBmoeMABdXR34fHXU19ezYsU9NAamWLXqbpYEvAiCkG+n2IJ4fJsBLCvyQoiSCz2bBGiXyVkqP4DT1Ymqhuc9ZCWYUgTg9nYTm+ojHpvg/Q++4qMT5/nss29qGlwlDAz877xjra1LaF0a4Omf/A6ruu5Gkn24vd1F46sFii2IogRIJs7BjAQdBp4wG7i93QiCQiLWb1mafHVb8zojFpvglf1/zX8f/bSmgd0M/NW+H9O7Yzei6ARqkx5BUHB7uzEMtdAV+UKIjB+ZZEaCzIZefw+i5CQR67ckTTZHK25P7q0dOnSIl19+ueh8MBiko6ODjo4OgsEgHo8n/8/tduenh9vtBiCRSOByudB1nXg8TiwWIxaLMT4+zsTEBJFIhHPnzjE4ODhvLEePHiUYzLkBpaZ8KSi2IG5vN3o2RXTyeNE5uZAcAMNQiU314fX34PFtRs2EqkpTZnoUp6sLUXTS1zf7xh566CGeeeYZnE4nX3/9NUNDQ3z55ZfEYrH8g8fj8Xz7eDyOYRh4PB5EUcz/9nq9eL1eHA4HLS0tbNy4kaeeeoqWlhbeeecd3nzzTUZGRgD4+OOP2bFjB7qeqkqOKTWKLUhWi5aUNrnUhSZJvvqtKLYg/oaHiEdPVbQaqeQAotRFOp1GURRefPFFZFnmlVde4auvviKbzVYcbCFisZildg0NDWzfvp2XXnqJQ4cOcezYMcbGxvLjqQRTagRByZNTSgjmedImDEMlHv0Uw1Dz087lXlPWKcxMj5JMfsvp06fZsGED7e3t7N+/n/7+/prIqQWRSIQ33niDAwcOsGvXrvwxXU+RmR4teY0gKLjca/D4NmNa7UT887IzpCxBwDxm7c7l+Oq3lg0FNPUiAFu2bOHtt98mmUxaetAbxcDAANFolJaWFkRRLCs9shLAV78Vu3M5MDtTKsWTFQmCHEnx6KnZC0RnWWnKTF8BoKWlhdHR0m/wViEejxMIBIDsPOkxpcbr78lbOMBSsF1SB82FpoZJxPvzlgpy0qTYm0nEPp+nm9atW8cnn3zCyMgI+/fvR9M0K7epGaIoEgqF2LdvH7quI8symjZZ1EZWAri9G4uIAUjE+y1lIiwRBOTfSiFJpjRNJweLxHpoaIhLly5hs9lIJBI8++yzVm9TE7Zv387atWuLjunarFV0udfkp1MhEvH+sjpqLiwTBDmSZMk376YOVyeKLUgyVZtLf6sgyT7cno0lA97p5KBlcgBEM7diFcnEOTLp+TeQZB+CtL6mvm4FJLmuyLMvRCY9WlPoIQgKshnUqZkQmUwINR2qGmKYrrhtTm5HFKvq/FsOSfaXPF4tm2lCEBQUexCbLYhiCyLHpvpwezfmgjRbEDzWyErGzyFJ/qI3pev6wp7qFiOrRSuSM5cUE7qeQtbUMFORd3G6urA723ONC8jKalHS6VHUTMhMAQDFIUkpcV4sKBdCmKlbu7113vgNQyWdGiaVHJhV0qnkAOn0KG5Pd5EjKMk+XPIacK+ZR1ZhSDLXjC4GzHV0K5FiQs2ESCbO5YWhyIrp2SSxqT4UWxCXZ+28h55LlqZOkE6PEo9+ms8JLRaYIYQoObHbO1HszRVfoq6nSMbPzgtwS5p5NRMi+m0Yh3M5DldnyQ4l2Yck50y+rqcsOV23E1ktisd3nyXJnk4OMp0aKqlvy/pBhqGWnXZzIYrOmYGMWRv9bUCl8ZowI4RC3Tqvn2qdmNPO5mitGM1/l2AYas6fs+Aw1hRqqOkQTldnSff9u4J0aohUctByOrmmUMNkPjftSrvyixWaGiaZOFuzrpQVW9ASm1ktmm+X1aJEJ49jdy7H6epc1NMup0sH563ZCYJi6QXnQ42bgcL88mKBmQtyuSuv/paDuNjM82KDHJ08no9FFCWArCxZlF7x7YKup9DUidwCajqUU9KGoZKZHs2bPdMlzxEWqFnHpFKpW5aov9kwDBVNDedXlOf6RCWtmJ5Nkk4N5RWbrARQlCXIM4RVgyRJSJJ0E4Z/a2BWe2QyV29eTtrMOwuCMkNYbjouNlOfVjXGwlNo2SyKJCGJIh6niMwEmcx1NDVcU4FGTX4QsKjJAfjmygS/fOs3aNlcbirgc7Opaxmr7mnCY1eQoabijKoESbIPm63Z8vS600hMp/PkAISjCd45dZ6zw2P8eNu9eF1NeHzyzBQLoakTFafZPIJEyYWsBLDZggtS0IsVYxNTHP7oSx6977dobaoveuGmos4RFi5S1LKpU2z24P97Ez98NUwoHGWJ34PTPvvii7KozJr6TDqEXBd47E6N946g7+wQK5c2Ek1OA+B22BBFEVkUsCm5CSWKTmz2Vmz2VutKujAWK4Qk+75T03B8Ms7+f3uv6NjyliVs3bCSxgYvPpej6Jw8Gf51zXWJkNNVc/NDVstWFgK73c6mTZv4vSd20tzcgt/vQ9cNtKzGn/z0T3G5ytdfV8PQ2ATXJ2Ps/P4GMqnzSMbl/Dl5IeTciSj+5VcO4FsS5ItvQpw5c5FEKo1NkWms87D6vgdprnfzwJYefv2b0wvqP55M8+7pAZ58cA2yHsIwcvUENflBshLA5V57W/2f+vp6fv5Pv+TSZJpfvV+8tpVRNa6MT3JlfJLGOg+9j/0Aw+bmYuX68rIYm5ji2rdp2pcEUDPXAAvlLzBbqnYn1sCef3EvlybTfNj/dcV245Nx/vP4F2y+734a6zwLvt/Fq2Fi07PXV5WgO5GLbmlpAcDhcNDesYo336u+ZAwwGU9xJRxnw8q7OXnuIookkpjOoGrWA2dVy6IoHpi5pCxBkuzD5V5b1Xs2DBU1E7phAhsbG3n2L57nB48/Sngyp+wDdV7+/f0zNfVzdniMP3hkM0ub6tF1A4dNJpqY5vxIiHPDV4u87FJw2hUMfTr/9zyCBEGpmpjX9RRq+mo+RTBbBnylpocxsWXLFp57YS/fXIvxN//8NtkbWOOPJqb5xeGPio7dE2xga3cHHa1N/McHn1e8vi1Yj0MeRpuxXUUEFVZ+zoVJSjo9WhS75CRtYelMgNbWVn66ew/vfTHC6PVvF9xPJYyEIvzru6d5+LdX8cjmVbx76gJGiXbtzQGal9Qh6Lb8MRlyPk2pxcHC5eVSAZ0k+yzvGSuHP3v2zxkJp24ZOSZULcv7ZwZ47snf5dT5ESbjxaYu2OBj68YOXHYbNmVzflFRdrq6ipaXy1VzzIUouW6YHLfbzbp163ntV7dn20I6o/HxuWHuX93G8RmrGPC7WdvezKauVnTtKpJgB3zISgB//UPIDldnPpKtRooJQVDweDffsGLu6uoimkzVZGVuFGMTUzy8uYvVbfUAaJqKYITJJD7IGZzp4iqQmkMNs6i8lD+k6+maBuvxeMjc5tR1YjqDQ84iqicBMLWNUaCUClPONYcaHt/mkuSkU0NcD30y77jT6eR73/teyb6am5up8zhKnrtV8Lkd+TDCCmoKNdze+Yo8t2Xh1Eyut/jG4XCY06dPs2XLlpL9CYLAXQ11Jc/dKiy7qx5ZliBjrb1lgtze7nlFm9V2AmUyGQ4ePFixX4+/gW2bunj/s4XtQqwFdR4n7S1LqPfVk0l3WyrqtBSL2Z3Li8gxpSYePVVEjiDk+A6FQnR2li68moufv/oPdAT9tDbVW2p/I3jsgdXUuXMZU5u9tWiDcDlUJciMxUyomRBTkfdKrgzYbHcBcOLECR5//HF8vuqB7fXr1/n7v/tbNrYF2Lapi+aAD+kmlhP73A66O5aye+f3WRrQcCqzWxXcnu6qJFWcYoU7Cc2tiuWWTARBQZ4h6OTJk6xfv54XXniBEydOcOzYMTKZ8pP+5MmTDA8P8/tP/yHb7rufZUubuRaeQqtk/gUBWZKQFRkMSKfTGIaBYlNw2B2zhZuCQTYbxSX1k81EiWeKIwa3pxtDV8s/V2T8SCmvu8hL1tTwvOk0F05XF30fX2bv3r35Yz09PezcuZNly5YxMTHB4OAgoVCIUChELBbDMIx8RUgymSyqs3a5XIiiiN/vR9f1/K7D5uZmVq9eTWdnJ2fPnuXo0aN8+OGH+et27drFnj175u0fmYvC6KHStqiSEmSSA7mtB+X2w5sQBAW7s536+kTR8b6+Pvr6+nC73XR1dbFy5UqCwSDr16/H48nlXMz/m5qaigi6du0akiSRzWbRdT2/b/Xq1au89dZbnDp1qmS5jZl6tTvbyxZmwmxpoZkd9fp7SpJUcl3M6+/JVadXKXA04XAuRxCU/KbdUKhYXBOJBGfOnOHMmdpSFwvBmjU5fWlWrFSrQ0ynhlAzIdyeXEJwKvJeEalF2tCck6nkILGpPkvkAHlF5/F4aGtbWtMDmWhoaODVV1/ltddeK+tYVsOKFUFWr569v9PVZek6U5pSycH8Vk0TIrnPw8x02Eki3l91ShXC5mjNLzZmtShP7lzYjp/e3l50XefMmTPs3r17QX3s3PEAgn4+P01E0WnJlJtIp4ZIxPuLvkUiAsfMPwpL8K3CfEtmZfuG9a3se+lHrFhR2zYrwzBwOp0sW7asosUrh30v/YhHH9kwb5OuVSkyoWeThQ7kcekv9z4N8JOaR0ROeszP3cSjn5Cd2Q7Z3tbEtm3r8ftdCMDY1eq5ngsXLtDU1ITdbufgwYNEIpGq1yxb1sgPd9zPC88/wbq1y/LHDT1NNhvHZr8bQVBuZCfAPwoAkfEjFynzMaVK8Dc8jCg6q1q6dMbF+QGR8+fPE4mMc+XyecbHp0gkc9H/+Hj5wd/V5AdBwONxELyrDn/dPbS1reDee+9lRXuy4l5+u3M5LvcadD3FVOTdWh9vCmgzCdoB/FctV5tOpJWNaoVJuUr7RWX7g/nfWvpYyTbmQwNVfR2YjSFr2ac6g+cbGnsPiAANjb2Hgddrudrp6qq6Uc2EKOWUuGGoqOnyxUsejwOv14unQgokMz1asL2peiVKIpbb3VyjLnq9obH3ABSY+YbG3j/CIkmmZbD6ZRVRzDlvhQ9XCqaeqKQvzGWmwn6rITbVhyDIVi3a6zNc5O5ReGbmxA8pMP2l4HAsz3+2wgrMHNL09LCl9tX6TSUHi/q10l9sqg9b5Q3MU8AfF5IDJaL5hsbeww2NvW3kiHqdOWQptiDT00OWrYL51Tsr+W5T4VbrW8/OKudKX9UrRFaLksmE5pI6ArxFjpi6hsbef5l73f8Bnxw5jnfHbT4AAAAASUVORK5CYII="},"js/utils.js":{"content_type":"application/javascript","revpos":1,"digest":"md5-4/0a+vuhIzYZ54ma+tXQAg==","data":"CnZhciBVdGlscyA9IHt9OwoKICAgIC8vIEZpbGUgc2l6ZSBwcmV0dHkgcHJpbnRpbmcKVXRpbHMuZm9ybWF0U2l6ZSA9IGZ1bmN0aW9uKHNpemUpIHsKICB2YXIganVtcCA9IDUxMjsKICBpZiAoc2l6ZSA8IGp1bXApIHJldHVybiBzaXplICsgIiBieXRlcyI7CiAgdmFyIHVuaXRzID0gWyJLQiIsICJNQiIsICJHQiIsICJUQiIsICJQQiIsICJFQiIsICJaQiIsICJZQiJdOwogIHZhciBpID0gMDsKICB3aGlsZSAoc2l6ZSA+PSBqdW1wICYmIGkgPCB1bml0cy5sZW5ndGgpIHsKICAgIGkgKz0gMTsKICAgIHNpemUgLz0gMTAyNAogIH0KICByZXR1cm4gc2l6ZS50b0ZpeGVkKDEpICsgJyAnICsgdW5pdHNbaSAtIDFdOwp9CgpVdGlscy5pc01vYmlsZSA9IGZ1bmN0aW9uKCkgewogIHJldHVybiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkKICAgIC5tYXRjaCgvKGFuZHJvaWR8aXBob25lfGlwb2R8aXBhZCkvKSAhPT0gbnVsbDsKfTsKCgpmdW5jdGlvbiBsaW5rVXAoYm9keSwgcGVyc29uX3ByZWZpeCwgdGFnX3ByZWZpeCkgewoKICAvL2JvZHkgPSBNdXN0YWNoZS5lc2NhcGUoYm9keSk7CiAgcGVyc29uX3ByZWZpeCA9IHBlcnNvbl9wcmVmaXggfHwgIiMhL21lbnRpb25zLyI7CiAgdGFnX3ByZWZpeCA9IHRhZ19wcmVmaXggfHwgIiMhL3RhZ3MvIjsKCiAgdmFyIHRtcCA9IGJvZHkucmVwbGFjZSgvKChmdHB8aHR0cHxodHRwcyk6XC9cLyhcdys6ezAsMX1cdypAKT8oXFMrKSg6WzAtOV0rKT8oXC98XC8oW1x3IyE6Lj8rPSYlQCFcLVwvXSkpPykvZ2ksZnVuY3Rpb24oYSkgewogICAgcmV0dXJuICc8YSB0YXJnZXQ9Il9ibGFuayIgaHJlZj0iJythKyciPicrYSsnPC9hPic7CiAgfSk7CgogIGZ1bmN0aW9uIHRyYW5zZm9ybVRleHQoc3RyKSB7CiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xAKFtcd1wtXSspL2csIGZ1bmN0aW9uKHVzZXIsbmFtZSkgewogICAgICByZXR1cm4gJzxhIGhyZWY9IicrcGVyc29uX3ByZWZpeCtlbmNvZGVVUklDb21wb25lbnQobmFtZSkrJyI+Jyt1c2VyKyc8L2E+JzsKICAgIH0pLnJlcGxhY2UoL1wjKFtcd1wtXC5dKykvZyxmdW5jdGlvbih3b3JkLHRhZykgewogICAgICByZXR1cm4gJzxhIGhyZWY9IicrdGFnX3ByZWZpeCtlbmNvZGVVUklDb21wb25lbnQodGFnKSsnIj4nK3dvcmQrJzwvYT4nOwogICAgfSk7CiAgfTsKCiAgZnVuY3Rpb24gcmVwbGFjZVRhZ3MoZG9tKSB7CiAgICB2YXIgaSwgdG1wOwogICAgZm9yIChpID0gMDsgaSA8IGRvbS5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7CiAgICAgIHRtcCA9IChkb20uY2hpbGROb2Rlc1tpXS5ub2RlVHlwZSA9PT0gMyAmJgogICAgICAgICAgICAgJChkb20uY2hpbGROb2Rlc1tpXSkucGFyZW50cygiYSIpLmxlbmd0aCA9PT0gMCkKICAgICAgICA/ICQoIjxzcGFuPiIrdHJhbnNmb3JtVGV4dChkb20uY2hpbGROb2Rlc1tpXS50ZXh0Q29udGVudCkrIjwvc3Bhbj4iKVswXQogICAgICAgIDogcmVwbGFjZVRhZ3MoZG9tLmNoaWxkTm9kZXNbaV0pOwoKICAgICAgZG9tLnJlcGxhY2VDaGlsZCh0bXAsIGRvbS5jaGlsZE5vZGVzW2ldKTsKICAgIH0KICAgIHJldHVybiBkb207CiAgfTsKCiAgdmFyIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogIGRpdi5pbm5lckhUTUwgPSB0bXA7CiAgcmV0dXJuIHJlcGxhY2VUYWdzKGRpdikuaW5uZXJIVE1MOwoKICAvL3JldHVybiB0bXA7Cn07Cgp2YXIgZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uICgpIHsKICAgIHZhciAgICB0b2tlbiA9IC9kezEsNH18bXsxLDR9fHl5KD86eXkpP3woW0hoTXNUdF0pXDE/fFtMbG9TWl18IlteIl0qInwnW14nXSonL2csCgkJdGltZXpvbmUgPSAvXGIoPzpbUE1DRUFdW1NEUF1UfCg/OlBhY2lmaWN8TW91bnRhaW58Q2VudHJhbHxFYXN0ZXJufEF0bGFudGljKSAoPzpTdGFuZGFyZHxEYXlsaWdodHxQcmV2YWlsaW5nKSBUaW1lfCg/OkdNVHxVVEMpKD86Wy0rXVxkezR9KT8pXGIvZywKCQl0aW1lem9uZUNsaXAgPSAvW14tK1xkQS1aXS9nLAoJCXBhZCA9IGZ1bmN0aW9uICh2YWwsIGxlbikgewoJCQl2YWwgPSBTdHJpbmcodmFsKTsKCQkJbGVuID0gbGVuIHx8IDI7CgkJCXdoaWxlICh2YWwubGVuZ3RoIDwgbGVuKSB2YWwgPSAiMCIgKyB2YWw7CgkJCXJldHVybiB2YWw7CgkJfTsKCgkvLyBSZWdleGVzIGFuZCBzdXBwb3J0aW5nIGZ1bmN0aW9ucyBhcmUgY2FjaGVkIHRocm91Z2ggY2xvc3VyZQoJcmV0dXJuIGZ1bmN0aW9uIChkYXRlLCBtYXNrLCB1dGMpIHsKCQl2YXIgZEYgPSBkYXRlRm9ybWF0OwoKCQkvLyBZb3UgY2FuJ3QgcHJvdmlkZSB1dGMgaWYgeW91IHNraXAgb3RoZXIgYXJncyAodXNlIHRoZSAiVVRDOiIgbWFzayBwcmVmaXgpCgkJaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZGF0ZSkgPT0gIltvYmplY3QgU3RyaW5nXSIgJiYgIS9cZC8udGVzdChkYXRlKSkgewoJCQltYXNrID0gZGF0ZTsKCQkJZGF0ZSA9IHVuZGVmaW5lZDsKCQl9CgoJCS8vIFBhc3NpbmcgZGF0ZSB0aHJvdWdoIERhdGUgYXBwbGllcyBEYXRlLnBhcnNlLCBpZiBuZWNlc3NhcnkKCQlkYXRlID0gZGF0ZSA/IG5ldyBEYXRlKGRhdGUpIDogbmV3IERhdGU7CgkJaWYgKGlzTmFOKGRhdGUpKSB0aHJvdyBTeW50YXhFcnJvcigiaW52YWxpZCBkYXRlIik7CgoJCW1hc2sgPSBTdHJpbmcoZEYubWFza3NbbWFza10gfHwgbWFzayB8fCBkRi5tYXNrc1siZGVmYXVsdCJdKTsKCgkJLy8gQWxsb3cgc2V0dGluZyB0aGUgdXRjIGFyZ3VtZW50IHZpYSB0aGUgbWFzawoJCWlmIChtYXNrLnNsaWNlKDAsIDQpID09ICJVVEM6IikgewoJCQltYXNrID0gbWFzay5zbGljZSg0KTsKCQkJdXRjID0gdHJ1ZTsKCQl9CgoJCXZhcglfID0gdXRjID8gImdldFVUQyIgOiAiZ2V0IiwKCQkJZCA9IGRhdGVbXyArICJEYXRlIl0oKSwKCQkJRCA9IGRhdGVbXyArICJEYXkiXSgpLAoJCQltID0gZGF0ZVtfICsgIk1vbnRoIl0oKSwKCQkJeSA9IGRhdGVbXyArICJGdWxsWWVhciJdKCksCgkJCUggPSBkYXRlW18gKyAiSG91cnMiXSgpLAoJCQlNID0gZGF0ZVtfICsgIk1pbnV0ZXMiXSgpLAoJCQlzID0gZGF0ZVtfICsgIlNlY29uZHMiXSgpLAoJCQlMID0gZGF0ZVtfICsgIk1pbGxpc2Vjb25kcyJdKCksCgkJCW8gPSB1dGMgPyAwIDogZGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpLAoJCQlmbGFncyA9IHsKCQkJCWQ6ICAgIGQsCgkJCQlkZDogICBwYWQoZCksCgkJCQlkZGQ6ICBkRi5pMThuLmRheU5hbWVzW0RdLAoJCQkJZGRkZDogZEYuaTE4bi5kYXlOYW1lc1tEICsgN10sCgkJCQltOiAgICBtICsgMSwKCQkJCW1tOiAgIHBhZChtICsgMSksCgkJCQltbW06ICBkRi5pMThuLm1vbnRoTmFtZXNbbV0sCgkJCQltbW1tOiBkRi5pMThuLm1vbnRoTmFtZXNbbSArIDEyXSwKCQkJCXl5OiAgIFN0cmluZyh5KS5zbGljZSgyKSwKCQkJCXl5eXk6IHksCgkJCQloOiAgICBIICUgMTIgfHwgMTIsCgkJCQloaDogICBwYWQoSCAlIDEyIHx8IDEyKSwKCQkJCUg6ICAgIEgsCgkJCQlISDogICBwYWQoSCksCgkJCQlNOiAgICBNLAoJCQkJTU06ICAgcGFkKE0pLAoJCQkJczogICAgcywKCQkJCXNzOiAgIHBhZChzKSwKCQkJCWw6ICAgIHBhZChMLCAzKSwKCQkJCUw6ICAgIHBhZChMID4gOTkgPyBNYXRoLnJvdW5kKEwgLyAxMCkgOiBMKSwKCQkJCXQ6ICAgIEggPCAxMiA/ICJhIiAgOiAicCIsCgkJCQl0dDogICBIIDwgMTIgPyAiYW0iIDogInBtIiwKCQkJCVQ6ICAgIEggPCAxMiA/ICJBIiAgOiAiUCIsCgkJCQlUVDogICBIIDwgMTIgPyAiQU0iIDogIlBNIiwKCQkJCVo6ICAgIHV0YyA/ICJVVEMiIDogKFN0cmluZyhkYXRlKS5tYXRjaCh0aW1lem9uZSkgfHwgWyIiXSkucG9wKCkucmVwbGFjZSh0aW1lem9uZUNsaXAsICIiKSwKCQkJCW86ICAgIChvID4gMCA/ICItIiA6ICIrIikgKyBwYWQoTWF0aC5mbG9vcihNYXRoLmFicyhvKSAvIDYwKSAqIDEwMCArIE1hdGguYWJzKG8pICUgNjAsIDQpLAoJCQkJUzogICAgWyJ0aCIsICJzdCIsICJuZCIsICJyZCJdW2QgJSAxMCA+IDMgPyAwIDogKGQgJSAxMDAgLSBkICUgMTAgIT0gMTApICogZCAlIDEwXQoJCQl9OwoKCQlyZXR1cm4gbWFzay5yZXBsYWNlKHRva2VuLCBmdW5jdGlvbiAoJDApIHsKCQkJcmV0dXJuICQwIGluIGZsYWdzID8gZmxhZ3NbJDBdIDogJDAuc2xpY2UoMSwgJDAubGVuZ3RoIC0gMSk7CgkJfSk7Cgl9Owp9KCk7CgovLyBTb21lIGNvbW1vbiBmb3JtYXQgc3RyaW5ncwpkYXRlRm9ybWF0Lm1hc2tzID0gewoJImRlZmF1bHQiOiAgICAgICJkZGQgbW1tIGRkIHl5eXkgSEg6TU06c3MiLAoJc2hvcnREYXRlOiAgICAgICJtL2QveXkiLAoJbWVkaXVtRGF0ZTogICAgICJtbW0gZCwgeXl5eSIsCglsb25nRGF0ZTogICAgICAgIm1tbW0gZCwgeXl5eSIsCglmdWxsRGF0ZTogICAgICAgImRkZGQsIG1tbW0gZCwgeXl5eSIsCglzaG9ydFRpbWU6ICAgICAgImg6TU0gVFQiLAoJbWVkaXVtVGltZTogICAgICJoOk1NOnNzIFRUIiwKCWxvbmdUaW1lOiAgICAgICAiaDpNTTpzcyBUVCBaIiwKCWlzb0RhdGU6ICAgICAgICAieXl5eS1tbS1kZCIsCglpc29UaW1lOiAgICAgICAgIkhIOk1NOnNzIiwKCWlzb0RhdGVUaW1lOiAgICAieXl5eS1tbS1kZCdUJ0hIOk1NOnNzIiwKCWlzb1V0Y0RhdGVUaW1lOiAiVVRDOnl5eXktbW0tZGQnVCdISDpNTTpzcydaJyIKfTsKCi8vIEludGVybmF0aW9uYWxpemF0aW9uIHN0cmluZ3MKZGF0ZUZvcm1hdC5pMThuID0gewoJZGF5TmFtZXM6IFsKCQkiU3VuIiwgIk1vbiIsICJUdWUiLCAiV2VkIiwgIlRodSIsICJGcmkiLCAiU2F0IiwKCQkiU3VuZGF5IiwgIk1vbmRheSIsICJUdWVzZGF5IiwgIldlZG5lc2RheSIsICJUaHVyc2RheSIsICJGcmlkYXkiLCAiU2F0dXJkYXkiCgldLAoJbW9udGhOYW1lczogWwoJCSJKYW4iLCAiRmViIiwgIk1hciIsICJBcHIiLCAiTWF5IiwgIkp1biIsICJKdWwiLCAiQXVnIiwgIlNlcCIsICJPY3QiLCAiTm92IiwgIkRlYyIsCgkJIkphbnVhcnkiLCAiRmVicnVhcnkiLCAiTWFyY2giLCAiQXByaWwiLCAiTWF5IiwgIkp1bmUiLCAiSnVseSIsICJBdWd1c3QiLCAiU2VwdGVtYmVyIiwgIk9jdG9iZXIiLCAiTm92ZW1iZXIiLCAiRGVjZW1iZXIiCgldCn07CgovLyBGb3IgY29udmVuaWVuY2UuLi4KRGF0ZS5wcm90b3R5cGUuZm9ybWF0ID0gZnVuY3Rpb24gKG1hc2ssIHV0YykgewoJcmV0dXJuIGRhdGVGb3JtYXQodGhpcywgbWFzaywgdXRjKTsKfTsKCi8vIFRha2VzIGFuIElTTyB0aW1lIGFuZCByZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGluZyBob3cKLy8gbG9uZyBhZ28gdGhlIGRhdGUgcmVwcmVzZW50cy4KZnVuY3Rpb24gcHJldHR5RGF0ZShkYXRlKXsKCXZhciBkaWZmID0gKCgobmV3IERhdGUoKSkuZ2V0VGltZSgpIC0gZGF0ZS5nZXRUaW1lKCkpIC8gMTAwMCksCgkJZGF5X2RpZmYgPSBNYXRoLmZsb29yKGRpZmYgLyA4NjQwMCk7CgoJaWYgKCBpc05hTihkYXlfZGlmZikgfHwgZGF5X2RpZmYgPCAwICkKCQlyZXR1cm47CgogICAgcmV0dXJuIGRheV9kaWZmID09IDAgJiYgKAoJCWRpZmYgPCA2MCAmJiAianVzdCBub3ciIHx8CgkJCWRpZmYgPCAxMjAgJiYgIjEgbWluIGFnbyIgfHwKCQkJZGlmZiA8IDM2MDAgJiYgTWF0aC5mbG9vciggZGlmZiAvIDYwICkgKyAiIG1pbiBhZ28iIHx8CgkJCWRpZmYgPCA3MjAwICYmICIxIGhvdXIgYWdvIiB8fAoJCQlkaWZmIDwgODY0MDAgJiYgTWF0aC5mbG9vciggZGlmZiAvIDM2MDAgKSArICIgaG91cnMgYWdvIikgfHwKCQlkYXlfZGlmZiA9PSAxICYmICJZZXN0ZXJkYXkiIHx8CgkJZGF5X2RpZmYgPCA3ICYmIGRheV9kaWZmICsgIiBkYXlzIGFnbyIgfHwKCQlkYXlfZGlmZiA8IDMxICYmIE1hdGguY2VpbCggZGF5X2RpZmYgLyA3ICkgKyAiIHdlZWtzIGFnbyIgfHwKICAgIGRheV9kaWZmIDwgMzY1ICYmIE1hdGguY2VpbCggZGF5X2RpZmYgLyAzMSkgKyAiIG1vbnRocyBhZ28iOwp9Owo="},"js/jquery.couch.js":{"content_type":"application/javascript","revpos":1,"digest":"md5-+B17KTOuLOhmNcr17pkPMw==","data":"Ly8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7IHlvdSBtYXkgbm90Ci8vIHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mCi8vIHRoZSBMaWNlbnNlIGF0Ci8vCi8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCi8vCi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywgV0lUSE9VVAovLyBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUKLy8gTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIKLy8gdGhlIExpY2Vuc2UuCgovKioKICogQG5hbWVzcGFjZQogKiAkLmNvdWNoIGlzIHVzZWQgdG8gY29tbXVuaWNhdGUgd2l0aCBhIENvdWNoREIgc2VydmVyLCB0aGUgc2VydmVyIG1ldGhvZHMgY2FuCiAqIGJlIGNhbGxlZCBkaXJlY3RseSB3aXRob3V0IGNyZWF0aW5nIGFuIGluc3RhbmNlLiBUeXBpY2FsbHkgYWxsIG1ldGhvZHMgYXJlCiAqIHBhc3NlZCBhbiA8Y29kZT5vcHRpb25zPC9jb2RlPiBvYmplY3Qgd2hpY2ggZGVmaW5lcyBhIHN1Y2Nlc3MgY2FsbGJhY2sgd2hpY2gKICogaXMgY2FsbGVkIHdpdGggdGhlIGRhdGEgcmV0dXJuZWQgZnJvbSB0aGUgaHR0cCByZXF1ZXN0IHRvIENvdWNoREIsIHlvdSBjYW4KICogZmluZCB0aGUgb3RoZXIgc2V0dGluZ3MgdGhhdCBjYW4gYmUgdXNlZCBpbiB0aGUgPGNvZGU+b3B0aW9uczwvY29kZT4gb2JqZWN0CiAqIGZyb20gPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tL2pRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+CiAqIGpRdWVyeS5hamF4IHNldHRpbmdzPC9hPgogKiA8cHJlPjxjb2RlPiQuY291Y2guYWN0aXZlVGFza3MoewogKiAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7CiAqICAgICBjb25zb2xlLmxvZyhkYXRhKTsKICogICB9CiAqIH0pOzwvY29kZT48L3ByZT4KICogT3V0cHV0cyAoZm9yIGV4YW1wbGUpOgogKiA8cHJlPjxjb2RlPlsKICogIHsKICogICAicGlkIiA6ICI8MC4xMTU5OS4wPiIsCiAqICAgInN0YXR1cyIgOiAiQ29waWVkIDAgb2YgMTgzNjkgY2hhbmdlcyAoMCUpIiwKICogICAidGFzayIgOiAicmVjaXBlcyIsCiAqICAgInR5cGUiIDogIkRhdGFiYXNlIENvbXBhY3Rpb24iCiAqICB9CiAqXTwvY29kZT48L3ByZT4KICovCihmdW5jdGlvbigkKSB7CgogICQuY291Y2ggPSAkLmNvdWNoIHx8IHt9OwogIC8qKiBAbGVuZHMgJC5jb3VjaCAqLwoKICAvKioKICAgKiBAcHJpdmF0ZQogICAqLwogIGZ1bmN0aW9uIGVuY29kZURvY0lkKGRvY0lEKSB7CiAgICB2YXIgcGFydHMgPSBkb2NJRC5zcGxpdCgiLyIpOwogICAgaWYgKHBhcnRzWzBdID09ICJfZGVzaWduIikgewogICAgICBwYXJ0cy5zaGlmdCgpOwogICAgICByZXR1cm4gIl9kZXNpZ24vIiArIGVuY29kZVVSSUNvbXBvbmVudChwYXJ0cy5qb2luKCcvJykpOwogICAgfQogICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChkb2NJRCk7CiAgfQoKICAvKioKICAgKiBAcHJpdmF0ZQogICAqLwoKICB2YXIgdXVpZENhY2hlID0gW107CgogICQuZXh0ZW5kKCQuY291Y2gsIHsKICAgIHVybFByZWZpeDogJycsCgogICAgLyoqCiAgICAgKiBZb3UgY2FuIG9idGFpbiBhIGxpc3Qgb2YgYWN0aXZlIHRhc2tzIGJ5IHVzaW5nIHRoZSAvX2FjdGl2ZV90YXNrcyBVUkwuCiAgICAgKiBUaGUgcmVzdWx0IGlzIGEgSlNPTiBhcnJheSBvZiB0aGUgY3VycmVudGx5IHJ1bm5pbmcgdGFza3MsIHdpdGggZWFjaCB0YXNrCiAgICAgKiBiZWluZyBkZXNjcmliZWQgd2l0aCBhIHNpbmdsZSBvYmplY3QuCiAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvdXBsb2Fkcy8KICAgICAqIGFsbC9kb2N1bWVudGF0aW9uL2NvdWNoYmFzZS1hcGktbWlzYy5odG1sI2NvdWNoYmFzZS1hcGktbWlzY19hY3RpdmUtdGFzawogICAgICogc19nZXQiPmRvY3MgZm9yIC9fYWN0aXZlX3Rhc2tzPC9hPgogICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tL2pRdWVyeS5hamF4CiAgICAgKiAvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAqLwogICAgYWN0aXZlVGFza3M6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgcmV0dXJuIGFqYXgoCiAgICAgICAge3VybDogdGhpcy51cmxQcmVmaXggKyAiL19hY3RpdmVfdGFza3MifSwKICAgICAgICBvcHRpb25zLAogICAgICAgICJBY3RpdmUgdGFzayBzdGF0dXMgY291bGQgbm90IGJlIHJldHJpZXZlZCIKICAgICAgKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBhbGwgdGhlIGRhdGFiYXNlcyBpbiB0aGUgQ291Y2hEQiBpbnN0YW5jZQogICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzL3VwbG9hZHMvCiAgICAgKiBhbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLW1pc2MuaHRtbCNjb3VjaGJhc2UtYXBpLW1pc2NfYWN0aXZlLXRhc2sKICAgICAqIHNfZ2V0Ij5kb2NzIGZvciAvX2FsbF9kYnM8L2E+CiAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20valF1ZXJ5LmFqYXgKICAgICAqIC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICovCiAgICBhbGxEYnM6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgcmV0dXJuIGFqYXgoCiAgICAgICAge3VybDogdGhpcy51cmxQcmVmaXggKyAiL19hbGxfZGJzIn0sCiAgICAgICAgb3B0aW9ucywKICAgICAgICAiQW4gZXJyb3Igb2NjdXJyZWQgcmV0cmlldmluZyB0aGUgbGlzdCBvZiBhbGwgZGF0YWJhc2VzIgogICAgICApOwogICAgfSwKCiAgICAvKioKICAgICAqIFZpZXcgYW5kIGVkaXQgdGhlIENvdWNoREIgY29uZmlndXJhdGlvbiwgY2FsbGVkIHdpdGgganVzdCB0aGUgb3B0aW9ucwogICAgICogcGFyYW1ldGVyIHRoZSBlbnRpcmUgY29uZmlnIGlzIHJldHVybmVkLCB5b3UgY2FuIGJlIG1vcmUgc3BlY2lmaWMgYnkKICAgICAqIHBhc3NpbmcgdGhlIHNlY3Rpb24gYW5kIG9wdGlvbiBwYXJhbWV0ZXJzLCBpZiB5b3Ugc3BlY2lmeSBhIHZhbHVlIHRoYXQKICAgICAqIHZhbHVlIHdpbGwgYmUgc3RvcmVkIGluIHRoZSBjb25maWd1cmF0aW9uLgogICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzL3VwbG9hZHMvCiAgICAgKiBhbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWNvbmZpZy5odG1sI2NvdWNoYmFzZS1hcGktY29uZmlnX2NvbmZpZwogICAgICogLXNlY3Rpb24ta2V5X3B1dCI+ZG9jcyBmb3IgL19jb25maWc8L2E+CiAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucwogICAgICogPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tL2pRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+CiAgICAgKiBqUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbc2VjdGlvbl0gdGhlIHNlY3Rpb24gb2YgdGhlIGNvbmZpZwogICAgICogQHBhcmFtIHtTdHJpbmd9IFtvcHRpb25dIHRoZSBwYXJ0aWN1bGFyIGNvbmZpZyBvcHRpb24KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBbdmFsdWVdIHZhbHVlIHRvIGJlIHNldAogICAgICovCiAgICBjb25maWc6IGZ1bmN0aW9uKG9wdGlvbnMsIHNlY3Rpb24sIG9wdGlvbiwgdmFsdWUpIHsKICAgICAgdmFyIHJlcSA9IHt1cmw6IHRoaXMudXJsUHJlZml4ICsgIi9fY29uZmlnLyJ9OwogICAgICBpZiAoc2VjdGlvbikgewogICAgICAgIHJlcS51cmwgKz0gZW5jb2RlVVJJQ29tcG9uZW50KHNlY3Rpb24pICsgIi8iOwogICAgICAgIGlmIChvcHRpb24pIHsKICAgICAgICAgIHJlcS51cmwgKz0gZW5jb2RlVVJJQ29tcG9uZW50KG9wdGlvbik7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkgewogICAgICAgIHJlcS50eXBlID0gIkRFTEVURSI7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJlcS50eXBlID0gIlBVVCI7CiAgICAgICAgcmVxLmRhdGEgPSB0b0pTT04odmFsdWUpOwogICAgICAgIHJlcS5jb250ZW50VHlwZSA9ICJhcHBsaWNhdGlvbi9qc29uIjsKICAgICAgICByZXEucHJvY2Vzc0RhdGEgPSBmYWxzZQogICAgICB9CgogICAgICByZXR1cm4gYWpheChyZXEsIG9wdGlvbnMsCiAgICAgICAgIkFuIGVycm9yIG9jY3VycmVkIHJldHJpZXZpbmcvdXBkYXRpbmcgdGhlIHNlcnZlciBjb25maWd1cmF0aW9uIgogICAgICApOwogICAgfSwKCiAgICAvKioKICAgICAqIFJldHVybnMgdGhlIHNlc3Npb24gaW5mb3JtYXRpb24gZm9yIHRoZSBjdXJyZW50bHkgbG9nZ2VkIGluIHVzZXIuCiAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucwogICAgICogPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tL2pRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+CiAgICAgKiBqUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAqLwogICAgc2Vzc2lvbjogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgICAgcmV0dXJuICQuYWpheCh7CiAgICAgICAgdHlwZTogIkdFVCIsIHVybDogdGhpcy51cmxQcmVmaXggKyAiL19zZXNzaW9uIiwKICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbih4aHIpIHsKICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7CiAgICAgICAgfSwKICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVxKSB7CiAgICAgICAgICB2YXIgcmVzcCA9ICQucGFyc2VKU09OKHJlcS5yZXNwb25zZVRleHQpOwogICAgICAgICAgaWYgKHJlcS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MpIG9wdGlvbnMuc3VjY2VzcyhyZXNwKTsKICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5lcnJvcikgewogICAgICAgICAgICBvcHRpb25zLmVycm9yKHJlcS5zdGF0dXMsIHJlc3AuZXJyb3IsIHJlc3AucmVhc29uKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KCJBbiBlcnJvciBvY2N1cnJlZCBnZXR0aW5nIHNlc3Npb24gaW5mbzogIiArIHJlc3AucmVhc29uKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIEBwcml2YXRlCiAgICAgKi8KICAgIHVzZXJEYiA6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgICAgIHJldHVybiAkLmNvdWNoLnNlc3Npb24oewogICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihyZXNwKSB7CiAgICAgICAgICB2YXIgdXNlckRiID0gJC5jb3VjaC5kYihyZXNwLmluZm8uYXV0aGVudGljYXRpb25fZGIpOwogICAgICAgICAgY2FsbGJhY2sodXNlckRiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKioKICAgICAqIENyZWF0ZSBhIG5ldyB1c2VyIG9uIHRoZSBDb3VjaERCIHNlcnZlciwgPGNvZGU+dXNlcl9kb2M8L2NvZGU+IGlzIGFuCiAgICAgKiBvYmplY3Qgd2l0aCBhIDxjb2RlPm5hbWU8L2NvZGU+IGZpZWxkIGFuZCBvdGhlciBpbmZvcm1hdGlvbiB5b3Ugd2FudAogICAgICogdG8gc3RvcmUgcmVsYXRpbmcgdG8gdGhhdCB1c2VyLCBmb3IgZXhhbXBsZQogICAgICogPGNvZGU+eyJuYW1lIjogImRhbGVoYXJ2ZXkifTwvY29kZT4KICAgICAqIEBwYXJhbSB7T2JqZWN0fSB1c2VyX2RvYyBVc2VycyBkZXRhaWxzCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gcGFzc3dvcmQgVXNlcnMgcGFzc3dvcmQKICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zCiAgICAgKiA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20valF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj4KICAgICAgKiBqUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAqLwogICAgc2lnbnVwOiBmdW5jdGlvbih1c2VyX2RvYywgcGFzc3dvcmQsIG9wdGlvbnMpIHsKICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgIC8vIHByZXBhcmUgdXNlciBkb2MgYmFzZWQgb24gbmFtZSBhbmQgcGFzc3dvcmQKICAgICAgdXNlcl9kb2MgPSB0aGlzLnByZXBhcmVVc2VyRG9jKHVzZXJfZG9jLCBwYXNzd29yZCk7CiAgICAgIHJldHVybiAkLmNvdWNoLnVzZXJEYihmdW5jdGlvbihkYikgewogICAgICAgIGRiLnNhdmVEb2ModXNlcl9kb2MsIG9wdGlvbnMpOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBQb3B1bGF0ZXMgYSB1c2VyIGRvYyB3aXRoIGEgbmV3IHBhc3N3b3JkLgogICAgICogQHBhcmFtIHtPYmplY3R9IHVzZXJfZG9jIFVzZXIgZGV0YWlscwogICAgICogQHBhcmFtIHtTdHJpbmd9IG5ld19wYXNzd29yZCBOZXcgUGFzc3dvcmQKICAgICAqLwogICAgcHJlcGFyZVVzZXJEb2M6IGZ1bmN0aW9uKHVzZXJfZG9jLCBuZXdfcGFzc3dvcmQpIHsKICAgICAgaWYgKHR5cGVvZiBoZXhfc2hhMSA9PSAidW5kZWZpbmVkIikgewogICAgICAgIGFsZXJ0KCJjcmVhdGluZyBhIHVzZXIgZG9jIHJlcXVpcmVzIHNoYTEuanMgdG8gYmUgbG9hZGVkIGluIHRoZSBwYWdlIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciB1c2VyX3ByZWZpeCA9ICJvcmcuY291Y2hkYi51c2VyOiI7CiAgICAgIHVzZXJfZG9jLl9pZCA9IHVzZXJfZG9jLl9pZCB8fCB1c2VyX3ByZWZpeCArIHVzZXJfZG9jLm5hbWU7CiAgICAgIGlmIChuZXdfcGFzc3dvcmQpIHsKICAgICAgICAvLyBoYW5kbGUgdGhlIHBhc3N3b3JkIGNyeXB0bwogICAgICAgIHVzZXJfZG9jLnNhbHQgPSAkLmNvdWNoLm5ld1VVSUQoKTsKICAgICAgICB1c2VyX2RvYy5wYXNzd29yZF9zaGEgPSBoZXhfc2hhMShuZXdfcGFzc3dvcmQgKyB1c2VyX2RvYy5zYWx0KTsKICAgICAgfQogICAgICB1c2VyX2RvYy50eXBlID0gInVzZXIiOwogICAgICBpZiAoIXVzZXJfZG9jLnJvbGVzKSB7CiAgICAgICAgdXNlcl9kb2Mucm9sZXMgPSBbXTsKICAgICAgfQogICAgICByZXR1cm4gdXNlcl9kb2M7CiAgICB9LAoKICAgIC8qKgogICAgICogQXV0aGVudGljYXRlIGFnYWluc3QgQ291Y2hEQiwgdGhlIDxjb2RlPm9wdGlvbnM8L2NvZGU+IHBhcmFtZXRlciBpcwogICAgICAqZXhwZWN0ZWQgdG8gaGF2ZSA8Y29kZT5uYW1lPC9jb2RlPiBhbmQgPGNvZGU+cGFzc3dvcmQ8L2NvZGU+IGZpZWxkcy4KICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zCiAgICAgKiA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20valF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj4KICAgICAqIGpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICovCiAgICBsb2dpbjogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgICAgcmV0dXJuICQuYWpheCh7CiAgICAgICAgdHlwZTogIlBPU1QiLCB1cmw6IHRoaXMudXJsUHJlZml4ICsgIi9fc2Vzc2lvbiIsIGRhdGFUeXBlOiAianNvbiIsCiAgICAgICAgZGF0YToge25hbWU6IG9wdGlvbnMubmFtZSwgcGFzc3dvcmQ6IG9wdGlvbnMucGFzc3dvcmR9LAogICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKHhocikgewogICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTsKICAgICAgICB9LAogICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXEpIHsKICAgICAgICAgIHZhciByZXNwID0gJC5wYXJzZUpTT04ocmVxLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICBpZiAocmVxLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykgb3B0aW9ucy5zdWNjZXNzKHJlc3ApOwogICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmVycm9yKSB7CiAgICAgICAgICAgIG9wdGlvbnMuZXJyb3IocmVxLnN0YXR1cywgcmVzcC5lcnJvciwgcmVzcC5yZWFzb24pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQoIkFuIGVycm9yIG9jY3VycmVkIGxvZ2dpbmcgaW46ICIgKyByZXNwLnJlYXNvbik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgoKICAgIC8qKgogICAgICogRGVsZXRlIHlvdXIgY3VycmVudCBDb3VjaERCIHVzZXIgc2Vzc2lvbgogICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMKICAgICAqIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPgogICAgICogalF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+CiAgICAgKi8KICAgIGxvZ291dDogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgICAgcmV0dXJuICQuYWpheCh7CiAgICAgICAgdHlwZTogIkRFTEVURSIsIHVybDogdGhpcy51cmxQcmVmaXggKyAiL19zZXNzaW9uIiwgZGF0YVR5cGU6ICJqc29uIiwKICAgICAgICB1c2VybmFtZSA6ICJfIiwgcGFzc3dvcmQgOiAiXyIsCiAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oeGhyKSB7CiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpOwogICAgICAgIH0sCiAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlcSkgewogICAgICAgICAgdmFyIHJlc3AgPSAkLnBhcnNlSlNPTihyZXEucmVzcG9uc2VUZXh0KTsKICAgICAgICAgIGlmIChyZXEuc3RhdHVzID09IDIwMCkgewogICAgICAgICAgICBpZiAob3B0aW9ucy5zdWNjZXNzKSBvcHRpb25zLnN1Y2Nlc3MocmVzcCk7CiAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZXJyb3IpIHsKICAgICAgICAgICAgb3B0aW9ucy5lcnJvcihyZXEuc3RhdHVzLCByZXNwLmVycm9yLCByZXNwLnJlYXNvbik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGVydCgiQW4gZXJyb3Igb2NjdXJyZWQgbG9nZ2luZyBvdXQ6ICIgKyByZXNwLnJlYXNvbik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBAbmFtZXNwYWNlCiAgICAgKiAkLmNvdWNoLmRiIGlzIHVzZWQgdG8gY29tbXVuaWNhdGUgd2l0aCBhIHNwZWNpZmljIENvdWNoREIgZGF0YWJhc2UKICAgICAqIDxwcmU+PGNvZGU+dmFyICRkYiA9ICQuY291Y2guZGIoIm15ZGF0YWJhc2UiKTsKICAgICAqJGRiLmFsbEFwcHMoewogICAgICogIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgKiAgICAuLi4gcHJvY2VzcyBkYXRhIC4uLgogICAgICogIH0KICAgICAqfSk7CiAgICAgKiA8L2NvZGU+PC9wcmU+CiAgICAgKi8KICAgIGRiOiBmdW5jdGlvbihuYW1lLCBkYl9vcHRzKSB7CiAgICAgIGRiX29wdHMgPSBkYl9vcHRzIHx8IHt9OwogICAgICB2YXIgcmF3RG9jcyA9IHt9OwogICAgICBmdW5jdGlvbiBtYXliZUFwcGx5VmVyc2lvbihkb2MpIHsKICAgICAgICBpZiAoZG9jLl9pZCAmJiBkb2MuX3JldiAmJiByYXdEb2NzW2RvYy5faWRdICYmCiAgICAgICAgICAgIHJhd0RvY3NbZG9jLl9pZF0ucmV2ID09IGRvYy5fcmV2KSB7CiAgICAgICAgICAvLyB0b2RvOiBjYW4gd2UgdXNlIGNvbW1vbmpzIHJlcXVpcmUgaGVyZT8KICAgICAgICAgIGlmICh0eXBlb2YgQmFzZTY0ID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgIGFsZXJ0KCJwbGVhc2UgaW5jbHVkZSAvX3V0aWxzL3NjcmlwdC9iYXNlNjQuanMgaW4gdGhlIHBhZ2UgZm9yICIgKwogICAgICAgICAgICAgICAgICAiYmFzZTY0IHN1cHBvcnQiKTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZG9jLl9hdHRhY2htZW50cyA9IGRvYy5fYXR0YWNobWVudHMgfHwge307CiAgICAgICAgICAgIGRvYy5fYXR0YWNobWVudHNbInJldi0iK2RvYy5fcmV2LnNwbGl0KCItIilbMF1dID0gewogICAgICAgICAgICAgIGNvbnRlbnRfdHlwZSA6ImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICAgIGRhdGEgOiBCYXNlNjQuZW5jb2RlKHJhd0RvY3NbZG9jLl9pZF0ucmF3KQogICAgICAgICAgICB9OwogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CiAgICAgIHJldHVybiAvKiogQGxlbmRzICQuY291Y2guZGIgKi97CiAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICB1cmk6IHRoaXMudXJsUHJlZml4ICsgIi8iICsgZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpICsgIi8iLAoKICAgICAgICAvKioKICAgICAgICAgKiBSZXF1ZXN0IGNvbXBhY3Rpb24gb2YgdGhlIHNwZWNpZmllZCBkYXRhYmFzZS4KICAgICAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvCiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiLmh0bWwjY291Y2hiYXNlLWFwaS1kYl8KICAgICAgICAgKiBkYi1jb21wYWN0X3Bvc3QiPmRvY3MgZm9yIC9kYi9fY29tcGFjdDwvYT4KICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucwogICAgICAgICAqIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPgogICAgICAgICAqIGpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICAgICAqLwogICAgICAgIGNvbXBhY3Q6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICAgICQuZXh0ZW5kKG9wdGlvbnMsIHtzdWNjZXNzU3RhdHVzOiAyMDJ9KTsKICAgICAgICAgIHJldHVybiBhamF4KHsKICAgICAgICAgICAgICB0eXBlOiAiUE9TVCIsIHVybDogdGhpcy51cmkgKyAiX2NvbXBhY3QiLAogICAgICAgICAgICAgIGRhdGE6ICIiLCBwcm9jZXNzRGF0YTogZmFsc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgIlRoZSBkYXRhYmFzZSBjb3VsZCBub3QgYmUgY29tcGFjdGVkIgogICAgICAgICAgKTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBDbGVhbnMgdXAgdGhlIGNhY2hlZCB2aWV3IG91dHB1dCBvbiBkaXNrIGZvciBhIGdpdmVuIHZpZXcuCiAgICAgICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzLwogICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYi5odG1sI2NvdWNoYmFzZS1hcGktZGIKICAgICAgICAgKiBfZGItdmlldy1jbGVhbnVwX3Bvc3QiPmRvY3MgZm9yIC9kYi9fY29tcGFjdDwvYT4KICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKi8KICAgICAgICB2aWV3Q2xlYW51cDogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgJC5leHRlbmQob3B0aW9ucywge3N1Y2Nlc3NTdGF0dXM6IDIwMn0pOwogICAgICAgICAgcmV0dXJuIGFqYXgoewogICAgICAgICAgICAgIHR5cGU6ICJQT1NUIiwgdXJsOiB0aGlzLnVyaSArICJfdmlld19jbGVhbnVwIiwKICAgICAgICAgICAgICBkYXRhOiAiIiwgcHJvY2Vzc0RhdGE6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgICJUaGUgdmlld3MgY291bGQgbm90IGJlIGNsZWFuZWQgdXAiCiAgICAgICAgICApOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIENvbXBhY3RzIHRoZSB2aWV3IGluZGV4ZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQgZGVzaWduCiAgICAgICAgICogZG9jdW1lbnQuIFlvdSBjYW4gdXNlIHRoaXMgaW4gcGxhY2Ugb2YgdGhlIGZ1bGwgZGF0YWJhc2UgY29tcGFjdGlvbgogICAgICAgICAqIGlmIHlvdSBrbm93IGEgc3BlY2lmaWMgc2V0IG9mIHZpZXcgaW5kZXhlcyBoYXZlIGJlZW4gYWZmZWN0ZWQgYnkgYQogICAgICAgICAqIHJlY2VudCBkYXRhYmFzZSBjaGFuZ2UuCiAgICAgICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzL3VwbAogICAgICAgICAqIG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYi5odG1sI2NvdWNoYmFzZS1hcGktZGJfZGItCiAgICAgICAgICogY29tcGFjdC1kZXNpZ24tZG9jX3Bvc3QiPmRvY3MgZm9yIC9kYi9fY29tcGFjdC9kZXNpZ24tZG9jPC9hPgogICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBncm91cG5hbWUgTmFtZSBvZiBkZXNpZ24tZG9jIHRvIGNvbXBhY3QKICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKi8KICAgICAgICBjb21wYWN0VmlldzogZnVuY3Rpb24oZ3JvdXBuYW1lLCBvcHRpb25zKSB7CiAgICAgICAgICAkLmV4dGVuZChvcHRpb25zLCB7c3VjY2Vzc1N0YXR1czogMjAyfSk7CiAgICAgICAgICByZXR1cm4gYWpheCh7CiAgICAgICAgICAgICAgdHlwZTogIlBPU1QiLCB1cmw6IHRoaXMudXJpICsgIl9jb21wYWN0LyIgKyBncm91cG5hbWUsCiAgICAgICAgICAgICAgZGF0YTogIiIsIHByb2Nlc3NEYXRhOiBmYWxzZQogICAgICAgICAgICB9LAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAiVGhlIHZpZXcgY291bGQgbm90IGJlIGNvbXBhY3RlZCIKICAgICAgICAgICk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQ3JlYXRlIGEgbmV3IGRhdGFiYXNlCiAgICAgICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzLwogICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYi5odG1sI2NvdWNoYmFzZS1hcGktZGJfCiAgICAgICAgICogZGJfcHV0Ij5kb2NzIGZvciBQVVQgL2RiLzwvYT4KICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKi8KICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICAgICQuZXh0ZW5kKG9wdGlvbnMsIHtzdWNjZXNzU3RhdHVzOiAyMDF9KTsKICAgICAgICAgIHJldHVybiBhamF4KHsKICAgICAgICAgICAgICB0eXBlOiAiUFVUIiwgdXJsOiB0aGlzLnVyaSwgY29udGVudFR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICBkYXRhOiAiIiwgcHJvY2Vzc0RhdGE6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgICJUaGUgZGF0YWJhc2UgY291bGQgbm90IGJlIGNyZWF0ZWQiCiAgICAgICAgICApOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIERlbGV0ZXMgdGhlIHNwZWNpZmllZCBkYXRhYmFzZSwgYW5kIGFsbCB0aGUgZG9jdW1lbnRzIGFuZAogICAgICAgICAqIGF0dGFjaG1lbnRzIGNvbnRhaW5lZCB3aXRoaW4gaXQuCiAgICAgICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzLwogICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYi5odG1sI2NvdWNoYmFzZS1hcGktZGJfCiAgICAgICAgICogZGJfZGVsZXRlIj5kb2NzIGZvciBERUxFVEUgL2RiLzwvYT4KICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKi8KICAgICAgICBkcm9wOiBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgICAgICByZXR1cm4gYWpheCgKICAgICAgICAgICAge3R5cGU6ICJERUxFVEUiLCB1cmw6IHRoaXMudXJpfSwKICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgIlRoZSBkYXRhYmFzZSBjb3VsZCBub3QgYmUgZGVsZXRlZCIKICAgICAgICAgICk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogR2V0cyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc3BlY2lmaWVkIGRhdGFiYXNlLgogICAgICAgICAqIEBzZWUgPGEgaHJlZj0iaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy8KICAgICAgICAgKiB1cGxvYWRzL2FsbC9kb2N1bWVudGF0aW9uL2NvdWNoYmFzZS1hcGktZGIuaHRtbCNjb3VjaGJhc2UtYXBpLWRiCiAgICAgICAgICogX2RiX2dldCI+ZG9jcyBmb3IgR0VUIC9kYi88L2E+CiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tLwogICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+CiAgICAgICAgICovCiAgICAgICAgaW5mbzogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgcmV0dXJuIGFqYXgoCiAgICAgICAgICAgIHt1cmw6IHRoaXMudXJpfSwKICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgIkRhdGFiYXNlIGluZm9ybWF0aW9uIGNvdWxkIG5vdCBiZSByZXRyaWV2ZWQiCiAgICAgICAgICApOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEBuYW1lc3BhY2UKICAgICAgICAgKiAkLmNvdWNoLmRiLmNoYW5nZXMgcHJvdmlkZXMgYW4gQVBJIGZvciBzdWJzY3JpYmluZyB0byB0aGUgY2hhbmdlcwogICAgICAgICAqIGZlZWQKICAgICAgICAgKiA8cHJlPjxjb2RlPnZhciAkY2hhbmdlcyA9ICQuY291Y2guZGIoIm15ZGF0YWJhc2UiKS5jaGFuZ2VzKCk7CiAgICAgICAgICokY2hhbmdlcy5vbkNoYW5nZSA9IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgICogICAgLi4uIHByb2Nlc3MgZGF0YSAuLi4KICAgICAgICAgKiB9CiAgICAgICAgICogJGNoYW5nZXMuc3RvcCgpOwogICAgICAgICAqIDwvY29kZT48L3ByZT4KICAgICAgICAgKi8KICAgICAgICBjaGFuZ2VzOiBmdW5jdGlvbihzaW5jZSwgb3B0aW9ucykgewoKICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgICAgICAgLy8gc2V0IHVwIHRoZSBwcm9taXNlIG9iamVjdCB3aXRoaW4gYSBjbG9zdXJlIGZvciB0aGlzIGhhbmRsZXIKICAgICAgICAgIHZhciB0aW1lb3V0ID0gMTAwLCBkYiA9IHRoaXMsIGFjdGl2ZSA9IHRydWUsCiAgICAgICAgICAgIGxpc3RlbmVycyA9IFtdLAogICAgICAgICAgICBwcm9taXNlID0gLyoqIEBsZW5kcyAkLmNvdWNoLmRiLmNoYW5nZXMgKi8gewogICAgICAgICAgICAgIC8qKgogICAgICAgICAgICAgICAqIEFkZCBhIGxpc3RlbmVyIGNhbGxiYWNrCiAgICAgICAgICAgICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0LwogICAgICAgICAgICAgICAqIGZpbGVzL3VwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYi5odG1sI2NvdWNoCiAgICAgICAgICAgICAgICogYmFzZS1hcGktZGJfZGItY2hhbmdlc19nZXQiPmRvY3MgZm9yIC9kYi9fY2hhbmdlczwvYT4KICAgICAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW4gQ2FsbGJhY2sgZnVuY3Rpb24gdG8gcnVuIHdoZW4KICAgICAgICAgICAgICAgKiBub3RpZmllZCBvZiBjaGFuZ2VzLgogICAgICAgICAgICAgICAqLwogICAgICAgICAgICBvbkNoYW5nZSA6IGZ1bmN0aW9uKGZ1bikgewogICAgICAgICAgICAgIGxpc3RlbmVycy5wdXNoKGZ1bik7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgLyoqCiAgICAgICAgICAgICAgICogU3RvcCBzdWJzY3JpYmluZyB0byB0aGUgY2hhbmdlcyBmZWVkCiAgICAgICAgICAgICAgICovCiAgICAgICAgICAgIHN0b3AgOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICBhY3RpdmUgPSBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgfTsKICAgICAgICAgIC8vIGNhbGwgZWFjaCBsaXN0ZW5lciB3aGVuIHRoZXJlIGlzIGEgY2hhbmdlCiAgICAgICAgICBmdW5jdGlvbiB0cmlnZ2VyTGlzdGVuZXJzKHJlc3ApIHsKICAgICAgICAgICAgJC5lYWNoKGxpc3RlbmVycywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgdGhpcyhyZXNwKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9OwogICAgICAgICAgLy8gd2hlbiB0aGVyZSBpcyBhIGNoYW5nZSwgY2FsbCBhbnkgbGlzdGVuZXJzLCB0aGVuIGNoZWNrIGZvcgogICAgICAgICAgLy8gYW5vdGhlciBjaGFuZ2UKICAgICAgICAgIG9wdGlvbnMuc3VjY2VzcyA9IGZ1bmN0aW9uKHJlc3ApIHsKICAgICAgICAgICAgdGltZW91dCA9IDEwMDsKICAgICAgICAgICAgaWYgKGFjdGl2ZSkgewogICAgICAgICAgICAgIHNpbmNlID0gcmVzcC5sYXN0X3NlcTsKICAgICAgICAgICAgICB0cmlnZ2VyTGlzdGVuZXJzKHJlc3ApOwogICAgICAgICAgICAgIGdldENoYW5nZXNTaW5jZSgpOwogICAgICAgICAgICB9OwogICAgICAgICAgfTsKICAgICAgICAgIG9wdGlvbnMuZXJyb3IgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgaWYgKGFjdGl2ZSkgewogICAgICAgICAgICAgIHNldFRpbWVvdXQoZ2V0Q2hhbmdlc1NpbmNlLCB0aW1lb3V0KTsKICAgICAgICAgICAgICB0aW1lb3V0ID0gdGltZW91dCAqIDI7CiAgICAgICAgICAgIH0KICAgICAgICAgIH07CiAgICAgICAgICAvLyBhY3R1YWxseSBtYWtlIHRoZSBjaGFuZ2VzIHJlcXVlc3QKICAgICAgICAgIGZ1bmN0aW9uIGdldENoYW5nZXNTaW5jZSgpIHsKICAgICAgICAgICAgdmFyIG9wdHMgPSAkLmV4dGVuZCh7aGVhcnRiZWF0IDogMTAgKiAxMDAwfSwgb3B0aW9ucywgewogICAgICAgICAgICAgIGZlZWQgOiAibG9uZ3BvbGwiLAogICAgICAgICAgICAgIHNpbmNlIDogc2luY2UKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGFqYXgoCiAgICAgICAgICAgICAge3VybDogZGIudXJpICsgIl9jaGFuZ2VzIitlbmNvZGVPcHRpb25zKG9wdHMpfSwKICAgICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAgICJFcnJvciBjb25uZWN0aW5nIHRvICIrZGIudXJpKyIvX2NoYW5nZXMuIgogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgICAgLy8gc3RhcnQgdGhlIGZpcnN0IHJlcXVlc3QKICAgICAgICAgIGlmIChzaW5jZSkgewogICAgICAgICAgICBnZXRDaGFuZ2VzU2luY2UoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRiLmluZm8oewogICAgICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihpbmZvKSB7CiAgICAgICAgICAgICAgICBzaW5jZSA9IGluZm8udXBkYXRlX3NlcTsKICAgICAgICAgICAgICAgIGdldENoYW5nZXNTaW5jZSgpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gcHJvbWlzZTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBGZXRjaCBhbGwgdGhlIGRvY3MgaW4gdGhpcyBkYiwgeW91IGNhbiBzcGVjaWZ5IGFuIGFycmF5IG9mIGtleXMgdG8KICAgICAgICAgKiBmZXRjaCBieSBwYXNzaW5nIHRoZSA8Y29kZT5rZXlzPC9jb2RlPiBmaWVsZCBpbiB0aGUKICAgICAgICAgKiA8Y29kZT5vcHRpb25zPC9jb2RlPgogICAgICAgICAqIHBhcmFtZXRlci4KICAgICAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvCiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiLmh0bWwjY291Y2hiYXNlLWFwaS1kYl8KICAgICAgICAgKiBkYi1hbGwtZG9jc19nZXQiPmRvY3MgZm9yIC9kYi9hbGxfZG9jcy88L2E+CiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tLwogICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+CiAgICAgICAgICovCiAgICAgICAgYWxsRG9jczogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgdmFyIHR5cGUgPSAiR0VUIjsKICAgICAgICAgIHZhciBkYXRhID0gbnVsbDsKICAgICAgICAgIGlmIChvcHRpb25zWyJrZXlzIl0pIHsKICAgICAgICAgICAgdHlwZSA9ICJQT1NUIjsKICAgICAgICAgICAgdmFyIGtleXMgPSBvcHRpb25zWyJrZXlzIl07CiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zWyJrZXlzIl07CiAgICAgICAgICAgIGRhdGEgPSB0b0pTT04oeyAia2V5cyI6IGtleXMgfSk7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gYWpheCh7CiAgICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyAiX2FsbF9kb2NzIiArIGVuY29kZU9wdGlvbnMob3B0aW9ucykKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgIkFuIGVycm9yIG9jY3VycmVkIHJldHJpZXZpbmcgYSBsaXN0IG9mIGFsbCBkb2N1bWVudHMiCiAgICAgICAgICApOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEZldGNoIGFsbCB0aGUgZGVzaWduIGRvY3MgaW4gdGhpcyBkYgogICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS8KICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICAgICAqLwogICAgICAgIGFsbERlc2lnbkRvY3M6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICAgIHJldHVybiB0aGlzLmFsbERvY3MoJC5leHRlbmQoCiAgICAgICAgICAgIHtzdGFydGtleToiX2Rlc2lnbiIsIGVuZGtleToiX2Rlc2lnbjAifSwgb3B0aW9ucykpOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEZldGNoIGFsbCB0aGUgZGVzaWduIGRvY3Mgd2l0aCBhbiBpbmRleC5odG1sLCA8Y29kZT5vcHRpb25zPC9jb2RlPgogICAgICAgICAqIHBhcmFtZXRlciBleHBlY3RzIGFuIDxjb2RlPmVhY2hBcHA8L2NvZGU+IGZpZWxkIHdoaWNoIGlzIGEgY2FsbGJhY2sKICAgICAgICAgKiBjYWxsZWQgb24gZWFjaCBhcHAgZm91bmQuCiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tLwogICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+CiAgICAgICAgICovCiAgICAgICAgYWxsQXBwczogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgICAgICBpZiAob3B0aW9ucy5lYWNoQXBwKSB7CiAgICAgICAgICAgIHRoaXMuYWxsRGVzaWduRG9jcyh7CiAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcCkgewogICAgICAgICAgICAgICAgJC5lYWNoKHJlc3Aucm93cywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgIHNlbGYub3BlbkRvYyh0aGlzLmlkLCB7CiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oZGRvYykgewogICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4LCBhcHBQYXRoLCBhcHBOYW1lID0gZGRvYy5faWQuc3BsaXQoJy8nKTsKICAgICAgICAgICAgICAgICAgICAgIGFwcE5hbWUuc2hpZnQoKTsKICAgICAgICAgICAgICAgICAgICAgIGFwcE5hbWUgPSBhcHBOYW1lLmpvaW4oJy8nKTsKICAgICAgICAgICAgICAgICAgICAgIGluZGV4ID0gZGRvYy5jb3VjaGFwcCAmJiBkZG9jLmNvdWNoYXBwLmluZGV4OwogICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFwcFBhdGggPSBbJycsIG5hbWUsIGRkb2MuX2lkLCBpbmRleF0uam9pbignLycpOwogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkZG9jLl9hdHRhY2htZW50cyAmJgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZG9jLl9hdHRhY2htZW50c1siaW5kZXguaHRtbCJdKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGFwcFBhdGggPSBbJycsIG5hbWUsIGRkb2MuX2lkLCAiaW5kZXguaHRtbCJdLmpvaW4oJy8nKTsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIGlmIChhcHBQYXRoKSBvcHRpb25zLmVhY2hBcHAoYXBwTmFtZSwgYXBwUGF0aCwgZGRvYyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhbGVydCgiUGxlYXNlIHByb3ZpZGUgYW4gZWFjaEFwcCBmdW5jdGlvbiBmb3IgYWxsQXBwcygpIik7CiAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogUmV0dXJucyB0aGUgc3BlY2lmaWVkIGRvYyBmcm9tIHRoZSBzcGVjaWZpZWQgZGIuCiAgICAgICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzLwogICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYmRvYy5odG1sI2NvdWNoYmFzZS1hcGktCiAgICAgICAgICogZGJkb2NfZGItZG9jX2dldCI+ZG9jcyBmb3IgR0VUIC9kYi9kb2M8L2E+CiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGRvY0lkIGlkIG9mIGRvY3VtZW50IHRvIGZldGNoCiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tLwogICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+CiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IGFqYXhPcHRpb25zIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS8KICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICAgICAqLwogICAgICAgIG9wZW5Eb2M6IGZ1bmN0aW9uKGRvY0lkLCBvcHRpb25zLCBhamF4T3B0aW9ucykgewogICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICAgICBpZiAoZGJfb3B0cy5hdHRhY2hQcmV2UmV2IHx8IG9wdGlvbnMuYXR0YWNoUHJldlJldikgewogICAgICAgICAgICAkLmV4dGVuZChvcHRpb25zLCB7CiAgICAgICAgICAgICAgYmVmb3JlU3VjY2VzcyA6IGZ1bmN0aW9uKHJlcSwgZG9jKSB7CiAgICAgICAgICAgICAgICByYXdEb2NzW2RvYy5faWRdID0gewogICAgICAgICAgICAgICAgICByZXYgOiBkb2MuX3JldiwKICAgICAgICAgICAgICAgICAgcmF3IDogcmVxLnJlc3BvbnNlVGV4dAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgJC5leHRlbmQob3B0aW9ucywgewogICAgICAgICAgICAgIGJlZm9yZVN1Y2Nlc3MgOiBmdW5jdGlvbihyZXEsIGRvYykgewogICAgICAgICAgICAgICAgaWYgKGRvY1sianF1ZXJ5LmNvdWNoLmF0dGFjaFByZXZSZXYiXSkgewogICAgICAgICAgICAgICAgICByYXdEb2NzW2RvYy5faWRdID0gewogICAgICAgICAgICAgICAgICAgIHJldiA6IGRvYy5fcmV2LAogICAgICAgICAgICAgICAgICAgIHJhdyA6IHJlcS5yZXNwb25zZVRleHQKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIGFqYXgoe3VybDogdGhpcy51cmkgKyBlbmNvZGVEb2NJZChkb2NJZCkgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpfSwKICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgIlRoZSBkb2N1bWVudCBjb3VsZCBub3QgYmUgcmV0cmlldmVkIiwKICAgICAgICAgICAgYWpheE9wdGlvbnMKICAgICAgICAgICk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQ3JlYXRlIGEgbmV3IGRvY3VtZW50IGluIHRoZSBzcGVjaWZpZWQgZGF0YWJhc2UsIHVzaW5nIHRoZSBzdXBwbGllZAogICAgICAgICAqIEpTT04gZG9jdW1lbnQgc3RydWN0dXJlLiBJZiB0aGUgSlNPTiBzdHJ1Y3R1cmUgaW5jbHVkZXMgdGhlIF9pZAogICAgICAgICAqIGZpZWxkLCB0aGVuIHRoZSBkb2N1bWVudCB3aWxsIGJlIGNyZWF0ZWQgd2l0aCB0aGUgc3BlY2lmaWVkIGRvY3VtZW50CiAgICAgICAgICogSUQuIElmIHRoZSBfaWQgZmllbGQgaXMgbm90IHNwZWNpZmllZCwgYSBuZXcgdW5pcXVlIElEIHdpbGwgYmUKICAgICAgICAgKiBnZW5lcmF0ZWQuCiAgICAgICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzLwogICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYmRvYy5odG1sI2NvdWNoYmFzZS1hcGktCiAgICAgICAgICogZGJkb2NfZGJfcG9zdCI+ZG9jcyBmb3IgR0VUIC9kYi9kb2M8L2E+CiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IGRvYyBkb2N1bWVudCB0byBzYXZlCiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tLwogICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+CiAgICAgICAgICovCiAgICAgICAgc2F2ZURvYzogZnVuY3Rpb24oZG9jLCBvcHRpb25zKSB7CiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgICAgICAgIHZhciBkYiA9IHRoaXM7CiAgICAgICAgICB2YXIgYmVmb3JlU2VuZCA9IGZ1bGxDb21taXQob3B0aW9ucyk7CiAgICAgICAgICBpZiAoZG9jLl9pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHZhciBtZXRob2QgPSAiUE9TVCI7CiAgICAgICAgICAgIHZhciB1cmkgPSB0aGlzLnVyaTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBtZXRob2QgPSAiUFVUIjsKICAgICAgICAgICAgdmFyIHVyaSA9IHRoaXMudXJpICsgZW5jb2RlRG9jSWQoZG9jLl9pZCk7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgdmVyc2lvbmVkID0gbWF5YmVBcHBseVZlcnNpb24oZG9jKTsKICAgICAgICAgIHJldHVybiAkLmFqYXgoewogICAgICAgICAgICB0eXBlOiBtZXRob2QsIHVybDogdXJpICsgZW5jb2RlT3B0aW9ucyhvcHRpb25zKSwKICAgICAgICAgICAgY29udGVudFR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgZGF0YVR5cGU6ICJqc29uIiwgZGF0YTogdG9KU09OKGRvYyksCiAgICAgICAgICAgIGJlZm9yZVNlbmQgOiBiZWZvcmVTZW5kLAogICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVxKSB7CiAgICAgICAgICAgICAgdmFyIHJlc3AgPSAkLnBhcnNlSlNPTihyZXEucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICBpZiAocmVxLnN0YXR1cyA9PSAyMDAgfHwgcmVxLnN0YXR1cyA9PSAyMDEgfHwgcmVxLnN0YXR1cyA9PSAyMDIpIHsKICAgICAgICAgICAgICAgIGRvYy5faWQgPSByZXNwLmlkOwogICAgICAgICAgICAgICAgZG9jLl9yZXYgPSByZXNwLnJldjsKICAgICAgICAgICAgICAgIGlmICh2ZXJzaW9uZWQpIHsKICAgICAgICAgICAgICAgICAgZGIub3BlbkRvYyhkb2MuX2lkLCB7CiAgICAgICAgICAgICAgICAgICAgYXR0YWNoUHJldlJldiA6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgICAgICAgICAgIGRvYy5fYXR0YWNobWVudHMgPSBkLl9hdHRhY2htZW50czsKICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MpIG9wdGlvbnMuc3VjY2VzcyhyZXNwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykgb3B0aW9ucy5zdWNjZXNzKHJlc3ApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5lcnJvcikgewogICAgICAgICAgICAgICAgb3B0aW9ucy5lcnJvcihyZXEuc3RhdHVzLCByZXNwLmVycm9yLCByZXNwLnJlYXNvbik7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCJUaGUgZG9jdW1lbnQgY291bGQgbm90IGJlIHNhdmVkOiAiICsgcmVzcC5yZWFzb24pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogU2F2ZSBhIGxpc3Qgb2YgZG9jdW1lbnRzCiAgICAgICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzLwogICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYi5odG1sI2NvdWNoYmFzZS1hcGktZGJfCiAgICAgICAgICogZGItYnVsay1kb2NzX3Bvc3QiPmRvY3MgZm9yIC9kYi9fYnVsa19kb2NzPC9hPgogICAgICAgICAqIEBwYXJhbSB7T2JqZWN0W119IGRvY3MgTGlzdCBvZiBkb2N1bWVudHMgdG8gc2F2ZQogICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS8KICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICAgICAqLwogICAgICAgIGJ1bGtTYXZlOiBmdW5jdGlvbihkb2NzLCBvcHRpb25zKSB7CiAgICAgICAgICB2YXIgYmVmb3JlU2VuZCA9IGZ1bGxDb21taXQob3B0aW9ucyk7CiAgICAgICAgICAkLmV4dGVuZChvcHRpb25zLCB7c3VjY2Vzc1N0YXR1czogMjAxLCBiZWZvcmVTZW5kIDogYmVmb3JlU2VuZH0pOwogICAgICAgICAgcmV0dXJuIGFqYXgoewogICAgICAgICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICAgICAgICB1cmw6IHRoaXMudXJpICsgIl9idWxrX2RvY3MiICsgZW5jb2RlT3B0aW9ucyhvcHRpb25zKSwKICAgICAgICAgICAgICBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb24iLCBkYXRhOiB0b0pTT04oZG9jcykKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgIlRoZSBkb2N1bWVudHMgY291bGQgbm90IGJlIHNhdmVkIgogICAgICAgICAgKTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBEZWxldGVzIHRoZSBzcGVjaWZpZWQgZG9jdW1lbnQgZnJvbSB0aGUgZGF0YWJhc2UuIFlvdSBtdXN0IHN1cHBseQogICAgICAgICAqIHRoZSBjdXJyZW50IChsYXRlc3QpIHJldmlzaW9uIGFuZCA8Y29kZT5pZDwvY29kZT4gb2YgdGhlIGRvY3VtZW50CiAgICAgICAgICogdG8gZGVsZXRlIGVnIDxjb2RlPnJlbW92ZURvYyh7X2lkOiJteWRvYyIsIF9yZXY6ICIxLTIzNDUifSk8L2NvZGU+CiAgICAgICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzLwogICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kYmRvYy5odG1sI2NvdWNoYmFzZS1hcGkKICAgICAgICAgKiAtZGJkb2NfZGItZG9jX2RlbGV0ZSI+ZG9jcyBmb3IgREVMRVRFIC9kYi9kb2M8L2E+CiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGRvYyBEb2N1bWVudCB0byBkZWxldGUKICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKi8KICAgICAgICByZW1vdmVEb2M6IGZ1bmN0aW9uKGRvYywgb3B0aW9ucykgewogICAgICAgICAgcmV0dXJuIGFqYXgoewogICAgICAgICAgICAgIHR5cGU6ICJERUxFVEUiLAogICAgICAgICAgICAgIHVybDogdGhpcy51cmkgKwogICAgICAgICAgICAgICAgICAgZW5jb2RlRG9jSWQoZG9jLl9pZCkgKwogICAgICAgICAgICAgICAgICAgZW5jb2RlT3B0aW9ucyh7cmV2OiBkb2MuX3Jldn0pCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgICJUaGUgZG9jdW1lbnQgY291bGQgbm90IGJlIGRlbGV0ZWQiCiAgICAgICAgICApOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIFJlbW92ZSBhIHNldCBvZiBkb2N1bWVudHMKICAgICAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvCiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiLmh0bWwjY291Y2hiYXNlLWFwaS1kYl8KICAgICAgICAgKiBkYi1idWxrLWRvY3NfcG9zdCI+ZG9jcyBmb3IgL2RiL19idWxrX2RvY3M8L2E+CiAgICAgICAgICogQHBhcmFtIHtTdHJpbmdbXX0gZG9jcyBMaXN0IG9mIGRvY3VtZW50IGlkJ3MgdG8gcmVtb3ZlCiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tLwogICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+CiAgICAgICAgICovCiAgICAgICAgYnVsa1JlbW92ZTogZnVuY3Rpb24oZG9jcywgb3B0aW9ucyl7CiAgICAgICAgICBkb2NzLmRvY3MgPSAkLmVhY2goCiAgICAgICAgICAgIGRvY3MuZG9jcywgZnVuY3Rpb24oaSwgZG9jKXsKICAgICAgICAgICAgICBkb2MuX2RlbGV0ZWQgPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICApOwogICAgICAgICAgJC5leHRlbmQob3B0aW9ucywge3N1Y2Nlc3NTdGF0dXM6IDIwMX0pOwogICAgICAgICAgcmV0dXJuIGFqYXgoewogICAgICAgICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICAgICAgICB1cmw6IHRoaXMudXJpICsgIl9idWxrX2RvY3MiICsgZW5jb2RlT3B0aW9ucyhvcHRpb25zKSwKICAgICAgICAgICAgICBkYXRhOiB0b0pTT04oZG9jcykKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgIlRoZSBkb2N1bWVudHMgY291bGQgbm90IGJlIGRlbGV0ZWQiCiAgICAgICAgICApOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIFRoZSBDT1BZIGNvbW1hbmQgKHdoaWNoIGlzIG5vbi1zdGFuZGFyZCBIVFRQKSBjb3BpZXMgYW4gZXhpc3RpbmcKICAgICAgICAgKiBkb2N1bWVudCB0byBhIG5ldyBvciBleGlzdGluZyBkb2N1bWVudC4KICAgICAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvCiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiZG9jLmh0bWwjY291Y2hiYXNlLWFwaS0KICAgICAgICAgKiBkYmRvY19kYi1kb2NfY29weSI+ZG9jcyBmb3IgQ09QWSAvZGIvZG9jPC9hPgogICAgICAgICAqIEBwYXJhbSB7U3RyaW5nW119IGRvY0lkIGRvY3VtZW50IGlkIHRvIGNvcHkKICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKi8KICAgICAgICBjb3B5RG9jOiBmdW5jdGlvbihkb2NJZCwgb3B0aW9ucywgYWpheE9wdGlvbnMpIHsKICAgICAgICAgIGFqYXhPcHRpb25zID0gJC5leHRlbmQoYWpheE9wdGlvbnMsIHsKICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlcSkgewogICAgICAgICAgICAgIHZhciByZXNwID0gJC5wYXJzZUpTT04ocmVxLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgaWYgKHJlcS5zdGF0dXMgPT0gMjAxKSB7CiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zdWNjZXNzKSBvcHRpb25zLnN1Y2Nlc3MocmVzcCk7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmVycm9yKSB7CiAgICAgICAgICAgICAgICBvcHRpb25zLmVycm9yKHJlcS5zdGF0dXMsIHJlc3AuZXJyb3IsIHJlc3AucmVhc29uKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYWxlcnQoIlRoZSBkb2N1bWVudCBjb3VsZCBub3QgYmUgY29waWVkOiAiICsgcmVzcC5yZWFzb24pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICByZXR1cm4gYWpheCh7CiAgICAgICAgICAgICAgdHlwZTogIkNPUFkiLAogICAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyBlbmNvZGVEb2NJZChkb2NJZCkKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgIlRoZSBkb2N1bWVudCBjb3VsZCBub3QgYmUgY29waWVkIiwKICAgICAgICAgICAgYWpheE9wdGlvbnMKICAgICAgICAgICk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogQ3JlYXRlcyAoYW5kIGV4ZWN1dGVzKSBhIHRlbXBvcmFyeSB2aWV3IGJhc2VkIG9uIHRoZSB2aWV3IGZ1bmN0aW9uCiAgICAgICAgICogc3VwcGxpZWQgaW4gdGhlIEpTT04gcmVxdWVzdC4KICAgICAgICAgKiBAc2VlIDxhIGhyZWY9Imh0dHA6Ly90ZWNoem9uZS5jb3VjaGJhc2UuY29tL3NpdGVzL2RlZmF1bHQvZmlsZXMvCiAgICAgICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLWRiLmh0bWwjY291Y2hiYXNlLWFwaS1kYgogICAgICAgICAqIF9kYi10ZW1wLXZpZXdfcG9zdCI+ZG9jcyBmb3IgL2RiL190ZW1wX3ZpZXc8L2E+CiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbWFwRnVuIE1hcCBmdW5jdGlvbgogICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHJlZHVjZUZ1biBSZWR1Y2UgZnVuY3Rpb24KICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBsYW5ndWFnZSBMYW5ndWFnZSB0aGUgbWFwIC8gcmVkdWNlIGZ1bnMgYXJlCiAgICAgICAgICogaW1wbGVtZW50ZWQgaW4KICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKi8KICAgICAgICBxdWVyeTogZnVuY3Rpb24obWFwRnVuLCByZWR1Y2VGdW4sIGxhbmd1YWdlLCBvcHRpb25zKSB7CiAgICAgICAgICBsYW5ndWFnZSA9IGxhbmd1YWdlIHx8ICJqYXZhc2NyaXB0IjsKICAgICAgICAgIGlmICh0eXBlb2YobWFwRnVuKSAhPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgbWFwRnVuID0gbWFwRnVuLnRvU291cmNlID8gbWFwRnVuLnRvU291cmNlKCkKICAgICAgICAgICAgICA6ICIoIiArIG1hcEZ1bi50b1N0cmluZygpICsgIikiOwogICAgICAgICAgfQogICAgICAgICAgdmFyIGJvZHkgPSB7bGFuZ3VhZ2U6IGxhbmd1YWdlLCBtYXA6IG1hcEZ1bn07CiAgICAgICAgICBpZiAocmVkdWNlRnVuICE9IG51bGwpIHsKICAgICAgICAgICAgaWYgKHR5cGVvZihyZWR1Y2VGdW4pICE9PSAic3RyaW5nIikKICAgICAgICAgICAgICByZWR1Y2VGdW4gPSByZWR1Y2VGdW4udG9Tb3VyY2UgPyByZWR1Y2VGdW4udG9Tb3VyY2UoKQogICAgICAgICAgICAgICAgOiAiKCIgKyByZWR1Y2VGdW4udG9TdHJpbmcoKSArICIpIjsKICAgICAgICAgICAgYm9keS5yZWR1Y2UgPSByZWR1Y2VGdW47CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gYWpheCh7CiAgICAgICAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyAiX3RlbXBfdmlldyIgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpLAogICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbiIsIGRhdGE6IHRvSlNPTihib2R5KQogICAgICAgICAgICB9LAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAiQW4gZXJyb3Igb2NjdXJyZWQgcXVlcnlpbmcgdGhlIGRhdGFiYXNlIgogICAgICAgICAgKTsKICAgICAgICB9LAoKICAgICAgICAvKioKICAgICAgICAgKiBGZXRjaCBhIF9saXN0IHZpZXcgb3V0cHV0LCB5b3UgY2FuIHNwZWNpZnkgYSBsaXN0IG9mCiAgICAgICAgICogPGNvZGU+a2V5czwvY29kZT4gaW4gdGhlIG9wdGlvbnMgb2JqZWN0IHRvIHJlY2lldmUgb25seSB0aG9zZSBrZXlzLgogICAgICAgICAqIEBzZWUgPGEgaHJlZj0iaHR0cDovL3RlY2h6b25lLmNvdWNoYmFzZS5jb20vc2l0ZXMvZGVmYXVsdC9maWxlcy8KICAgICAgICAgKiB1cGxvYWRzL2FsbC9kb2N1bWVudGF0aW9uL2NvdWNoYmFzZS1hcGktZGVzaWduLmh0bWwjY291Y2hiYXNlLWFwaQogICAgICAgICAqIC1kZXNpZ25fZGItZGVzaWduLWRlc2lnbmRvYy1saXN0LWxpc3RuYW1lLXZpZXduYW1lX2dldCI+CiAgICAgICAgICogZG9jcyBmb3IgL2RiL19kZXNpZ24vZGVzaWduLWRvYy9fbGlzdC9sMS92MTwvYT4KICAgICAgICAgKiBAcGFyYW0ge1N0cmluZ30gbGlzdCBMaXN0bmFtZSBpbiB0aGUgZm9ybSBvZiBkZG9jL2xpc3RuYW1lCiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHZpZXcgVmlldyB0byBydW4gbGlzdCBhZ2FpbnN0CiAgICAgICAgICogQHBhcmFtIHtvcHRpb25zfSBDb3VjaERCIDxhIGhyZWY9Imh0dHA6Ly93aWtpLmFwYWNoZS5vcmcvY291Y2hkYi8KICAgICAgICAgKiBIVFRQX3ZpZXdfQVBJIj5WaWV3IE9wdGlvbnM8L2E+CiAgICAgICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IG9wdGlvbnMgPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tLwogICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+CiAgICAgICAgICovCiAgICAgICAgbGlzdDogZnVuY3Rpb24obGlzdCwgdmlldywgb3B0aW9ucywgYWpheE9wdGlvbnMpIHsKICAgICAgICAgIHZhciBsaXN0ID0gbGlzdC5zcGxpdCgnLycpOwogICAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgICAgICAgdmFyIHR5cGUgPSAnR0VUJzsKICAgICAgICAgIHZhciBkYXRhID0gbnVsbDsKICAgICAgICAgIGlmIChvcHRpb25zWydrZXlzJ10pIHsKICAgICAgICAgICAgdHlwZSA9ICdQT1NUJzsKICAgICAgICAgICAgdmFyIGtleXMgPSBvcHRpb25zWydrZXlzJ107CiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zWydrZXlzJ107CiAgICAgICAgICAgIGRhdGEgPSB0b0pTT04oeydrZXlzJzoga2V5cyB9KTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBhamF4KHsKICAgICAgICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgICAgdXJsOiB0aGlzLnVyaSArICdfZGVzaWduLycgKyBsaXN0WzBdICsKICAgICAgICAgICAgICAgICAgICcvX2xpc3QvJyArIGxpc3RbMV0gKyAnLycgKyB2aWV3ICsgZW5jb2RlT3B0aW9ucyhvcHRpb25zKQogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgYWpheE9wdGlvbnMsICdBbiBlcnJvciBvY2N1cmVkIGFjY2Vzc2luZyB0aGUgbGlzdCcKICAgICAgICAgICk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogRXhlY3V0ZXMgdGhlIHNwZWNpZmllZCB2aWV3LW5hbWUgZnJvbSB0aGUgc3BlY2lmaWVkIGRlc2lnbi1kb2MKICAgICAgICAgKiBkZXNpZ24gZG9jdW1lbnQsIHlvdSBjYW4gc3BlY2lmeSBhIGxpc3Qgb2YgPGNvZGU+a2V5czwvY29kZT4KICAgICAgICAgKiBpbiB0aGUgb3B0aW9ucyBvYmplY3QgdG8gcmVjaWV2ZSBvbmx5IHRob3NlIGtleXMuCiAgICAgICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzLwogICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS1kZXNpZ24uaHRtbCNjb3VjaGJhc2UtYXBpLQogICAgICAgICAqIGRlc2lnbl9kYi1kZXNpZ24tZGVzaWduZG9jLXZpZXctdmlld25hbWVfZ2V0Ij5kb2NzIGZvciAvZGIvCiAgICAgICAgICogX2Rlc2lnbi9kZXNpZ24tZG9jL19saXN0L2wxL3YxPC9hPgogICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIFZpZXcgdG8gcnVuIGxpc3QgYWdhaW5zdAogICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS8KICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICAgICAqLwogICAgICAgIHZpZXc6IGZ1bmN0aW9uKG5hbWUsIG9wdGlvbnMpIHsKICAgICAgICAgIHZhciBuYW1lID0gbmFtZS5zcGxpdCgnLycpOwogICAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgICAgICAgdmFyIHR5cGUgPSAiR0VUIjsKICAgICAgICAgIHZhciBkYXRhPSBudWxsOwogICAgICAgICAgaWYgKG9wdGlvbnNbImtleXMiXSkgewogICAgICAgICAgICB0eXBlID0gIlBPU1QiOwogICAgICAgICAgICB2YXIga2V5cyA9IG9wdGlvbnNbImtleXMiXTsKICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnNbImtleXMiXTsKICAgICAgICAgICAgZGF0YSA9IHRvSlNPTih7ICJrZXlzIjoga2V5cyB9KTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBhamF4KHsKICAgICAgICAgICAgICB0eXBlOiB0eXBlLAogICAgICAgICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgICAgICAgdXJsOiB0aGlzLnVyaSArICJfZGVzaWduLyIgKyBuYW1lWzBdICsKICAgICAgICAgICAgICAgICAgICIvX3ZpZXcvIiArIG5hbWVbMV0gKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wdGlvbnMsICJBbiBlcnJvciBvY2N1cnJlZCBhY2Nlc3NpbmcgdGhlIHZpZXciCiAgICAgICAgICApOwogICAgICAgIH0sCgogICAgICAgIC8qKgogICAgICAgICAqIEZldGNoIGFuIGFyYml0cmFyeSBDb3VjaERCIGRhdGFiYXNlIHByb3BlcnR5CiAgICAgICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzLwogICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS5odG1sIj5kb2NzIGZvciAvZGIvX3Byb3A8L2E+CiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BOYW1lIFByb3BlcnkgbmFtZSB0byBmZXRjaAogICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBvcHRpb25zIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS8KICAgICAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICAgICAqIEBwYXJhbSB7YWpheFNldHRpbmdzfSBhamF4T3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKi8KICAgICAgICBnZXREYlByb3BlcnR5OiBmdW5jdGlvbihwcm9wTmFtZSwgb3B0aW9ucywgYWpheE9wdGlvbnMpIHsKICAgICAgICAgIHJldHVybiBhamF4KHt1cmw6IHRoaXMudXJpICsgcHJvcE5hbWUgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpfSwKICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgIlRoZSBwcm9wZXJ0eSBjb3VsZCBub3QgYmUgcmV0cmlldmVkIiwKICAgICAgICAgICAgYWpheE9wdGlvbnMKICAgICAgICAgICk7CiAgICAgICAgfSwKCiAgICAgICAgLyoqCiAgICAgICAgICogU2V0IGFuIGFyYml0cmFyeSBDb3VjaERCIGRhdGFiYXNlIHByb3BlcnR5CiAgICAgICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzLwogICAgICAgICAqIHVwbG9hZHMvYWxsL2RvY3VtZW50YXRpb24vY291Y2hiYXNlLWFwaS5odG1sIj5kb2NzIGZvciAvZGIvX3Byb3A8L2E+CiAgICAgICAgICogQHBhcmFtIHtTdHJpbmd9IHByb3BOYW1lIFByb3BlcnkgbmFtZSB0byBmZXRjaAogICAgICAgICAqIEBwYXJhbSB7U3RyaW5nfSBwcm9wVmFsdWUgUHJvcGVyeSB2YWx1ZSB0byBzZXQKICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgICAgICogalF1ZXJ5LmFqYXgvI2pRdWVyeS1hamF4LXNldHRpbmdzIj5qUXVlcnkgYWpheCBzZXR0aW5nczwvYT4KICAgICAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gYWpheE9wdGlvbnMgPGEgaHJlZj0iaHR0cDovL2FwaS5qcXVlcnkuY29tLwogICAgICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+CiAgICAgICAgICovCiAgICAgICAgc2V0RGJQcm9wZXJ0eTogZnVuY3Rpb24ocHJvcE5hbWUsIHByb3BWYWx1ZSwgb3B0aW9ucywgYWpheE9wdGlvbnMpIHsKICAgICAgICAgIHJldHVybiBhamF4KHsKICAgICAgICAgICAgdHlwZTogIlBVVCIsCiAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyBwcm9wTmFtZSArIGVuY29kZU9wdGlvbnMob3B0aW9ucyksCiAgICAgICAgICAgIGRhdGEgOiBKU09OLnN0cmluZ2lmeShwcm9wVmFsdWUpCiAgICAgICAgICB9LAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAiVGhlIHByb3BlcnR5IGNvdWxkIG5vdCBiZSB1cGRhdGVkIiwKICAgICAgICAgICAgYWpheE9wdGlvbnMKICAgICAgICAgICk7CiAgICAgICAgfQogICAgICB9OwogICAgfSwKCiAgICBlbmNvZGVEb2NJZDogZW5jb2RlRG9jSWQsCgogICAgLyoqCiAgICAgKiBBY2Nlc3NpbmcgdGhlIHJvb3Qgb2YgYSBDb3VjaERCIGluc3RhbmNlIHJldHVybnMgbWV0YSBpbmZvcm1hdGlvbiBhYm91dAogICAgICogdGhlIGluc3RhbmNlLiBUaGUgcmVzcG9uc2UgaXMgYSBKU09OIHN0cnVjdHVyZSBjb250YWluaW5nIGluZm9ybWF0aW9uCiAgICAgKiBhYm91dCB0aGUgc2VydmVyLCBpbmNsdWRpbmcgYSB3ZWxjb21lIG1lc3NhZ2UgYW5kIHRoZSB2ZXJzaW9uIG9mIHRoZQogICAgICogc2VydmVyLgogICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzL3VwbG9hZHMvCiAgICAgKiBhbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLW1pc2MuaHRtbCNjb3VjaGJhc2UtYXBpLW1pc2Nfcm9vdF9nZXQiPgogICAgICogZG9jcyBmb3IgR0VUIC88L2E+CiAgICAgKiBAcGFyYW0ge2FqYXhTZXR0aW5nc30gb3B0aW9ucyA8YSBocmVmPSJodHRwOi8vYXBpLmpxdWVyeS5jb20vCiAgICAgKiBqUXVlcnkuYWpheC8jalF1ZXJ5LWFqYXgtc2V0dGluZ3MiPmpRdWVyeSBhamF4IHNldHRpbmdzPC9hPgogICAgICovCiAgICBpbmZvOiBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgIHJldHVybiBhamF4KAogICAgICAgIHt1cmw6IHRoaXMudXJsUHJlZml4ICsgIi8ifSwKICAgICAgICBvcHRpb25zLAogICAgICAgICJTZXJ2ZXIgaW5mb3JtYXRpb24gY291bGQgbm90IGJlIHJldHJpZXZlZCIKICAgICAgKTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBSZXF1ZXN0LCBjb25maWd1cmUsIG9yIHN0b3AsIGEgcmVwbGljYXRpb24gb3BlcmF0aW9uLgogICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzLwogICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLW1pc2MuaHRtbCNjb3VjaGJhc2UtYXBpLQogICAgICogbWlzY19yZXBsaWNhdGVfcG9zdCI+ZG9jcyBmb3IgUE9TVCAvX3JlcGxpY2F0ZTwvYT4KICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzb3VyY2UgUGF0aCBvciB1cmwgdG8gc291cmNlIGRhdGFiYXNlCiAgICAgKiBAcGFyYW0ge1N0cmluZ30gdGFyZ2V0IFBhdGggb3IgdXJsIHRvIHRhcmdldCBkYXRhYmFzZQogICAgICogQHBhcmFtIHthamF4U2V0dGluZ3N9IGFqYXhPcHRpb25zIDxhIGhyZWY9Imh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS8KICAgICAqIGpRdWVyeS5hamF4LyNqUXVlcnktYWpheC1zZXR0aW5ncyI+alF1ZXJ5IGFqYXggc2V0dGluZ3M8L2E+CiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVwT3B0cyBBZGRpdGlvbmFsIHJlcGxpY2F0aW9uIG9wdGlvbnMKICAgICAqLwogICAgcmVwbGljYXRlOiBmdW5jdGlvbihzb3VyY2UsIHRhcmdldCwgYWpheE9wdGlvbnMsIHJlcE9wdHMpIHsKICAgICAgcmVwT3B0cyA9ICQuZXh0ZW5kKHtzb3VyY2U6IHNvdXJjZSwgdGFyZ2V0OiB0YXJnZXR9LCByZXBPcHRzKTsKICAgICAgaWYgKHJlcE9wdHMuY29udGludW91cyAmJiAhcmVwT3B0cy5jYW5jZWwpIHsKICAgICAgICBhamF4T3B0aW9ucy5zdWNjZXNzU3RhdHVzID0gMjAyOwogICAgICB9CiAgICAgIHJldHVybiBhamF4KHsKICAgICAgICAgIHR5cGU6ICJQT1NUIiwgdXJsOiB0aGlzLnVybFByZWZpeCArICIvX3JlcGxpY2F0ZSIsCiAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShyZXBPcHRzKSwKICAgICAgICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgICB9LAogICAgICAgIGFqYXhPcHRpb25zLAogICAgICAgICJSZXBsaWNhdGlvbiBmYWlsZWQiCiAgICAgICk7CiAgICB9LAoKICAgIC8qKgogICAgICogRmV0Y2ggYSBuZXcgVVVJRAogICAgICogQHNlZSA8YSBocmVmPSJodHRwOi8vdGVjaHpvbmUuY291Y2hiYXNlLmNvbS9zaXRlcy9kZWZhdWx0L2ZpbGVzLwogICAgICogdXBsb2Fkcy9hbGwvZG9jdW1lbnRhdGlvbi9jb3VjaGJhc2UtYXBpLW1pc2MuaHRtbCNjb3VjaGJhc2UtYXBpLQogICAgICogbWlzY191dWlkc19nZXQiPmRvY3MgZm9yIC9fdXVpZHM8L2E+CiAgICAgKiBAcGFyYW0ge0ludH0gY2FjaGVOdW0gTnVtYmVyIG9mIHV1aWRzIHRvIGtlZXAgY2FjaGVkIGZvciBmdXR1cmUgdXNlCiAgICAgKi8KICAgIG5ld1VVSUQ6IGZ1bmN0aW9uKGNhY2hlTnVtKSB7CiAgICAgIGlmIChjYWNoZU51bSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY2FjaGVOdW0gPSAxOwogICAgICB9CiAgICAgIGlmICghdXVpZENhY2hlLmxlbmd0aCkgewogICAgICAgIGFqYXgoe3VybDogdGhpcy51cmxQcmVmaXggKyAiL191dWlkcyIsIGRhdGE6IHtjb3VudDogY2FjaGVOdW19LCBhc3luYzoKICAgICAgICAgICAgICBmYWxzZX0sIHsKICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcCkgewogICAgICAgICAgICAgIHV1aWRDYWNoZSA9IHJlc3AudXVpZHM7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICAiRmFpbGVkIHRvIHJldHJpZXZlIFVVSUQgYmF0Y2guIgogICAgICAgICk7CiAgICAgIH0KICAgICAgcmV0dXJuIHV1aWRDYWNoZS5zaGlmdCgpOwogICAgfQogIH0pOwoKICAvKioKICAgKiBAcHJpdmF0ZQogICAqLwogIGZ1bmN0aW9uIGFqYXgob2JqLCBvcHRpb25zLCBlcnJvck1lc3NhZ2UsIGFqYXhPcHRpb25zKSB7CgogICAgdmFyIGRlZmF1bHRBamF4T3B0cyA9IHsKICAgICAgY29udGVudFR5cGU6ICJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgaGVhZGVyczp7IkFjY2VwdCI6ICJhcHBsaWNhdGlvbi9qc29uIn0KICAgIH07CgogICAgb3B0aW9ucyA9ICQuZXh0ZW5kKHtzdWNjZXNzU3RhdHVzOiAyMDB9LCBvcHRpb25zKTsKICAgIGFqYXhPcHRpb25zID0gJC5leHRlbmQoZGVmYXVsdEFqYXhPcHRzLCBhamF4T3B0aW9ucyk7CiAgICBlcnJvck1lc3NhZ2UgPSBlcnJvck1lc3NhZ2UgfHwgIlVua25vd24gZXJyb3IiOwogICAgcmV0dXJuICQuYWpheCgkLmV4dGVuZCgkLmV4dGVuZCh7CiAgICAgIHR5cGU6ICJHRVQiLCBkYXRhVHlwZTogImpzb24iLCBjYWNoZSA6ICEkLmJyb3dzZXIubXNpZSwKICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oeGhyKXsKICAgICAgICBpZihhamF4T3B0aW9ucyAmJiBhamF4T3B0aW9ucy5oZWFkZXJzKXsKICAgICAgICAgIGZvciAodmFyIGhlYWRlciBpbiBhamF4T3B0aW9ucy5oZWFkZXJzKXsKICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaGVhZGVyLCBhamF4T3B0aW9ucy5oZWFkZXJzW2hlYWRlcl0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlcSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgcmVzcCA9ICQucGFyc2VKU09OKHJlcS5yZXNwb25zZVRleHQpOwogICAgICAgIH0gY2F0Y2goZSkgewogICAgICAgICAgaWYgKG9wdGlvbnMuZXJyb3IpIHsKICAgICAgICAgICAgb3B0aW9ucy5lcnJvcihyZXEuc3RhdHVzLCByZXEsIGUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQoZXJyb3JNZXNzYWdlICsgIjogIiArIGUpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAob3B0aW9ucy5hamF4U3RhcnQpIHsKICAgICAgICAgIG9wdGlvbnMuYWpheFN0YXJ0KHJlc3ApOwogICAgICAgIH0KICAgICAgICBpZiAocmVxLnN0YXR1cyA9PSBvcHRpb25zLnN1Y2Nlc3NTdGF0dXMpIHsKICAgICAgICAgIGlmIChvcHRpb25zLmJlZm9yZVN1Y2Nlc3MpIG9wdGlvbnMuYmVmb3JlU3VjY2VzcyhyZXEsIHJlc3ApOwogICAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykgb3B0aW9ucy5zdWNjZXNzKHJlc3ApOwogICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5lcnJvcikgewogICAgICAgICAgb3B0aW9ucy5lcnJvcihyZXEuc3RhdHVzLCByZXNwICYmIHJlc3AuZXJyb3IgfHwKICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlLCByZXNwICYmIHJlc3AucmVhc29uIHx8ICJubyByZXNwb25zZSIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydChlcnJvck1lc3NhZ2UgKyAiOiAiICsgcmVzcC5yZWFzb24pOwogICAgICAgIH0KICAgICAgfQogICAgfSwgb2JqKSwgYWpheE9wdGlvbnMpKTsKICB9CgogIC8qKgogICAqIEBwcml2YXRlCiAgICovCiAgZnVuY3Rpb24gZnVsbENvbW1pdChvcHRpb25zKSB7CiAgICB2YXIgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZW5zdXJlX2Z1bGxfY29tbWl0ICE9PSAidW5kZWZpbmVkIikgewogICAgICB2YXIgY29tbWl0ID0gb3B0aW9ucy5lbnN1cmVfZnVsbF9jb21taXQ7CiAgICAgIGRlbGV0ZSBvcHRpb25zLmVuc3VyZV9mdWxsX2NvbW1pdDsKICAgICAgcmV0dXJuIGZ1bmN0aW9uKHhocikgewogICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpOwogICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCJYLUNvdWNoLUZ1bGwtQ29tbWl0IiwgY29tbWl0LnRvU3RyaW5nKCkpOwogICAgICB9OwogICAgfQogIH07CgogIC8qKgogICAqIEBwcml2YXRlCiAgICovCiAgLy8gQ29udmVydCBhIG9wdGlvbnMgb2JqZWN0IHRvIGFuIHVybCBxdWVyeSBzdHJpbmcuCiAgLy8gZXg6IHtrZXk6J3ZhbHVlJyxrZXkyOid2YWx1ZTInfSBiZWNvbWVzICc/a2V5PSJ2YWx1ZSIma2V5Mj0idmFsdWUyIicKICBmdW5jdGlvbiBlbmNvZGVPcHRpb25zKG9wdGlvbnMpIHsKICAgIHZhciBidWYgPSBbXTsKICAgIGlmICh0eXBlb2Yob3B0aW9ucykgPT09ICJvYmplY3QiICYmIG9wdGlvbnMgIT09IG51bGwpIHsKICAgICAgZm9yICh2YXIgbmFtZSBpbiBvcHRpb25zKSB7CiAgICAgICAgaWYgKCQuaW5BcnJheShuYW1lLAogICAgICAgICAgICAgICAgICAgICAgWyJlcnJvciIsICJzdWNjZXNzIiwgImJlZm9yZVN1Y2Nlc3MiLCAiYWpheFN0YXJ0Il0pID49IDApCiAgICAgICAgICBjb250aW51ZTsKICAgICAgICB2YXIgdmFsdWUgPSBvcHRpb25zW25hbWVdOwogICAgICAgIGlmICgkLmluQXJyYXkobmFtZSwgWyJrZXkiLCAic3RhcnRrZXkiLCAiZW5ka2V5Il0pID49IDApIHsKICAgICAgICAgIHZhbHVlID0gdG9KU09OKHZhbHVlKTsKICAgICAgICB9CiAgICAgICAgYnVmLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpICsgIj0iICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBidWYubGVuZ3RoID8gIj8iICsgYnVmLmpvaW4oIiYiKSA6ICIiOwogIH0KCiAgLyoqCiAgICogQHByaXZhdGUKICAgKi8KICBmdW5jdGlvbiB0b0pTT04ob2JqKSB7CiAgICByZXR1cm4gb2JqICE9PSBudWxsID8gSlNPTi5zdHJpbmdpZnkob2JqKSA6IG51bGw7CiAgfQoKfSkoalF1ZXJ5KTs="},"js/router.js":{"content_type":"application/javascript","revpos":1,"digest":"md5-cAVLgfZus4HUy3m+Xtxn3w==","data":"dmFyIFJvdXRlciA9IChmdW5jdGlvbigpIHsKCiAgdmFyIFBBVEhfUkVQTEFDRVIgPSAiKFteXC9dKykiCiAgICAsIFBBVEhfTUFUQ0hFUiA9ICgvOihbXHdcZF0rKS9nKQogICAgLCBXSUxEX01BVENIRVIgPSAoL1wqKFtcd1xkXSspL2cpCiAgICAsIFdJTERfUkVQTEFDRVIgPSAiKC4qPykiCiAgICAsIGxhc3RQYWdlCiAgICAsIGhpc3RvcnkgPSBbXQogICAgLCBoYXNocGFyYW1zID0ge30KICAgICwgcGFyYW1zID0ge30KICAgICwgcm91dGVzID0ge0dFVDogW10sIFBPU1Q6IFtdfTsKCiAgJC5lYWNoKGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaC5zbGljZSgxKS5zcGxpdCgiJiIpLCBmdW5jdGlvbihpLCBwYXJhbSkgewogICAgdmFyIHRtcCA9IHBhcmFtLnNwbGl0KCI9Iik7CiAgICBwYXJhbXNbdG1wWzBdXSA9IHRtcFsxXTsKICB9KTsKCiAgLy8gTmVlZHMgbmFtZXNwYWNlZCBhbmQgZGVjb3VwbGVkIGFuZCBzdHVmZgogIGZ1bmN0aW9uIGluaXQocGFyZW50KSB7CiAgICAkKHBhcmVudCkuYmluZCgiaGFzaGNoYW5nZSIsIHVybENoYW5nZWQpLnRyaWdnZXIoImhhc2hjaGFuZ2UiKTsKICAgICQoZG9jdW1lbnQpLmJpbmQoInN1Ym1pdCIsIGZvcm1TdWJtaXR0ZWQpOwogIH0KCiAgZnVuY3Rpb24gYmFjaygpIHsKICAgIGhpc3RvcnkucG9wKCk7IC8vIGN1cnJlbnQgdXJsCiAgICBpZiAoaGlzdG9yeS5sZW5ndGggPiAwKSB7CiAgICAgIGRvY3VtZW50LmxvY2F0aW9uLmhyZWYgPSAiIyIgKyBoaXN0b3J5LnBvcCgpOwogICAgfSBlbHNlIHsKICAgICAgZG9jdW1lbnQubG9jYXRpb24uaHJlZiA9ICIjIjsKICAgIH0KICB9CgogIGZ1bmN0aW9uIGdldChwYXRoLCBjYikgewogICAgdmFyIG9iaiA9IHtwYXRoOnBhdGgsIGxvYWQ6Y2J9OwogICAgcm91dGVzLkdFVC5wdXNoKG9iaik7CiAgICByZXR1cm4gewogICAgICB1bmxvYWQ6IGZ1bmN0aW9uKHVubG9hZENhbGxiYWNrKSB7CiAgICAgICAgb2JqLnVubG9hZCA9IHVubG9hZENhbGxiYWNrOwogICAgICB9LAogICAgICBvcHRzOiBmdW5jdGlvbihvcHRzKSB7CiAgICAgICAgb2JqLm9wdHMgPSBvcHRzOwogICAgICB9CiAgICB9OwogIH0KCiAgZnVuY3Rpb24gcG9zdChwYXRoLCBjYikgewogICAgdmFyIG9iaiA9IHtwYXRoOnBhdGgsIGxvYWQ6Y2J9OwogICAgcm91dGVzLlBPU1QucHVzaChvYmopOwogICAgcmV0dXJuIHsKICAgICAgdW5sb2FkOiBmdW5jdGlvbih1bmxvYWRDYWxsYmFjaykgewogICAgICAgIG9iai51bmxvYWQgPSB1bmxvYWRDYWxsYmFjazsKICAgICAgfSwKICAgICAgb3B0czogZnVuY3Rpb24ob3B0cykgewogICAgICAgIG9iai5vcHRzID0gb3B0czsKICAgICAgfQogICAgfTsKICB9CgogIGZ1bmN0aW9uIHRvUmVnZXgocGF0aCkgewogICAgaWYgKHBhdGguY29uc3RydWN0b3IgPT0gU3RyaW5nKSB7CiAgICAgIHJldHVybiBuZXcgUmVnRXhwKCJeIiArIHBhdGgucmVwbGFjZShQQVRIX01BVENIRVIsIFBBVEhfUkVQTEFDRVIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoV0lMRF9NQVRDSEVSLCBXSUxEX1JFUExBQ0VSKSArIiQiKTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBwYXRoOwogICAgfQogIH0KCiAgZnVuY3Rpb24gcmVmcmVzaCgpIHsKICAgIHVybENoYW5nZWQobnVsbCwgeyJyb3V0ZXIiOiB7InJlZnJlc2giOiB0cnVlfX0pOwogIH0KCiAgZnVuY3Rpb24gdXJsQ2hhbmdlZChlLCBvcHRzKSB7CiAgICBvcHRzID0gb3B0cyB8fCB7fTsKICAgIGhpc3RvcnkucHVzaCgiIyIgKyAoZG9jdW1lbnQubG9jYXRpb24uaHJlZi5zcGxpdCgiIyIpWzFdIHx8ICIiKSk7CiAgICB0cmlnZ2VyKCJHRVQiLCAiIyIgKyAoZG9jdW1lbnQubG9jYXRpb24uaHJlZi5zcGxpdCgiIyIpWzFdIHx8ICIiKSwgbnVsbCwgbnVsbCwgb3B0cyk7CiAgfQoKICBmdW5jdGlvbiBmb3J3YXJkKHVybCkgewogICAgdHJpZ2dlcigiR0VUIiwgdXJsKTsKICB9CgogIGZ1bmN0aW9uIGZvcm1TdWJtaXR0ZWQoZSkgewoKICAgIGUucHJldmVudERlZmF1bHQoKTsKICAgIHZhciBhY3Rpb24gPSBlLnRhcmdldC5nZXRBdHRyaWJ1dGUoImFjdGlvbiIpOwoKICAgIGlmIChhY3Rpb25bMF0gPT09ICIjIikgewogICAgICB0cmlnZ2VyKCJQT1NUIiwgYWN0aW9uLCBlLCBzZXJpYWxpemUoZS50YXJnZXQpKTsKICAgIH0KICB9CgogIGZ1bmN0aW9uIHRyaWdnZXIodmVyYiwgdXJsLCBjdHgsIGRhdGEsIG9wdHMpIHsKCiAgICBvcHRzID0gb3B0cyB8fCB7fTsKICAgIGhhc2hwYXJhbXMgPSBbXTsKCiAgICAkLmVhY2goKHVybC5zcGxpdCgiPyIpWzFdIHx8ICIiKS5zcGxpdCgiJiIpLCBmdW5jdGlvbihpLCBwYXJhbSkgewogICAgICB2YXIgdG1wID0gcGFyYW0uc3BsaXQoIj0iKTsKICAgICAgaGFzaHBhcmFtc1t0bXBbMF1dID0gdG1wWzFdOwogICAgfSk7CgogICAgdmFyIG1hdGNoID0gbWF0Y2hQYXRoKHZlcmIsIHVybC5zcGxpdCgiPyIpWzBdKTsKCiAgICBpZiAobWF0Y2gpIHsKCiAgICAgIHZhciBhcmdzID0gbWF0Y2gubWF0Y2guc2xpY2UoMSk7CgogICAgICBpZiAodmVyYiA9PT0gIlBPU1QiKSB7CiAgICAgICAgYXJncy51bnNoaWZ0KGRhdGEpOwogICAgICAgIGFyZ3MudW5zaGlmdChjdHgpOwogICAgICB9CgogICAgICBpZiAobGFzdFBhZ2UgJiYgbGFzdFBhZ2UudW5sb2FkICYmIHZlcmIgPT09ICJHRVQiKSB7CiAgICAgICAgbGFzdFBhZ2UudW5sb2FkLmFwcGx5KHRoaXMsIGFyZ3MpOwogICAgICB9CgogICAgICB2YXIgb3BxID0gJC5leHRlbmQoe30sIG9wdHMsIG1hdGNoLmRldGFpbHMub3B0cyk7CiAgICAgIHZhciBpc0JhY2sgPSAoaGlzdG9yeS5sZW5ndGggPiAyICYmIHVybCA9PT0gaGlzdG9yeVtoaXN0b3J5Lmxlbmd0aC0zXSk7CgogICAgICBpZiAoaXNCYWNrKSB7CiAgICAgICAgb3BxLnJvdXRlciA9IG9wcS5yb3V0ZXIgfHwge307CiAgICAgICAgb3BxLnJvdXRlci5iYWNrID0gdHJ1ZTsKICAgICAgICBoaXN0b3J5Lmxlbmd0aCAtPSAyOwogICAgICB9CgogICAgICBpZiAobWF0Y2gubWF0Y2hbMF0gPT09ICIjLyIpIHsKICAgICAgICBvcHEucm91dGVyID0gb3BxLnJvdXRlciB8fCB7fTsKICAgICAgICBvcHEucm91dGVyLmhvbWUgPSB0cnVlOwogICAgICB9CgogICAgICBhcmdzLnVuc2hpZnQob3BxKTsKICAgICAgbWF0Y2guZGV0YWlscy5sb2FkLmFwcGx5KHRoaXMsIGFyZ3MpOwogICAgICBpZiAodmVyYiA9PT0gIkdFVCIpIHsKICAgICAgICBsYXN0UGFnZSA9IG1hdGNoLmRldGFpbHM7CiAgICAgIH0KICAgIH0KICB9CgogIGZ1bmN0aW9uIG1hdGNoZXNDdXJyZW50KG5lZWRsZSkgewogICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpLm1hdGNoKHRvUmVnZXgobmVlZGxlKSk7CiAgfQoKICBmdW5jdGlvbiBtYXRjaFBhdGgodmVyYiwgcGF0aCkgewogICAgdmFyIGksIHRtcCwgYXJyID0gcm91dGVzW3ZlcmJdOwogICAgZm9yIChpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICB0bXAgPSBwYXRoLm1hdGNoKHRvUmVnZXgoYXJyW2ldLnBhdGgpKTsKICAgICAgaWYgKHRtcCkgewogICAgICAgIHJldHVybiB7Im1hdGNoIjp0bXAsICJkZXRhaWxzIjphcnJbaV19OwogICAgICB9CiAgICB9CiAgICByZXR1cm4gZmFsc2U7CiAgfQoKICBmdW5jdGlvbiBzZXJpYWxpemUob2JqKSB7CiAgICB2YXIgbyA9IHt9OwogICAgdmFyIGEgPSAkKG9iaikuc2VyaWFsaXplQXJyYXkoKTsKICAgICQuZWFjaChhLCBmdW5jdGlvbigpIHsKICAgICAgaWYgKG9bdGhpcy5uYW1lXSkgewogICAgICAgIGlmICghb1t0aGlzLm5hbWVdLnB1c2gpIHsKICAgICAgICAgIG9bdGhpcy5uYW1lXSA9IFtvW3RoaXMubmFtZV1dOwogICAgICAgIH0KICAgICAgICBvW3RoaXMubmFtZV0ucHVzaCh0aGlzLnZhbHVlIHx8ICcnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvW3RoaXMubmFtZV0gPSB0aGlzLnZhbHVlIHx8ICcnOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBvOwogIH0KCiAgZnVuY3Rpb24gcHJldmlvdXMoeCkgewogICAgeCA9IHggfHwgMDsKICAgIHJldHVybiBoaXN0b3J5Lmxlbmd0aCA+ICgxICsgeCkgPyBoaXN0b3J5W2hpc3RvcnkubGVuZ3RoIC0gKDIgKyB4KV06IGZhbHNlOwogIH0KCiAgZnVuY3Rpb24gaGFzaHBhcmFtKGtleSkgewogICAgcmV0dXJuIGhhc2hwYXJhbXNba2V5XTsKICB9CgogIHJldHVybiB7IHByZXZpb3VzIDogcHJldmlvdXMKICAgICAgICAgLCByZWZyZXNoIDogcmVmcmVzaAogICAgICAgICAsIGZvcndhcmQgOiBmb3J3YXJkCiAgICAgICAgICwgYmFjayAgICA6IGJhY2sKICAgICAgICAgLCBnZXQgICAgIDogZ2V0CiAgICAgICAgICwgcG9zdCAgICA6IHBvc3QKICAgICAgICAgLCBpbml0ICAgIDogaW5pdAogICAgICAgICAsIG1hdGNoZXNDdXJyZW50IDogbWF0Y2hlc0N1cnJlbnQKICAgICAgICAgLCBoYXNocGFyYW0gOiBoYXNocGFyYW0KICAgICAgICAgLCBwYXJhbXMgOiBwYXJhbXMgfTsKCn0pOw=="},"js/mustache.js":{"content_type":"application/javascript","revpos":1,"digest":"md5-HNtaW/u6trWNdckQgDcQsA==","data":"LyoKICBtdXN0YWNoZS5qcyDigJQgTG9naWMtbGVzcyB0ZW1wbGF0ZXMgaW4gSmF2YVNjcmlwdAoKICBTZWUgaHR0cDovL211c3RhY2hlLmdpdGh1Yi5jb20vIGZvciBtb3JlIGluZm8uCiovCgp2YXIgTXVzdGFjaGUgPSBmdW5jdGlvbigpIHsKICB2YXIgUmVuZGVyZXIgPSBmdW5jdGlvbigpIHt9OwoKICBSZW5kZXJlci5wcm90b3R5cGUgPSB7CiAgICBvdGFnOiAie3siLAogICAgY3RhZzogIn19IiwKICAgIHByYWdtYXM6IHt9LAogICAgYnVmZmVyOiBbXSwKICAgIHByYWdtYXNfaW1wbGVtZW50ZWQ6IHsKICAgICAgIklNUExJQ0lULUlURVJBVE9SIjogdHJ1ZQogICAgfSwKICAgIGNvbnRleHQ6IHt9LAoKICAgIHJlbmRlcjogZnVuY3Rpb24odGVtcGxhdGUsIGNvbnRleHQsIHBhcnRpYWxzLCBpbl9yZWN1cnNpb24pIHsKICAgICAgLy8gcmVzZXQgYnVmZmVyICYgc2V0IGNvbnRleHQKICAgICAgaWYoIWluX3JlY3Vyc2lvbikgewogICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7CiAgICAgICAgdGhpcy5idWZmZXIgPSBbXTsgLy8gVE9ETzogbWFrZSB0aGlzIG5vbi1sYXp5CiAgICAgIH0KCiAgICAgIC8vIGZhaWwgZmFzdAogICAgICBpZighdGhpcy5pbmNsdWRlcygiIiwgdGVtcGxhdGUpKSB7CiAgICAgICAgaWYoaW5fcmVjdXJzaW9uKSB7CiAgICAgICAgICByZXR1cm4gdGVtcGxhdGU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2VuZCh0ZW1wbGF0ZSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CgogICAgICB0ZW1wbGF0ZSA9IHRoaXMucmVuZGVyX3ByYWdtYXModGVtcGxhdGUpOwogICAgICB2YXIgaHRtbCA9IHRoaXMucmVuZGVyX3NlY3Rpb24odGVtcGxhdGUsIGNvbnRleHQsIHBhcnRpYWxzKTsKICAgICAgaWYoaW5fcmVjdXJzaW9uKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyX3RhZ3MoaHRtbCwgY29udGV4dCwgcGFydGlhbHMsIGluX3JlY3Vyc2lvbik7CiAgICAgIH0KCiAgICAgIHRoaXMucmVuZGVyX3RhZ3MoaHRtbCwgY29udGV4dCwgcGFydGlhbHMsIGluX3JlY3Vyc2lvbik7CiAgICB9LAoKICAgIC8qCiAgICAgIFNlbmRzIHBhcnNlZCBsaW5lcwogICAgKi8KICAgIHNlbmQ6IGZ1bmN0aW9uKGxpbmUpIHsKICAgICAgaWYobGluZSAhPSAiIikgewogICAgICAgIHRoaXMuYnVmZmVyLnB1c2gobGluZSk7CiAgICAgIH0KICAgIH0sCgogICAgLyoKICAgICAgTG9va3MgZm9yICVQUkFHTUFTCiAgICAqLwogICAgcmVuZGVyX3ByYWdtYXM6IGZ1bmN0aW9uKHRlbXBsYXRlKSB7CiAgICAgIC8vIG5vIHByYWdtYXMKICAgICAgaWYoIXRoaXMuaW5jbHVkZXMoIiUiLCB0ZW1wbGF0ZSkpIHsKICAgICAgICByZXR1cm4gdGVtcGxhdGU7CiAgICAgIH0KCiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCh0aGlzLm90YWcgKyAiJShbXFx3LV0rKSA/KFtcXHddKz1bXFx3XSspPyIgKwogICAgICAgICAgICB0aGlzLmN0YWcpOwogICAgICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZShyZWdleCwgZnVuY3Rpb24obWF0Y2gsIHByYWdtYSwgb3B0aW9ucykgewogICAgICAgIGlmKCF0aGF0LnByYWdtYXNfaW1wbGVtZW50ZWRbcHJhZ21hXSkgewogICAgICAgICAgdGhyb3coe21lc3NhZ2U6IAogICAgICAgICAgICAiVGhpcyBpbXBsZW1lbnRhdGlvbiBvZiBtdXN0YWNoZSBkb2Vzbid0IHVuZGVyc3RhbmQgdGhlICciICsKICAgICAgICAgICAgcHJhZ21hICsgIicgcHJhZ21hIn0pOwogICAgICAgIH0KICAgICAgICB0aGF0LnByYWdtYXNbcHJhZ21hXSA9IHt9OwogICAgICAgIGlmKG9wdGlvbnMpIHsKICAgICAgICAgIHZhciBvcHRzID0gb3B0aW9ucy5zcGxpdCgiPSIpOwogICAgICAgICAgdGhhdC5wcmFnbWFzW3ByYWdtYV1bb3B0c1swXV0gPSBvcHRzWzFdOwogICAgICAgIH0KICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgLy8gaWdub3JlIHVua25vd24gcHJhZ21hcyBzaWxlbnRseQogICAgICB9KTsKICAgIH0sCgogICAgLyoKICAgICAgVHJpZXMgdG8gZmluZCBhIHBhcnRpYWwgaW4gdGhlIGN1cmVudCBzY29wZSBhbmQgcmVuZGVyIGl0CiAgICAqLwogICAgcmVuZGVyX3BhcnRpYWw6IGZ1bmN0aW9uKG5hbWUsIGNvbnRleHQsIHBhcnRpYWxzKSB7CiAgICAgIG5hbWUgPSB0aGlzLnRyaW0obmFtZSk7CiAgICAgIGlmKCFwYXJ0aWFscyB8fCBwYXJ0aWFsc1tuYW1lXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhyb3coe21lc3NhZ2U6ICJ1bmtub3duX3BhcnRpYWwgJyIgKyBuYW1lICsgIicifSk7CiAgICAgIH0KICAgICAgaWYodHlwZW9mKGNvbnRleHRbbmFtZV0pICE9ICJvYmplY3QiKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKHBhcnRpYWxzW25hbWVdLCBjb250ZXh0LCBwYXJ0aWFscywgdHJ1ZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKHBhcnRpYWxzW25hbWVdLCBjb250ZXh0W25hbWVdLCBwYXJ0aWFscywgdHJ1ZSk7CiAgICB9LAoKICAgIC8qCiAgICAgIFJlbmRlcnMgaW52ZXJ0ZWQgKF4pIGFuZCBub3JtYWwgKCMpIHNlY3Rpb25zCiAgICAqLwogICAgcmVuZGVyX3NlY3Rpb246IGZ1bmN0aW9uKHRlbXBsYXRlLCBjb250ZXh0LCBwYXJ0aWFscykgewogICAgICBpZighdGhpcy5pbmNsdWRlcygiIyIsIHRlbXBsYXRlKSAmJiAhdGhpcy5pbmNsdWRlcygiXiIsIHRlbXBsYXRlKSkgewogICAgICAgIHJldHVybiB0ZW1wbGF0ZTsKICAgICAgfQoKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICAvLyBDU1cgLSBBZGRlZCAiKz8iIHNvIGl0IGZpbmRzIHRoZSB0aWdoZXN0IGJvdW5kLCBub3QgdGhlIHdpZGVzdAogICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKHRoaXMub3RhZyArICIoXFxefFxcIylcXHMqKC4rKVxccyoiICsgdGhpcy5jdGFnICsKICAgICAgICAgICAgICAiXG4qKFtcXHNcXFNdKz8pIiArIHRoaXMub3RhZyArICJcXC9cXHMqXFwyXFxzKiIgKyB0aGlzLmN0YWcgKwogICAgICAgICAgICAgICJcXHMqIiwgIm1nIik7CgogICAgICAvLyBmb3IgZWFjaCB7eyNmb299fXt7L2Zvb319IHNlY3Rpb24gZG8uLi4KICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UocmVnZXgsIGZ1bmN0aW9uKG1hdGNoLCB0eXBlLCBuYW1lLCBjb250ZW50KSB7CiAgICAgICAgdmFyIHZhbHVlID0gdGhhdC5maW5kKG5hbWUsIGNvbnRleHQpOwogICAgICAgIGlmKHR5cGUgPT0gIl4iKSB7IC8vIGludmVydGVkIHNlY3Rpb24KICAgICAgICAgIGlmKCF2YWx1ZSB8fCB0aGF0LmlzX2FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgLy8gZmFsc2Ugb3IgZW1wdHkgbGlzdCwgcmVuZGVyIGl0CiAgICAgICAgICAgIHJldHVybiB0aGF0LnJlbmRlcihjb250ZW50LCBjb250ZXh0LCBwYXJ0aWFscywgdHJ1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmKHR5cGUgPT0gIiMiKSB7IC8vIG5vcm1hbCBzZWN0aW9uCiAgICAgICAgICBpZih0aGF0LmlzX2FycmF5KHZhbHVlKSkgeyAvLyBFbnVtZXJhYmxlLCBMZXQncyBsb29wIQogICAgICAgICAgICByZXR1cm4gdGhhdC5tYXAodmFsdWUsIGZ1bmN0aW9uKHJvdykgewogICAgICAgICAgICAgIHJldHVybiB0aGF0LnJlbmRlcihjb250ZW50LCB0aGF0LmNyZWF0ZV9jb250ZXh0KHJvdyksCiAgICAgICAgICAgICAgICBwYXJ0aWFscywgdHJ1ZSk7CiAgICAgICAgICAgIH0pLmpvaW4oIiIpOwogICAgICAgICAgfSBlbHNlIGlmKHRoYXQuaXNfb2JqZWN0KHZhbHVlKSkgeyAvLyBPYmplY3QsIFVzZSBpdCBhcyBzdWJjb250ZXh0IQogICAgICAgICAgICByZXR1cm4gdGhhdC5yZW5kZXIoY29udGVudCwgdGhhdC5jcmVhdGVfY29udGV4dCh2YWx1ZSksCiAgICAgICAgICAgICAgcGFydGlhbHMsIHRydWUpOwogICAgICAgICAgfSBlbHNlIGlmKHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICAvLyBoaWdoZXIgb3JkZXIgc2VjdGlvbgogICAgICAgICAgICByZXR1cm4gdmFsdWUuY2FsbChjb250ZXh0LCBjb250ZW50LCBmdW5jdGlvbih0ZXh0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoYXQucmVuZGVyKHRleHQsIGNvbnRleHQsIHBhcnRpYWxzLCB0cnVlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYodmFsdWUpIHsgLy8gYm9vbGVhbiBzZWN0aW9uCiAgICAgICAgICAgIHJldHVybiB0aGF0LnJlbmRlcihjb250ZW50LCBjb250ZXh0LCBwYXJ0aWFscywgdHJ1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoKICAgICAgUmVwbGFjZSB7e2Zvb319IGFuZCBmcmllbmRzIHdpdGggdmFsdWVzIGZyb20gb3VyIHZpZXcKICAgICovCiAgICByZW5kZXJfdGFnczogZnVuY3Rpb24odGVtcGxhdGUsIGNvbnRleHQsIHBhcnRpYWxzLCBpbl9yZWN1cnNpb24pIHsKICAgICAgLy8gdGl0IGZvciB0YXQKICAgICAgdmFyIHRoYXQgPSB0aGlzOwoKICAgICAgdmFyIG5ld19yZWdleCA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBuZXcgUmVnRXhwKHRoYXQub3RhZyArICIoPXwhfD58XFx7fCUpPyhbXlxcLyNcXF5dKz8pXFwxPyIgKwogICAgICAgICAgdGhhdC5jdGFnICsgIisiLCAiZyIpOwogICAgICB9OwoKICAgICAgdmFyIHJlZ2V4ID0gbmV3X3JlZ2V4KCk7CiAgICAgIHZhciB0YWdfcmVwbGFjZV9jYWxsYmFjayA9IGZ1bmN0aW9uKG1hdGNoLCBvcGVyYXRvciwgbmFtZSkgewogICAgICAgIHN3aXRjaChvcGVyYXRvcikgewogICAgICAgIGNhc2UgIiEiOiAvLyBpZ25vcmUgY29tbWVudHMKICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICBjYXNlICI9IjogLy8gc2V0IG5ldyBkZWxpbWl0ZXJzLCByZWJ1aWxkIHRoZSByZXBsYWNlIHJlZ2V4cAogICAgICAgICAgdGhhdC5zZXRfZGVsaW1pdGVycyhuYW1lKTsKICAgICAgICAgIHJlZ2V4ID0gbmV3X3JlZ2V4KCk7CiAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgY2FzZSAiPiI6IC8vIHJlbmRlciBwYXJ0aWFsCiAgICAgICAgICByZXR1cm4gdGhhdC5yZW5kZXJfcGFydGlhbChuYW1lLCBjb250ZXh0LCBwYXJ0aWFscyk7CiAgICAgICAgY2FzZSAieyI6IC8vIHRoZSB0cmlwbGUgbXVzdGFjaGUgaXMgdW5lc2NhcGVkCiAgICAgICAgICByZXR1cm4gdGhhdC5maW5kKG5hbWUsIGNvbnRleHQpOwogICAgICAgIGRlZmF1bHQ6IC8vIGVzY2FwZSB0aGUgdmFsdWUKICAgICAgICAgIHJldHVybiB0aGF0LmVzY2FwZSh0aGF0LmZpbmQobmFtZSwgY29udGV4dCkpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgdmFyIGxpbmVzID0gdGVtcGxhdGUuc3BsaXQoIlxuIik7CiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykgewogICAgICAgIGxpbmVzW2ldID0gbGluZXNbaV0ucmVwbGFjZShyZWdleCwgdGFnX3JlcGxhY2VfY2FsbGJhY2ssIHRoaXMpOwogICAgICAgIGlmKCFpbl9yZWN1cnNpb24pIHsKICAgICAgICAgIHRoaXMuc2VuZChsaW5lc1tpXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZihpbl9yZWN1cnNpb24pIHsKICAgICAgICByZXR1cm4gbGluZXMuam9pbigiXG4iKTsKICAgICAgfQogICAgfSwKCiAgICBzZXRfZGVsaW1pdGVyczogZnVuY3Rpb24oZGVsaW1pdGVycykgewogICAgICB2YXIgZGVscyA9IGRlbGltaXRlcnMuc3BsaXQoIiAiKTsKICAgICAgdGhpcy5vdGFnID0gdGhpcy5lc2NhcGVfcmVnZXgoZGVsc1swXSk7CiAgICAgIHRoaXMuY3RhZyA9IHRoaXMuZXNjYXBlX3JlZ2V4KGRlbHNbMV0pOwogICAgfSwKCiAgICBlc2NhcGVfcmVnZXg6IGZ1bmN0aW9uKHRleHQpIHsKICAgICAgLy8gdGhhbmsgeW91IFNpbW9uIFdpbGxpc29uCiAgICAgIGlmKCFhcmd1bWVudHMuY2FsbGVlLnNSRSkgewogICAgICAgIHZhciBzcGVjaWFscyA9IFsKICAgICAgICAgICcvJywgJy4nLCAnKicsICcrJywgJz8nLCAnfCcsCiAgICAgICAgICAnKCcsICcpJywgJ1snLCAnXScsICd7JywgJ30nLCAnXFwnCiAgICAgICAgXTsKICAgICAgICBhcmd1bWVudHMuY2FsbGVlLnNSRSA9IG5ldyBSZWdFeHAoCiAgICAgICAgICAnKFxcJyArIHNwZWNpYWxzLmpvaW4oJ3xcXCcpICsgJyknLCAnZycKICAgICAgICApOwogICAgICB9CiAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoYXJndW1lbnRzLmNhbGxlZS5zUkUsICdcXCQxJyk7CiAgICB9LAoKICAgIC8qCiAgICAgIGZpbmQgYG5hbWVgIGluIGN1cnJlbnQgYGNvbnRleHRgLiBUaGF0IGlzIGZpbmQgbWUgYSB2YWx1ZQogICAgICBmcm9tIHRoZSB2aWV3IG9iamVjdAogICAgKi8KICAgIGZpbmQ6IGZ1bmN0aW9uKG5hbWUsIGNvbnRleHQpIHsKICAgICAgbmFtZSA9IHRoaXMudHJpbShuYW1lKTsKCiAgICAgIC8vIENoZWNrcyB3aGV0aGVyIGEgdmFsdWUgaXMgdGhydXRoeSBvciBmYWxzZSBvciAwCiAgICAgIGZ1bmN0aW9uIGlzX2tpbmRhX3RydXRoeShib29sKSB7CiAgICAgICAgcmV0dXJuIGJvb2wgPT09IGZhbHNlIHx8IGJvb2wgPT09IDAgfHwgYm9vbDsKICAgICAgfQoKICAgICAgdmFyIHZhbHVlOwogICAgICBpZihpc19raW5kYV90cnV0aHkoY29udGV4dFtuYW1lXSkpIHsKICAgICAgICB2YWx1ZSA9IGNvbnRleHRbbmFtZV07CiAgICAgIH0gZWxzZSBpZihpc19raW5kYV90cnV0aHkodGhpcy5jb250ZXh0W25hbWVdKSkgewogICAgICAgIHZhbHVlID0gdGhpcy5jb250ZXh0W25hbWVdOwogICAgICB9CgogICAgICBpZih0eXBlb2YgdmFsdWUgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICByZXR1cm4gdmFsdWUuYXBwbHkoY29udGV4dCk7CiAgICAgIH0KICAgICAgaWYodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgfQogICAgICAvLyBzaWxlbnRseSBpZ25vcmUgdW5rb3duIHZhcmlhYmxlcwogICAgICByZXR1cm4gIiI7CiAgICB9LAoKICAgIC8vIFV0aWxpdHkgbWV0aG9kcwoKICAgIC8qIGluY2x1ZGVzIHRhZyAqLwogICAgaW5jbHVkZXM6IGZ1bmN0aW9uKG5lZWRsZSwgaGF5c3RhY2spIHsKICAgICAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YodGhpcy5vdGFnICsgbmVlZGxlKSAhPSAtMTsKICAgIH0sCgogICAgLyoKICAgICAgRG9lcyBhd2F5IHdpdGggbmFzdHkgY2hhcmFjdGVycwogICAgKi8KICAgIGVzY2FwZTogZnVuY3Rpb24ocykgewogICAgICBzID0gU3RyaW5nKHMgPT09IG51bGwgPyAiIiA6IHMpOwogICAgICByZXR1cm4gcy5yZXBsYWNlKC8mKD8hXHcrOyl8WyI8PlxcXS9nLCBmdW5jdGlvbihzKSB7CiAgICAgICAgc3dpdGNoKHMpIHsKICAgICAgICBjYXNlICImIjogcmV0dXJuICImYW1wOyI7CiAgICAgICAgY2FzZSAiXFwiOiByZXR1cm4gIlxcXFwiOwogICAgICAgIGNhc2UgJyInOiByZXR1cm4gJ1wiJzsKICAgICAgICBjYXNlICI8IjogcmV0dXJuICImbHQ7IjsKICAgICAgICBjYXNlICI+IjogcmV0dXJuICImZ3Q7IjsKICAgICAgICBkZWZhdWx0OiByZXR1cm4gczsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvLyBieSBAbGFuZ2FsZXgsIHN1cHBvcnQgZm9yIGFycmF5cyBvZiBzdHJpbmdzCiAgICBjcmVhdGVfY29udGV4dDogZnVuY3Rpb24oX2NvbnRleHQpIHsKICAgICAgaWYodGhpcy5pc19vYmplY3QoX2NvbnRleHQpKSB7CiAgICAgICAgcmV0dXJuIF9jb250ZXh0OwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBpdGVyYXRvciA9ICIuIjsKICAgICAgICBpZih0aGlzLnByYWdtYXNbIklNUExJQ0lULUlURVJBVE9SIl0pIHsKICAgICAgICAgIGl0ZXJhdG9yID0gdGhpcy5wcmFnbWFzWyJJTVBMSUNJVC1JVEVSQVRPUiJdLml0ZXJhdG9yOwogICAgICAgIH0KICAgICAgICB2YXIgY3R4ID0ge307CiAgICAgICAgY3R4W2l0ZXJhdG9yXSA9IF9jb250ZXh0OwogICAgICAgIHJldHVybiBjdHg7CiAgICAgIH0KICAgIH0sCgogICAgaXNfb2JqZWN0OiBmdW5jdGlvbihhKSB7CiAgICAgIHJldHVybiBhICYmIHR5cGVvZiBhID09ICJvYmplY3QiOwogICAgfSwKCiAgICBpc19hcnJheTogZnVuY3Rpb24oYSkgewogICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpID09PSAnW29iamVjdCBBcnJheV0nOwogICAgfSwKCiAgICAvKgogICAgICBHZXRzIHJpZCBvZiBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlCiAgICAqLwogICAgdHJpbTogZnVuY3Rpb24ocykgewogICAgICByZXR1cm4gcy5yZXBsYWNlKC9eXHMqfFxzKiQvZywgIiIpOwogICAgfSwKCiAgICAvKgogICAgICBXaHksIHdoeSwgd2h5PyBCZWNhdXNlIElFLiBDcnksIGNyeSBjcnkuCiAgICAqLwogICAgbWFwOiBmdW5jdGlvbihhcnJheSwgZm4pIHsKICAgICAgaWYgKHR5cGVvZiBhcnJheS5tYXAgPT0gImZ1bmN0aW9uIikgewogICAgICAgIHJldHVybiBhcnJheS5tYXAoZm4pOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByID0gW107CiAgICAgICAgdmFyIGwgPSBhcnJheS5sZW5ndGg7CiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGw7IGkrKykgewogICAgICAgICAgci5wdXNoKGZuKGFycmF5W2ldKSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByOwogICAgICB9CiAgICB9CiAgfTsKCiAgcmV0dXJuKHsKICAgIG5hbWU6ICJtdXN0YWNoZS5qcyIsCiAgICB2ZXJzaW9uOiAiMC4zLjEtZGV2IiwKCiAgICAvKgogICAgICBUdXJucyBhIHRlbXBsYXRlIGFuZCB2aWV3IGludG8gSFRNTAogICAgKi8KICAgIHRvX2h0bWw6IGZ1bmN0aW9uKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscywgc2VuZF9mdW4pIHsKICAgICAgdmFyIHJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKCk7CiAgICAgIGlmKHNlbmRfZnVuKSB7CiAgICAgICAgcmVuZGVyZXIuc2VuZCA9IHNlbmRfZnVuOwogICAgICB9CiAgICAgIHJlbmRlcmVyLnJlbmRlcih0ZW1wbGF0ZSwgdmlldywgcGFydGlhbHMpOwogICAgICBpZighc2VuZF9mdW4pIHsKICAgICAgICByZXR1cm4gcmVuZGVyZXIuYnVmZmVyLmpvaW4oIlxuIik7CiAgICAgIH0KICAgIH0KICB9KTsKfSgpOwo="}}}